{"version":3,"kind":"Notebook","sha256":"aad96a06b607a6b8c241fbcf4931333fc5ae64606ca68a4291abf08c429b4d55","slug":"notebooks.features.add-data-products","location":"/notebooks/features/add_data_products.ipynb","dependencies":[],"frontmatter":{"title":"Use different data products w/ the CrocoDash Data Access Module","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"CrocoDash","language":"python"},"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":3}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/features/add_data_products.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/features/add_data_products.ipynb","exports":[{"format":"ipynb","filename":"add_data_products.ipynb","url":"/CrocoGallery/pr-28/build/add_data_products-36c128b81e8e8283ccfb0cc6984e248d.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This module can be used with case.configure_forcings to find different ways to access raw data from data sources. Just supply data product name and function name in the following manner:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nsXbdwhAYq"}],"key":"RKb4DYa7w5"}],"key":"UGuNgSRzfu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"case.configure_forcing(...other_arguments..., \nproduct_name = \"product_name\", \nfunction_name = \"function_name\")","key":"rl3HBCGyVT"},{"type":"outputs","id":"_SVgA7QJHhUDCULQ6yuWe","children":[],"key":"IOPnE0i3E2"}],"key":"IbBe69XbmW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Available products and functions can be found in the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KQdP5Fy9a8"},{"type":"link","url":"https://crocodile-cesm.github.io/CrocoDash/datasets.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qclRFw25h6"}],"urlSource":"https://crocodile-cesm.github.io/CrocoDash/datasets.html","key":"W9huFOEBXG"},{"type":"text","value":" and in the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Wr6oOzTLvj"},{"type":"inlineCode","value":"raw_data_access","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fDmVFvm11W"},{"type":"text","value":" helper functions shown below. A full list of available functions & products can be accessed in the same documentation.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"V6CYT0HU0l"}],"key":"XG0JJaj9he"}],"key":"LznrQx5wvv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.raw_data_access import driver\nfrom CrocoDash.raw_data_access import config as tb","key":"D7GP6Ohjnh"},{"type":"outputs","id":"60ksUyxm7JbYYF3KXhXHl","children":[],"key":"h8PE4rCxYM"}],"key":"Z38u0OXMlv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pfr_obj = driver.ProductFunctionRegistry()\npfr_obj.load_functions()\npfr_obj.functions","key":"xjlUfVN90Q"},{"type":"outputs","id":"mav-C7Xp2sJiukJObC1Kb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"{'GLORYS': {'get_glorys_data_from_cds_api': <function CrocoDash.data_access.glorys.get_glorys_data_from_cds_api(dates, lat_min, lat_max, lon_min, lon_max, output_dir=None, output_file=None)>,\n  'get_glorys_data_from_rda': <function CrocoDash.data_access.glorys.get_glorys_data_from_rda(dates: list, lat_min, lat_max, lon_min, lon_max, output_dir=PosixPath('.'), output_file='raw_glorys.nc') -> xarray.core.dataset.Dataset>,\n  'get_glorys_data_script_for_cli': <function CrocoDash.data_access.glorys.get_glorys_data_script_for_cli(dates: tuple, lat_min, lat_max, lon_min, lon_max, output_dir, output_file) -> None>}}","content_type":"text/plain"}}},"children":[],"key":"ZRPE0Wk7E5"}],"key":"EGEGamcMoo"}],"key":"uzx3suTDzz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tb.list_products()","key":"rZ6keO3Kdx"},{"type":"outputs","id":"7tR4HOEBhtN645Lg0oBjL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"['GLORYS',\n 'GEBCO',\n 'TPXO',\n 'GLOFAS',\n 'CESM Inputdata Repo (Bathymetry)',\n 'CESM Inputdata Repo (Grids)']","content_type":"text/plain"}}},"children":[],"key":"oQn3JxgPo6"}],"key":"az64KurN8x"}],"key":"jwTPNlW23j"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tb.list_functions(\"GLORYS\")","key":"rdkNkGEaCg"},{"type":"outputs","id":"bRngDx83kiLBCLVJKLBkm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/plain":{"content":"['get_glorys_data_from_cds_api',\n 'get_glorys_data_from_rda',\n 'get_glorys_data_script_for_cli']","content_type":"text/plain"}}},"children":[],"key":"lxSYYikolz"}],"key":"zs400vlY98"}],"key":"Fxnqm1VUw4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tb.type_of_function(\"GLORYS\",\"get_glorys_data_from_cds_api\")","key":"wr6bvvjuXF"},{"type":"outputs","id":"UujVB11m-masj2xInJ0_R","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"'PYTHON'","content_type":"text/plain"}}},"children":[],"key":"RoGP7meZMO"}],"key":"nW3q6CkdsF"}],"key":"MDwhnrxzyq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"case.configure_forcing(date_range = [\"2020-01-01 00:00:00\", \"2020-01-09 00:00:00\"], \n                       product_name = \"product_name\", \n                       function_name = \"function_name\")","key":"DmrLUlpTCL"},{"type":"outputs","id":"sJiW3u0fclFZNUAEnBjQ5","children":[],"key":"mE3o626iTM"}],"key":"DSEyZgJKps"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Accessing non-forcing raw data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lq36URog2p"}],"identifier":"accessing-non-forcing-raw-data","label":"Accessing non-forcing raw data","html_id":"accessing-non-forcing-raw-data","implicit":true,"key":"S0v5oxGVYi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Apart from accessing forcing products through case.configure_forcings(), we can access products like GEBCO, SEAWIFS, GLOFAS, etc.. through importing the raw data access module, like below.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ZQtGOC59ec"}],"key":"c1ZMvLF3Es"}],"key":"sHlGRiS1yV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Import the specific module (which can be found by looking at the API Documentation: https://crocodile-cesm.github.io/CrocoDash/api-docs/CrocoDash.raw_data_access.datasets.html)\nfrom CrocoDash.raw_data_access.datasets import glofas as gl\n\n# Then call the function\ngl.get_processed_global_glofas_script_for_cli(output_dir=tmp_path, output_file=\"glofas_processed_data.nc\")","key":"gJc6jK1Uo4"},{"type":"outputs","id":"BAbOF9zDKTqK4Ng5fAyvK","children":[],"key":"fsY3Y9Sw0V"}],"key":"NbMrzwZOnp"}],"key":"WYSOLOslU5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","url":"/notebooks/features/too-much-data","group":"Data Product Tutorials"},"next":{"title":"Add data runoff from GLOFAS or JRA to the Run","url":"/notebooks/features/add-rof","group":"Additional Component Tutorials"}}},"domain":"http://localhost:3000"}