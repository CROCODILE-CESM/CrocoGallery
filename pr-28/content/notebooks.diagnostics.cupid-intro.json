{"version":3,"kind":"Article","sha256":"60d2a19c47d0be7c8932177e253ef683e4a063ad0fbbabcc0ba92dbcfcad366e","slug":"notebooks.diagnostics.cupid-intro","location":"/notebooks/diagnostics/CUPiD_intro.md","dependencies":[],"frontmatter":{"title":"Installing CUPiD","content_includes_title":false,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":2}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/diagnostics/CUPiD_intro.md","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/CUPiD_intro.md","thumbnail":"/Jupyter_Terminal-4d6dc1121514c7d1c54c893a791245f4.png","exports":[{"format":"md","filename":"CUPiD_intro.md","url":"/CUPiD_intro-8f8e466b1b1b9447ca359717d6b3531d.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This page follows the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OLEouuI2HP"},{"type":"link","url":"https://ncar.github.io/CUPiD/#installing","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"CUPiD Installation Documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ij1kkUzbbg"}],"urlSource":"https://ncar.github.io/CUPiD/#installing","key":"MBDL2VdoWs"},{"type":"text","value":",\nwith some tweaks specific to the NCAR super computer.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Qum9DtSkAX"}],"key":"VP6AslwJbv"},{"type":"div","class":"alert","style":{"backgroundColor":"rgb(255,126,185)","color":"#5C0029","borderColor":"rgb(255,126,185)"},"children":[{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"Checkpoint #1","key":"vmzK2Xoix6"}],"key":"xtozdeomip"}],"identifier":"checkpoint-1","label":"Checkpoint #1","html_id":"checkpoint-1","implicit":true,"key":"fBGJYJ3GHU"},{"type":"paragraph","children":[{"type":"text","value":"At this point you should have a running JupyterHub instance.","key":"apvgoJPVs1"}],"key":"pmivabwz9l"}],"key":"VjkW16gPAt"},{"type":"heading","depth":2,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Task 0: Open a Terminal in JupyterHub for this Activity","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"kYTEfWLdxX"}],"identifier":"task-0-open-a-terminal-in-jupyterhub-for-this-activity","label":"Task 0: Open a Terminal in JupyterHub for this Activity","html_id":"task-0-open-a-terminal-in-jupyterhub-for-this-activity","implicit":true,"key":"cLFlab1t4m"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"0.1 Navigate to your ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"KvgW4jIf0s"},{"type":"inlineCode","value":"crocodile_2025","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"SfYhRotBnX"},{"type":"text","value":" directory","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gXIMSGccfA"}],"identifier":"id-0-1-navigate-to-your-crocodile-2025-directory","label":"0.1 Navigate to your crocodile_2025 directory","html_id":"id-0-1-navigate-to-your-crocodile-2025-directory","implicit":true,"key":"IUq3L63G4u"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"We all have a directory that we have been using all week for the practical exercises.\nThe full path to this should be: ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BhbNU135nn"},{"type":"inlineCode","value":"/glade/work/${USER}/crocodile_2025","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Cdfu248QYm"},{"type":"text","value":".\nTo access this directory:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"bs74a1Lysj"}],"key":"rXLJKbEtuj"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"vtpjqeSg64"},{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"File","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WYdM0mZ1RD"}],"key":"wUicTqE1Gk"},{"type":"text","value":" in the top left and select ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"RZFzeitNVH"},{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Open from Path...","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"iSuB4uXngr"}],"key":"ySTet54Qsb"}],"key":"dpymtxCYjJ"}],"key":"WAC7tr96c0"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the pop-up field enter: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"p2LCUU1Ner"},{"type":"inlineCode","value":"/work/${USER}/crocodile_2025","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"EWtzZnXURJ"}],"key":"SO0LbihzjA"}],"key":"nqAGNCeTfO"}],"key":"g0TUUsU0CS"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Note that JupyterHub references the filesystem relative to ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"szyPSqzmiN"},{"type":"inlineCode","value":"/glade","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"QY9sq05u9j"},{"type":"text","value":",\nso we don’t need include that part of the path in step 2 above.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"zwxKxYMhlQ"}],"key":"X4s92Gx8Be"},{"type":"heading","depth":3,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"0.2 Open a terminal","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"JNgWL6yQ17"}],"identifier":"id-0-2-open-a-terminal","label":"0.2 Open a terminal","html_id":"id-0-2-open-a-terminal","implicit":true,"key":"weexOFSDdP"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Open a Terminal instance by scrolling all the way down in the launcher tab and selecting ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"EWxMrxgLJI"},{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Terminal","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"mm0lAMrL1S"}],"key":"Sli66IQFDZ"},{"type":"text","value":".\n","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"F2mro74Nlq"},{"type":"image","url":"/Jupyter_Terminal-4d6dc1121514c7d1c54c893a791245f4.png","alt":"Jupyter Terminal","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"nHkzqMtvYO","urlSource":"../../images/CUPiD/Jupyter_Terminal.png"},{"type":"text","value":"\nThis will open a terminal with the following prompt:\n","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"NWc2k9C4X4"},{"type":"inlineCode","value":"USERNAME@crhtcXX:/glade/work/USERNAME/crocodile_2025>","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"JL4ZD00Lxa"}],"key":"PcnrlSIm8I"},{"type":"heading","depth":2,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Task 1: Clone CUPiD and Install Environments","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"BaeYJwcF4Q"}],"identifier":"task-1-clone-cupid-and-install-environments","label":"Task 1: Clone CUPiD and Install Environments","html_id":"task-1-clone-cupid-and-install-environments","implicit":true,"key":"MX9xVLGp1r"},{"type":"paragraph","position":{"start":{"line":34,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"CUPiD is available from the NCAR organization on ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"hCFvYO4PXH"},{"type":"link","url":"https://github.com/NCAR/CUPiD","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"github.com","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KxpfoONiWd"}],"urlSource":"https://github.com/NCAR/CUPiD","error":true,"key":"Z95cvt8NJ2"},{"type":"text","value":".\nIt requires conda to manage a few different python environments.\nThe NCAR system administrators provide conda through a module,\nwhich you can access by running","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"IYDIr2C9sb"}],"key":"K8AEsfuqrC"},{"type":"code","lang":"bash","value":"module load conda","position":{"start":{"line":39,"column":1},"end":{"line":41,"column":1}},"key":"xcNC48ywIB"},{"type":"heading","depth":3,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"1.1: Clone the repository from github","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"EL1rdHM6NQ"}],"identifier":"id-1-1-clone-the-repository-from-github","label":"1.1: Clone the repository from github","html_id":"id-1-1-clone-the-repository-from-github","implicit":true,"key":"ww5GV3Bybz"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Running the following command will create a subdirectory named ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"Hdp8Gpz3Pg"},{"type":"inlineCode","value":"CUPiD","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"h936pSOGup"},{"type":"text","value":" in your current working directory:","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"uAcR2teLr3"}],"key":"kYyEXI8epC"},{"type":"code","lang":"bash","value":"git clone --recurse-submodules https://github.com/NCAR/CUPiD.git","position":{"start":{"line":47,"column":1},"end":{"line":49,"column":1}},"key":"jY8gjV1Plf"},{"type":"div","class":"alert","style":{"backgroundColor":"rgb(255,126,185)","color":"#5C0029","borderColor":"rgb(255,126,185)"},"children":[{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"Checkpoint #2","key":"EFY5MvChde"}],"key":"USbsHPTjn1"}],"identifier":"checkpoint-2","label":"Checkpoint #2","html_id":"checkpoint-2","implicit":true,"key":"hDMqyBMbxr"},{"type":"paragraph","children":[{"type":"text","value":"At this point you should have an open terminal in JupyterHub, the current working directory should be your ","key":"GLAb5s48dq"},{"type":"inlineCode","value":"crocodile_2025","key":"sYQVSE1P11"},{"type":"text","value":" workshop directory, and you should have successfully cloned the CUPiD repository.","key":"CkGuYNWSJz"}],"key":"mF3ANa7z8G"}],"key":"Pocu64XzeB"},{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"The rest of this tutorial will refer to the location you installed CUPiD as ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"nL03bzja8B"},{"type":"inlineCode","value":"${CUPID_ROOT}","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"E2jqyk4mWQ"},{"type":"text","value":".\nTo be able to copy and paste blocks of commands directly, we need to add the variable to your environment.","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"dwJ6cDrDhW"}],"key":"KqBgMAbR6Y"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"Most of you are using ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"HckGr9aqrS"},{"type":"inlineCode","value":"bash","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"HasvIQVD42"},{"type":"text","value":" or ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"AQlNGHS7wR"},{"type":"inlineCode","value":"zsh","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"CCXaiHJjdi"},{"type":"text","value":",\nwhich have been the default shell on Linux and Unix computers for a while now.\nTo set the environment variable run","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"fQrpmYqUc1"}],"key":"LiwZ4gEr8m"},{"type":"code","lang":"bash","value":"cd CUPiD\nexport CUPID_ROOT=`pwd -P`","position":{"start":{"line":66,"column":1},"end":{"line":69,"column":1}},"key":"yKrEQaFgQa"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"strong","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"MAz9f8Hsir"}],"key":"jKYkDrLTTx"},{"type":"text","value":" This environment variable only exists in this specific terminal.\nIt will need to exported again if you open a separate terminal,\nunless you modify your start files\n(see the ","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"N7X3K7hkJC"},{"type":"link","url":"https://ncar-hpc-docs.readthedocs.io/en/latest/environment-and-software/user-environment/customizing/","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"NCAR documentation for this process","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"FtODT6f0SF"}],"urlSource":"https://ncar-hpc-docs.readthedocs.io/en/latest/environment-and-software/user-environment/customizing/","key":"fMQ3Il1Rmu"},{"type":"text","value":" for more information).","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"svgdhE5n4N"}],"key":"In9uAAO4tZ"},{"type":"div","class":"alert alert-warning","children":[{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Using a different shell?","key":"UJvEUM0oEm"}],"key":"zurIbF391O"},{"type":"break","key":"HmkW13BuMG"},{"type":"paragraph","children":[{"type":"text","value":"If you have changed your shell to ","key":"LfyDFQ1OPJ"},{"type":"inlineCode","value":"csh","key":"rTy9mZ8vt8"},{"type":"text","value":" or ","key":"IX5zz42ESa"},{"type":"inlineCode","value":"tcsh","key":"rN1Rcf0lok"},{"type":"text","value":", you will want to run the following instead:","key":"D9ZwNcIOsG"}],"key":"mG3NhTvedh"},{"type":"code","lang":"bash","meta":null,"value":"cd CUPiD\nsetenv CUPID_ROOT `pwd -P`","key":"fNNj2YGBbk"},{"type":"paragraph","children":[{"type":"text","value":"If you do not know for a fact that you changed your shell, you can probably assume you are using ","key":"afN6hzNkca"},{"type":"inlineCode","value":"bash","key":"ITFrglsMnJ"},{"type":"text","value":". To know for sure, though, run","key":"UdaRxURMEk"}],"key":"jtvkUlgctt"},{"type":"code","lang":"bash","meta":null,"value":"echo $SHELL","key":"Mqsb4W4ksD"}],"key":"UwIulomIKR"}],"key":"oREls66SpK"},{"type":"heading","depth":3,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"1.2: Install two conda environments","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"Is5b162AZy"}],"identifier":"id-1-2-install-two-conda-environments","label":"1.2: Install two conda environments","html_id":"id-1-2-install-two-conda-environments","implicit":true,"key":"EfWkjm5zms"},{"type":"paragraph","position":{"start":{"line":101,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"CUPiD needs a python environment with specific packages installed to run the CUPiD tools,\nwhile the diagnostic notebooks provided with CUPiD need a different set of packages.","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"lKys8Um8HC"}],"key":"OBfJ5UXZKh"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"To run CUPiD itself we use the ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"XuFThrIYLu"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"Q0uPlgG1Ok"},{"type":"text","value":" environment, then CUPiD runs the diagnostics notebooks with ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"B7vURWG38K"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"OGzAu4B5F2"},{"type":"text","value":".\nWe will use ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"Knsa1xuoAH"},{"type":"inlineCode","value":"mamba","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"hbYagEAKRG"},{"type":"text","value":" to install these environments and the ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"Z1VLSbvWuI"},{"type":"inlineCode","value":"--yes","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"zYCzMHPKOF"},{"type":"text","value":" option to avoid ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"UPFxDKU81Q"},{"type":"inlineCode","value":"mamba","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"GCvBuD2ogL"},{"type":"text","value":" waiting for approval before continuing with the install:","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"RML3QeJC8h"}],"key":"PiO4mRkDlK"},{"type":"heading","depth":4,"position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Install ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"QkZ9o6AVQP"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"deU6KDe1rf"},{"type":"text","value":" and ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"laX9EoFONP"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"frw9KKchVy"}],"identifier":"install-cupid-infrastructure-and-cupid-analysis","label":"Install (cupid-infrastructure) and (cupid-analysis)","html_id":"install-cupid-infrastructure-and-cupid-analysis","implicit":true,"key":"sD4imDjBR6"},{"type":"code","lang":"bash","value":"cd ${CUPID_ROOT}\nmamba env create -f environments/cupid-infrastructure.yml --yes && \\\nmamba env create -f environments/cupid-analysis.yml --yes","position":{"start":{"line":109,"column":1},"end":{"line":113,"column":1}},"key":"LbZEKNw1UJ"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"strong","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Notes:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"ozPvRDnjsu"}],"key":"O00VNo5YAd"}],"key":"bmI5D3WbSV"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":117,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This is two separate commands separated by ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"obWG3ix0zr"},{"type":"inlineCode","value":"&&","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"b7Ko4xzCTm"},{"type":"text","value":";\nthe second command (installing ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"HqoExgayU2"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"UVRwd1oade"},{"type":"text","value":") will only run if the first command (installing ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"HBU99YQITe"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"Y8SRq1vEmN"},{"type":"text","value":" finishes successfully).\nAlso, the ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"Gjgdar5kby"},{"type":"inlineCode","value":"\\","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"Jzlod9zVfn"},{"type":"text","value":" is a line continuation operator -\nwithout it, the command would be on a single line and very long.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"yTLbgjFJSO"}],"key":"Lliw5PEYY1"}],"key":"ygAWbD1U2d"},{"type":"listItem","spread":true,"position":{"start":{"line":121,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If you remove the ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"NK8cL6JdHE"},{"type":"inlineCode","value":"--yes","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"lg8qRlJxdW"},{"type":"text","value":" flag, ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"dWTUIcCy6C"},{"type":"inlineCode","value":"mamba","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"cFnUOpFaox"},{"type":"text","value":" will ask you to confirm the installation after it determines what packages will be installed.","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"a6BCXOySzS"}],"key":"wYQ4RVj4Hi"}],"key":"JKowQHXKXo"}],"key":"xvMPYPGaak"},{"type":"heading","depth":2,"position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"Basic Walkthrough of CUPiD (","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"dTgEkgmfUk"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"Yev0sYUWQs"},{"type":"text","value":" script and directory structure)","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"c2KWLGSB2x"}],"identifier":"basic-walkthrough-of-cupid-cupid-diagnostics-script-and-directory-structure","label":"Basic Walkthrough of CUPiD (cupid-diagnostics script and directory structure)","html_id":"basic-walkthrough-of-cupid-cupid-diagnostics-script-and-directory-structure","implicit":true,"key":"aqAEb67JNP"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"While the CUPiD environments install, let’s talk about how CUPiD works.\nCUPiD can provide diagnostics for a single run,\nor compare a single run to a single baseline run.\nFuture development will enable comparison of more than two different runs,\nbut the next exercise in this tutorial will be using CUPiD to create diagnostics for a single CESM case that has already been run.\nThis will be done by running the ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"kxVf4lrV6p"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"b3DBtkSPxy"},{"type":"text","value":" command from the ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"Py3yF4gBDQ"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"EuVMjLJdhP"},{"type":"text","value":" environment.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"wCPjDFfvCl"}],"key":"eb16ND20UN"},{"type":"code","lang":"","value":"(cupid-infrastructure) $ cupid-diagnostics --help\nUsage: cupid-diagnostics [OPTIONS] [CONFIG_PATH]\n\n  Main engine to set up running all the notebooks.\n\n  Args:     CONFIG_PATH: str, path to configuration file (default config.yml)\n\n  Returns:     None\n\n  Called by ``cupid-diagnostics``.\n\nOptions:\n  -s, --serial          Do not use LocalCluster objects\n  -atm, --atmosphere    Run atmosphere component diagnostics\n  -ocn, --ocean         Run ocean component diagnostics\n  -lnd, --land          Run land component diagnostics\n  -ice, --seaice        Run sea ice component diagnostics\n  -glc, --landice       Run land ice component diagnostics\n  -rof, --river-runoff  Run river runoff component diagnostics\n  -h, --help            Show this message and exit.","position":{"start":{"line":133,"column":1},"end":{"line":154,"column":1}},"key":"ngtCprxDt8"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"Notice that ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"h257S6fDLP"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"ZmX8coh5f0"},{"type":"text","value":" has a few options to allow you to run a subset of the default diagnostics,\nbut the ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"rsEyrEAQhO"},{"type":"inlineCode","value":"CONFIG_PATH","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"QV8uBwvhZ0"},{"type":"text","value":" argument (which defaults to ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"uZMp6C2lkr"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"cO7FEcfyLW"},{"type":"text","value":") is the important argument.\nCUPiD provides a set of examples (found in the ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"l2H2c2YEdy"},{"type":"inlineCode","value":"examples/","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"xX15rkA8CG"},{"type":"text","value":" directory),\neach with its own ","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"Fv9MMzLH4z"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"vUTedf1YKR"},{"type":"text","value":" file.","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"xXfRbLJfsY"}],"key":"uRPGPT68QC"},{"type":"paragraph","position":{"start":{"line":161,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"YuZX1cTGVo"},{"type":"link","url":"https://ncar.github.io/CUPiD/config.html","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"Configuration File","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"Pq4caDO5Qy"}],"urlSource":"https://ncar.github.io/CUPiD/config.html","key":"Ru5O2abCJz"},{"type":"text","value":" page of the CUPiD website goes into more detail looking at the ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"zRY6grCPQG"},{"type":"inlineCode","value":"key_metrics","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"bQ0aZvF3Gm"},{"type":"text","value":" example,\nbut in the ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"nH7Nv845KG"},{"type":"link","url":"/notebooks/diagnostics/standalone-cupid","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"Running a CUPiD Example","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"AMbJ67NUmR"}],"urlSource":"standalone_CUPiD","dataUrl":"/notebooks.diagnostics.standalone-cupid.json","internal":true,"protocol":"file","key":"ZDALq3M19o"},{"type":"text","value":" we will look at the ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"XGWB7Ek1YS"},{"type":"link","url":"https://github.com/NCAR/CUPiD/blob/main/examples/regional_ocean/config.yml","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"inlineCode","value":"config.yml","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"HAvXGptIhM"}],"urlSource":"https://github.com/NCAR/CUPiD/blob/main/examples/regional_ocean/config.yml","data":{"kind":"file","org":"NCAR","repo":"CUPiD","reference":"main","file":"examples/regional_ocean/config.yml","raw":"https://raw.githubusercontent.com/NCAR/CUPiD/main/examples/regional_ocean/config.yml"},"internal":false,"protocol":"github","key":"TilzgFXjQm"},{"type":"text","value":" file associated with the ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"qQzNOLI6Hg"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"v2kadeSLGq"},{"type":"text","value":" example.","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"G8W9rDA49d"}],"key":"mBoNtEEJ1l"},{"type":"heading","depth":3,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Directory Structure of CUPiD","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"BasWez9yQq"}],"identifier":"directory-structure-of-cupid","label":"Directory Structure of CUPiD","html_id":"directory-structure-of-cupid","implicit":true,"key":"mMZ6409C9O"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Before we dive into the details of how CUPiD works,\nlet’s take a broader view of the CUPiD directory structure.\nAs you can see in the ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"ODQYHrU8M5"},{"type":"link","url":"https://github.com/NCAR/CUPiD","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"CUPiD github repository","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"tFRff9cGis"}],"urlSource":"https://github.com/NCAR/CUPiD","error":true,"key":"g4PdERIFI9"},{"type":"text","value":",\nCUPiD has a bunch of subdirectories.\nFor this walkthrough, we’ll talk about on just four of them:","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"ctRDPVquJj"}],"key":"VWSNHtBTa8"},{"type":"image","url":"/dir_structure_toplev-a6d2d2b6dbd29a7ca385f3747fa817e0.png","alt":"A list of 11 directories; cupid, environments, examples, and nblibrary are circled","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"YD6DjbH3mu","urlSource":"../../images/CUPiD/dir_structure_toplevel.png"},{"type":"heading","depth":4,"position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"inlineCode","value":"cupid/","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"uH9hvAru3b"}],"identifier":"cupid","label":"cupid/","html_id":"cupid","implicit":true,"key":"lmkMP8Ajpt"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"This is the guts of the CUPiD python package that is installed  in ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"ZvLKSiOuSO"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"Co5SWM8tCK"},{"type":"text","value":"\n(e.g. ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"Ukrj8cFOmg"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"PrpKao1yRu"},{"type":"text","value":" runs ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"Yulrr9jB9J"},{"type":"inlineCode","value":"cupid/run_diagnostics.py","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"hluVEv80Vz"},{"type":"text","value":").\nSome of the more complex scripts are broken across multiple files:\n","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"xq1qXqZnuN"},{"type":"inlineCode","value":"cupid-timeseries","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"LGdDc613WI"},{"type":"text","value":" runs ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"R9lr2GgkFY"},{"type":"inlineCode","value":"cupid/run_timeseries.py","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"sAYWflULDm"},{"type":"text","value":",\nwhich imports functions from ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"RWGNSVfq4o"},{"type":"inlineCode","value":"cupid/timeseries.py","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"ecINk3nH8y"},{"type":"text","value":".","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"KxEWiMiC9R"}],"key":"I6ZsEni8ap"},{"type":"heading","depth":4,"position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"inlineCode","value":"environments/","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"dCawcEwicq"}],"identifier":"environments","label":"environments/","html_id":"environments","implicit":true,"key":"xpejughOTm"},{"type":"paragraph","position":{"start":{"line":184,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"P2VF8qQT8Y"},{"type":"inlineCode","value":"environments/","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"sAWOv6yMUm"},{"type":"text","value":" directory contains conda environment files for three different environments.\nYou are currently installing two of them:","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"JW99F8fWo0"}],"key":"vTKvdNOyIY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":187,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":187,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":187,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"inlineCode","value":"environments/cupid-infrastructure.yml","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"V7iJzzX6Xi"},{"type":"text","value":": builds ","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"p56MFHx4nv"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"KX1UNElYbd"},{"type":"text","value":",\nwhich provides the actual CUPiD functions, and","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"bMmp498jKj"}],"key":"TJBDCi5uUL"}],"key":"KAgYFQ4bed"},{"type":"listItem","spread":true,"position":{"start":{"line":190,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":190,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"inlineCode","value":"environments/cupid-analysis.yml","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"UevfbZk4oZ"},{"type":"text","value":": builds ","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"eFl9O1pvIn"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"gboDG0PXIA"},{"type":"text","value":",\nwhich provides an environment for CUPiD to use to run diagnostics notebooks.","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"WH6btsZrwN"}],"key":"ObkIVon1YS"}],"key":"jNHQpBzRUF"}],"key":"fDyPGrgaMj"},{"type":"paragraph","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"There is also","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"csmiDyLZNq"}],"key":"nVkMdSrkDS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":195,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":195,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"environments/docs.yml","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"KhFLaQRvfI"},{"type":"text","value":", which builds ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"x2JTdHpS1R"},{"type":"inlineCode","value":"(cupid-docs)","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"Bd1Y68QlQ2"},{"type":"text","value":"\n(used to create the CUPiD website).\nIt is not needed for most CUPiD users.","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"Q4awCcQKgu"}],"key":"B5zkgcUR3l"}],"key":"Q9aOJPkOyr"}],"key":"APHWnwY66i"},{"type":"heading","depth":4,"position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"inlineCode","value":"examples/","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"GPh5npmvJt"}],"identifier":"examples","label":"examples/","html_id":"examples","implicit":true,"key":"LuyI443Kdn"},{"type":"paragraph","position":{"start":{"line":201,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"XzwFdphj2h"},{"type":"inlineCode","value":"examples/","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"oGVUhxFSAC"},{"type":"text","value":" directory contains subdirectories,\neach with its own ","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"kf9hh8VFV3"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"r0W5VolTRh"},{"type":"text","value":" file:","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"VkeibWAYwC"}],"key":"ZybVZMp8Y3"},{"type":"image","url":"/dir_structure_exampl-38d931bbc9d9f4078f20fff00d958e7f.png","alt":"A list of 4 directories: additional_metrics, external_diag_packages, key_metrics, and regional_ocean","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"cq5QyK02iM","urlSource":"../../images/CUPiD/dir_structure_examples.png"},{"type":"paragraph","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"The directory names give a hint as to what the configuration file will provide:","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"Z8Q0zxxRvn"}],"key":"K6aBpWjbKI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":208,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":208,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":208,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"inlineCode","value":"key_metrics/","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"j7hgP0oasu"},{"type":"text","value":" is the workhorse example;\nit aims to give a brief summary of a fully coupled CESM run\n(and comparisons to a baseline case).","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"s1OHVoru9C"}],"key":"B3J5LTe08Z"}],"key":"Jz569DTiKx"},{"type":"listItem","spread":true,"position":{"start":{"line":212,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"inlineCode","value":"additional_metrics/","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"q2ZPdjeplq"},{"type":"text","value":" goes into more detail than ","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"D5WuTogN37"},{"type":"inlineCode","value":"key_metrics","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"j7K8uAOLYV"},{"type":"text","value":".\nAs you might imagine, it takes longer to run.","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"goIyCGrdSb"}],"key":"mZek829JAt"}],"key":"xYhDTPptIY"},{"type":"listItem","spread":true,"position":{"start":{"line":215,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":215,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"inlineCode","value":"external_diag_packages/","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"S3pTBmonKm"},{"type":"text","value":" pulls some key tables and figures from the output of the AMWG Diagnostic Framework (ADF),\nthe land equivalent (LDF),\nand the International Land Model Benchmarking (ILAMB) project,\nand also links to the full output of those packages.\nNote that ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"Y69HtMgShC"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"kxuHDkTStt"},{"type":"text","value":" does not run those packages directly,\nit expects the user to do so manually.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"ldLzpl0Rns"}],"key":"HBa9O5Dw6h"}],"key":"skhgylmJR5"},{"type":"listItem","spread":true,"position":{"start":{"line":222,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"children":[{"type":"inlineCode","value":"regional_ocean/","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"SeUaGQhd73"},{"type":"text","value":" contains four notebooks that look at output from a regional MOM6 CESM case.","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"pHBztWELtR"}],"key":"uG8yzvPL1Y"}],"key":"ebDSnyZuMT"}],"key":"Kw3xSSeEvi"},{"type":"paragraph","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"children":[{"type":"strong","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"children":[{"type":"text","value":"Spoiler alert:","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"GMw9R4xUkb"}],"key":"N7c0tWWwHi"},{"type":"text","value":" you’ll learn a lot more about ","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"gJkaffWhHn"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"nWfTJ4Y1yp"},{"type":"text","value":" on the next page.","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"m8pEKNmOpW"}],"key":"XA6fgM0Dre"},{"type":"heading","depth":4,"position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"inlineCode","value":"nblibrary/","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"cyYFujvyVO"}],"identifier":"nblibrary","label":"nblibrary/","html_id":"nblibrary","implicit":true,"key":"MqoBVOTS9a"},{"type":"paragraph","position":{"start":{"line":228,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"CUPiD curates a library of notebooks that can be run by ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"bXgZICOuht"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"w4RGZwQXTk"},{"type":"text","value":" if the ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"Tywm2tofVy"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"FkCahoYrhg"},{"type":"text","value":" file requests it.\nIt contains subdirectories for each component of CESM:","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"tQoU4lfR1c"}],"key":"AddgvEWjAI"},{"type":"image","url":"/dir_structure_nblibr-2dcec26f164295fb68430ac18d5a3300.png","alt":"A list of 7 directories: atm, glc, ice, infrastructure, lnd, ocn, rof","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"A4wKpo0tae","urlSource":"../../images/CUPiD/dir_structure_nblibrary.png"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"And then each subdirectory contains one or more notebooks.\nFor example, the ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"K2aMIrzKPR"},{"type":"inlineCode","value":"ocn/","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"YdawN34bks"},{"type":"text","value":" directory has:","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"YSYSLygcYp"}],"key":"kZoCuENbdi"},{"type":"image","url":"/dir_structure_nblibr-7714164b47395be75e7358352f751e92.png","alt":"A list of 6 files: Global_Ocean_Surface.ipynb,       Regional_Ocean_Atmospheric_Forcing.ipynb,  Regional_Ocean_Report_Card.ipynb, Regional_Ocean_Animations.ipynb, Regional_Ocean_OBC.ipynb, regional_utils.py","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"VXzgb1EODm","urlSource":"../../images/CUPiD/dir_structure_nblibrary_ocn.png"},{"type":"paragraph","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"strong","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"Spoiler alert:","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"ryS28X59Db"}],"key":"F42tZEyptB"},{"type":"text","value":" you’re going to run the four notebooks starting with ","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"YNg6KzhGwm"},{"type":"inlineCode","value":"Regional_Ocean_","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"QysiUsTdQ5"},{"type":"text","value":".","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"P1Zt8LmGxJ"}],"key":"Cqzi4VAeGf"},{"type":"paragraph","position":{"start":{"line":240,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"text","value":"If you want to create your own diagnostic notebook\n(we’ll talk about how to do that later in the afternoon),\nyou would add it to the repository in the appropriate subdirectory.","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"LyyMcDmdIS"}],"key":"CZvU9TX3Jt"}],"key":"CotzNl1E5u"}],"key":"pzObiA090B"},"references":{"cite":{"order":[],"data":{}}}}