{"version":3,"kind":"Article","sha256":"6ef976637622a8468e68034759b2f744edbfa6d2597d82889fb9aac2d9f39812","slug":"notebooks.diagnostics.standalone-cupid","location":"/notebooks/diagnostics/standalone_CUPiD.md","dependencies":[],"frontmatter":{"title":"Running a CUPiD Example","content_includes_title":false,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":2}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/diagnostics/standalone_CUPiD.md","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/standalone_CUPiD.md","thumbnail":"/data_sources-a3fd6d74d8f4516d115fa72c07360b76.png","exports":[{"format":"md","filename":"standalone_CUPiD.md","url":"/standalone_CUPiD-d6564a1dde70cfc0b472bc986cb32d13.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"CUPiD provides examples of configuration files to allow users to look at a variety of diagnostics in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qVgMnLihbZ"},{"type":"inlineCode","value":"CUPiD/examples","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LL1x1Mc1gN"},{"type":"text","value":".\nThese examples are designed to be run on the NCAR supercomputers,\nusing output curated from CESM development runs and stored in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZZmfjn1HaF"},{"type":"inlineCode","value":"/glade/campaign/cesm/development/cross-wg/diagnostic_framework/CESM_output_for_testing/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MurURX7OiE"},{"type":"text","value":".\nThe provided configuration files also act as templates for the CESM workflow, as discussed in the CUPiD project pages.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lTnqZS9q5t"}],"key":"AW7aTpnDVS"},{"type":"blockquote","position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"sHApuCVcCA"}],"key":"yIktZU1doo"},{"type":"text","value":" we actually access the example output through the CROCODILE workshop directory for simplicity: ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"yPLqhQcwWR"},{"type":"inlineCode","value":"/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ueo01bsF97"},{"type":"text","value":".\nIt just links back to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bkMA5NpZjY"},{"type":"inlineCode","value":"CESM_output_for_testing","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"vgsA9BTQmX"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"g856d5IscD"}],"key":"MZK3trvVQC"}],"key":"hFHhBMc3Uv"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"There is a ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CfMNbnT4uq"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"A8ZQA80Ufr"},{"type":"text","value":" example in CUPiD that provides diagnostics for a 10-month CESM run created with CrocoDash.\nThis run uses a 1/12Â° grid over the northwest Atlantic domain, and includes ocean biogeochemistry tracers from the Marine Biogeochemistry library (MARBL).\n(The compset used was ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"C57Po5z0hV"},{"type":"inlineCode","value":"1850_DATM%JRA_SLND_SICE_MOM6%MARBL-BIO_SROF_SGLC_SWAV_SESP","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CJCJ3ac7f3"},{"type":"text","value":".)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"H5uYmwZ0nF"}],"key":"brk3d9EeTl"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"For this exercise, we will run the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HNrCfVQhRh"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"vjsVMKTvco"},{"type":"text","value":" example in CUPiD.\nThis includes four notebooks:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"CZFaogYyBk"}],"key":"DOREtm9Q06"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Regional_Ocean_Report_Card.ipynb","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"SkiWthOiks"},{"type":"text","value":": basic plotting and analysis utilities, primarily focused on surface fields.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"By7lnWixD6"}],"key":"fiT5VaZMsl"}],"key":"NvIfrQHddq"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Regional_Ocean_Animations.ipynb","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"nheW7rTiTj"},{"type":"text","value":": create animations.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"qkLHg954gc"}],"key":"Sw8MgJ3lsd"}],"key":"dFg85KfWNS"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Regional_Ocean_Atmospheric_Forcing.ipynb","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"V5YDM80PvN"},{"type":"text","value":": look at atmospheric forcing at the surface.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"fLPG4Dr4RK"}],"key":"iSAoDcOZSM"}],"key":"HhE8dl5uK7"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Regional_Ocean_OBC.ipynb","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"LjKJUlkE8w"},{"type":"text","value":": visualize surface fields and open boundary conditions.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"VdUAIMTJeL"}],"key":"JreBbKQIxr"}],"key":"BExd71SvDi"}],"key":"gPjN7Pha5B"},{"type":"heading","depth":2,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Task 2: Letâ€™s Run CUPiD","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"XpuQNU5Z84"}],"identifier":"task-2-lets-run-cupid","label":"Task 2: Letâ€™s Run CUPiD","html_id":"task-2-lets-run-cupid","implicit":true,"key":"eioUxOuO5a"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Navigate to the examples subdirectory of your installation of CUPiD and look at whatâ€™s inside:","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"u1TXiixjt1"}],"key":"lVb4IKe3RI"},{"type":"code","lang":"bash","value":"cd ${CUPID_ROOT}/examples\nls","position":{"start":{"line":27,"column":1},"end":{"line":30,"column":1}},"key":"ORNtjvbYcf"},{"type":"div","class":"alert alert-warning","children":[{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Output","key":"Iepz5fG9AJ"}],"key":"ohu0DvjrGc"},{"type":"break","key":"FGLGrT6lsW"},{"type":"code","lang":"bash","meta":null,"value":"additional_metrics  external_diag_packages  key_metrics  regional_ocean","key":"XP5KbNHpap"}],"key":"OcXwGB7Jmy"}],"key":"MaOtHrEZVd"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"We will be using the ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"UJxXMO1KLx"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"DRsPlEmRZU"},{"type":"text","value":" example for this demo and the workshop:","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"NRHC6nYE9n"}],"key":"uo29754KDl"},{"type":"code","lang":"bash","value":"cd regional_ocean","position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"key":"UYmnfxguru"},{"type":"heading","depth":3,"position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"2.1 Confirm the Conda Environments Installed Correctly","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"OZpmYttzyf"}],"identifier":"id-2-1-confirm-the-conda-environments-installed-correctly","label":"2.1 Confirm the Conda Environments Installed Correctly","html_id":"id-2-1-confirm-the-conda-environments-installed-correctly","implicit":true,"key":"WtNLbCavr2"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"For a standalone CUPiD run (as opposed to running it from a CESM case),\nrun the ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"XePg5ZFEyN"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"rLmvmo7fYw"},{"type":"text","value":" command from the same directory as a ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"TrvooGU4X8"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"rkCIsIJgcD"},{"type":"text","value":" file.\nCUPiD will create a ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"gRWqZtZAVl"},{"type":"inlineCode","value":"computed_notebooks","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"y9SA7BSlcj"},{"type":"text","value":" directory for output.\nThis command will only be recognized in the ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"IOjuGFHhnN"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"WgOFMt92TM"},{"type":"text","value":" environment,\nso letâ€™s make sure the ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"r0IuLtB3Ph"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"aPV9m9zoaW"},{"type":"text","value":" and ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"pAH7i5BCRX"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"XCUWhdoUwH"},{"type":"text","value":" conda environments are fully installed for everyone.","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"F1Cn70zNET"}],"key":"xysICTE3Ql"},{"type":"code","lang":"bash","value":"conda activate cupid-infrastructure\nwhich cupid-diagnostics","position":{"start":{"line":56,"column":1},"end":{"line":59,"column":1}},"key":"Duo3zeupZx"},{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"If the environment installed correctly,\n","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"nE191LYUMB"},{"type":"inlineCode","value":"which","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"a71zWuw4G3"},{"type":"text","value":" will return a path to ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"eQDrK8fltX"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"J3CEdqAyMS"},{"type":"text","value":".\nIf the environment did not install correctly,\n","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"ocfM2FjfjF"},{"type":"inlineCode","value":"which","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"PSmS4ETcFA"},{"type":"text","value":" will return an error like ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"okCR2xi7Hj"},{"type":"inlineCode","value":"which: no cupid-diagnostics in [long list of directories]","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"CKD99bojoK"},{"type":"text","value":".","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"nsDwNK8knE"}],"key":"QsEqjHwHCm"},{"type":"div","class":"alert","style":{"backgroundColor":"rgb(255,126,185)","color":"#5C0029","borderColor":"rgb(255,126,185)"},"children":[{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"Checkpoint #3","key":"fv7fbfLGLX"}],"key":"GMC7z3ZTRQ"}],"identifier":"checkpoint-3","label":"Checkpoint #3","html_id":"checkpoint-3","implicit":true,"key":"IUtSVYfDrz"},{"type":"paragraph","children":[{"type":"text","value":"At this point the following should all be true:","key":"naXoXr4BYR"}],"key":"OF9FEj1Z2M"},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"your terminal is in CUPiDâ€™s ","key":"Pv4grGbdyJ"},{"type":"inlineCode","value":"examples/regional_ocean","key":"rkjlUTY0ca"},{"type":"text","value":" directory,","key":"p33NdHyT1G"}],"key":"DIFJQmm8Pz"}],"key":"xUt2feDV9o"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"the ","key":"J4CxoGWolp"},{"type":"inlineCode","value":"(cupid-infrastructure)","key":"H8wrbNaHyc"},{"type":"text","value":" conda environment is active, and","key":"wIefR0ZF9F"}],"key":"jCyHdMe7mX"}],"key":"roA2bbHKmm"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"the ","key":"NzbYN2MEvW"},{"type":"inlineCode","value":"which cupid-diagnostics","key":"sZKT70N0JT"},{"type":"text","value":" command found the ","key":"rzJPRD2FqR"},{"type":"inlineCode","value":"cupid-diagnostics","key":"TomyTAmY8V"},{"type":"text","value":" script.","key":"GmrsxQP7Ce"}],"key":"Q5Xzs0BMRM"}],"key":"nAfjlC8wQR"}],"key":"L5h2BEIJFK"}],"key":"MGdWRXien9"},{"type":"heading","depth":3,"position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"2.2 Time to Run CUPiD!","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"byR7yZOiuz"}],"identifier":"id-2-2-time-to-run-cupid","label":"2.2 Time to Run CUPiD!","html_id":"id-2-2-time-to-run-cupid","implicit":true,"key":"x3MtPFHx0R"},{"type":"div","class":"alert alert-danger","children":[{"type":"strong","children":[{"type":"text","value":"ðŸš¨ Conda and Jupyter might be Butting Heads ðŸš¨","key":"yEUaFb2srF"}],"key":"EgVxIFYNAe"},{"type":"paragraph","children":[{"type":"text","value":"Before moving on, we want to make sure Jupyter can recognize the ","key":"jJfpjhd1Qq"},{"type":"inlineCode","value":"cupid-analysis","key":"SQTVJBx5y5"},{"type":"text","value":" environment that will run all of the notebooks. This may not be an issue for you, but just to be safe, follow the steps below.","key":"JYT0ob1YGZ"}],"key":"yGUk4vaa1e"},{"type":"code","lang":"bash","meta":null,"value":"conda activate cupid-analysis\npython -m ipykernel install --user --name=cupid-analysis\nconda deactivate  # or `conda activate cupid-infrastructure`","key":"z2vEqwzTAo"},{"type":"paragraph","children":[{"type":"text","value":"Now you should be back in the ","key":"LDpSjUfuIQ"},{"type":"inlineCode","value":"cupid-infrastructure","key":"fWfa5IhCT8"},{"type":"text","value":" environment and ready to rumble.","key":"swBPN4d8Px"}],"key":"tf7XGrB6u7"}],"key":"DN1J19nbJS"},{"type":"paragraph","position":{"start":{"line":93,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Itâ€™s finally time to run CUPiD!\nFrom the same ","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"sYOyTESKuH"},{"type":"inlineCode","value":"${CUPID_ROOT}/examples/regional_ocean","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"j95FUfvYSW"},{"type":"text","value":" directory, run on one processor with:","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"mmW5LRTlLL"}],"key":"HlKwtZJ0VG"},{"type":"code","lang":"bash","value":"cupid-diagnostics --serial","position":{"start":{"line":96,"column":1},"end":{"line":98,"column":1}},"key":"rfR8yb5GaP"},{"type":"paragraph","position":{"start":{"line":100,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"This step might take some time, and we can track the progress with the output to terminal.\nIf you notice an error about CUPiD not being able to find the ","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"UmwUw2AE5c"},{"type":"inlineCode","value":"(cupid-analysis)","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"TYvOFfLuhI"},{"type":"text","value":" environment, make sure to check the red alert box above and install the ipykernel.","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"JFBbZ6T0GS"}],"key":"eGLGTk6f2b"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"The notebooks will be run in ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"Dlm4PjDcBK"},{"type":"inlineCode","value":"nblibrary","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"PLqqyj9r7Q"},{"type":"text","value":" and then copied to ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"uuKLQ8KYYg"},{"type":"inlineCode","value":"computed_notebooks/ocn","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"boftQaZmB7"},{"type":"text","value":" under the example directory.\nIf you want to rerun the notebooks, make sure to manually copy the ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"hGHz5pBnuB"},{"type":"inlineCode","value":"regional_utils.py","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"jo5DdJDglB"},{"type":"text","value":" file with:","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"mFc3vXaHJa"}],"key":"AgFcl58kNW"},{"type":"code","lang":"bash","value":"cp ../../nblibrary/ocn/regional_utils.py computed_notebooks/ocn/","position":{"start":{"line":106,"column":1},"end":{"line":108,"column":1}},"key":"dhOUKd1yZ6"},{"type":"paragraph","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"more on this and ","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"FuLSLQowCV"},{"type":"inlineCode","value":"cupid-webpage","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"XCu51SlynT"},{"type":"text","value":" below.","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"KzntSCbtiO"}],"key":"KHdtDAMCxz"},{"type":"heading","depth":2,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"CUPiD Configuration","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"dPEcw7opzz"}],"identifier":"cupid-configuration","label":"CUPiD Configuration","html_id":"cupid-configuration","implicit":true,"key":"NTagNAo8I6"},{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"While weâ€™re waiting for CUPiD, letâ€™s revisit the famous ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"NK7du1jfkT"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"Uiv5S8tdcU"},{"type":"text","value":" file. Itâ€™s delineated","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"UgAXiwLaMC"}],"key":"n87ESDs1ST"},{"type":"heading","depth":3,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"inlineCode","value":"data_sources","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"q5rZcreZTZ"},{"type":"text","value":" Section","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"g8WlaiOqz5"}],"identifier":"data-sources-section","label":"data_sources Section","html_id":"data-sources-section","implicit":true,"key":"Dlw4mmoLMV"},{"type":"paragraph","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"The first section in the ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"mOYCt1aI8D"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"fwKghn67WU"},{"type":"text","value":" file is ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"pmPGhA92Qu"},{"type":"inlineCode","value":"data_sources","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"NR3zd9qdYS"},{"type":"text","value":":","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"qhfgUncn7k"}],"key":"yYk8GpXuND"},{"type":"image","url":"/data_sources-a3fd6d74d8f4516d115fa72c07360b76.png","alt":"data sources section of config.yml","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"cWhl8n1D77","urlSource":"../../images/CUPiD/data_sources.png"},{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"This typically does not need to be edited by the user,\nand may be removed in favor of command-line arguments to the ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"Fr1tXEvPeG"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"ROBoy452PB"},{"type":"text","value":" script.\nIt points CUPiD to the notebook library and also tells CUPiD where to execute the notebooks\n(we want the notebooks to be run in the output directory rather than the ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"rXF1aLBsD2"},{"type":"inlineCode","value":"nblibrary","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"yAASdBFxEn"},{"type":"text","value":" directory).","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"dfPMVzwG7o"}],"key":"YsfkxuyGEa"},{"type":"heading","depth":3,"position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"inlineCode","value":"computation_config","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"u7OrsmItUI"},{"type":"text","value":" Section","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"io7bUtQhcY"}],"identifier":"computation-config-section","label":"computation_config Section","html_id":"computation-config-section","implicit":true,"key":"uXHEi72bwa"},{"type":"paragraph","position":{"start":{"line":129,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Much like the ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"wRSI0Top1g"},{"type":"inlineCode","value":"data_sources","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"QkpgaR7tOl"},{"type":"text","value":" section,\nthis section typically does not need to be modified by users and may turn into command-line arguments.\nIt provides the name of the conda environment to run notebooks in by default (users can specify different environments for individual notebooks),\nand it also sets logging information:","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"kJVloBnPiF"}],"key":"LMr5whycah"},{"type":"image","url":"/computation_config-c05c5fbcc757a34cef447d73a432b0b4.png","alt":"computational configuration section of config.yml","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"vEhovRHVie","urlSource":"../../images/CUPiD/computation_config.png"},{"type":"heading","depth":3,"position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"inlineCode","value":"global_params","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"JnlrLfBhwO"},{"type":"text","value":" Section","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"U2xv5fkFl7"}],"identifier":"global-params-section","label":"global_params Section","html_id":"global-params-section","implicit":true,"key":"HmGqbf4EG7"},{"type":"paragraph","position":{"start":{"line":138,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"There are some parameters that are passed to every notebook.\nThese are typically variables associated with the runs being compared\n(things like CESM case names, location of data, length of the run, and so on).\nFor ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"qXvqtdjmMc"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"BNa5FT73vI"},{"type":"text","value":", there are some parameters we want to pass to every ocean notebook and they are included here as well:","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"cBahQJtyyV"}],"key":"uULL6B01wa"},{"type":"image","url":"/global_params-a51d645cdc796ea4eb0c1754132c5c2a.png","alt":"global parameters section of config.yml","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"SJTznRnuMK","urlSource":"../../images/CUPiD/global_params.png"},{"type":"heading","depth":3,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"inlineCode","value":"time_series","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"ftBpLanTrU"},{"type":"text","value":" Section","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"nmKHV2Qkwb"}],"identifier":"time-series-section","label":"time_series Section","html_id":"time-series-section","implicit":true,"key":"d6III84U98"},{"type":"paragraph","position":{"start":{"line":147,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"One of the data standardization tasks CUPiD does is converting CESM history files to time series files\n(rather than have many variables at a single time level, these files are a single variable at many time levels).\nThe notebooks provided for this tutorial read history files,\nand the interface for this section is still under development,\nso we wonâ€™t spend much time discussing it.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"QQEeZ6LVX2"}],"key":"Do823W73La"},{"type":"image","url":"/timeseries-1e36d261af5b5b29c3bcd4f3ab1d99c1.png","alt":"time series generation section of config.yml","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"S3FTmRFlfv","urlSource":"../../images/CUPiD/timeseries.png"},{"type":"div","class":"alert alert-warning","children":[{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Want to generate a timeseries?","key":"xicYYMUCdE"}],"key":"MRpezh9hoW"},{"type":"break","key":"gnyB4MST1A"},{"type":"paragraph","children":[{"type":"text","value":"Note that the timeseries output directory ","key":"GrE2sFLuSh"},{"type":"inlineCode","value":"ts_dir","key":"QS9HZfSQYW"},{"type":"text","value":" is not instantiated in this example. You are able to create timeseries files, but you are not able to save them to the ","key":"sIWrlD4G7S"},{"type":"inlineCode","value":"CESM_output_dir","key":"kkeQQeC9m8"},{"type":"text","value":" as you normally would because we only have read permissions there.","key":"ZsLbh6AUWF"}],"key":"Te4mx8w23o"},{"type":"paragraph","children":[{"type":"text","value":"If you want to run the timeseries tool, set ","key":"HvJ7pGgWbk"},{"type":"inlineCode","value":"ts_dir: /glade/derecho/scratch/${USER}/archive","key":"LyT9fAxKy2"},{"type":"text","value":" (or another directory you have write access to) and then run","key":"MKCMJdGdnq"}],"key":"XxzxHT3cy8"},{"type":"code","lang":"bash","meta":null,"value":"cupid-timeseries","key":"nTLwcZuTba"}],"key":"ODGmk8qKj2"}],"key":"TpuEOrRQe5"},{"type":"heading","depth":3,"position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"inlineCode","value":"compute_notebooks","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"kEqXo1Pc4f"},{"type":"text","value":" Section","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"qDJa0NV3Zr"}],"identifier":"compute-notebooks-section","label":"compute_notebooks Section","html_id":"compute-notebooks-section","implicit":true,"key":"ccYT1A467c"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"This section tells CUPiD what notebooks to run,\nand what parameters should be passed to that notebook in addition to the ones listed in ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"NwjAnkquT9"},{"type":"inlineCode","value":"global_params","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"APEyscfFgA"},{"type":"text","value":".\nCUPiD will always run the ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"FW36MpJuZD"},{"type":"inlineCode","value":"infrastructure","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"uqU8GWbpGo"},{"type":"text","value":" section,\nand the user can specify what components (","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"EYf5r8ClKu"},{"type":"inlineCode","value":"atm","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"Ssi5PgiO0r"},{"type":"text","value":", ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"HwgG8ruxU4"},{"type":"inlineCode","value":"ocn","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"UP4sgvg4Ib"},{"type":"text","value":", ","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"V1GOIU91Ox"},{"type":"inlineCode","value":"lnd","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"RZPzYIld05"},{"type":"text","value":", etc) should also be run.\nBy default, CUPiD will run all the notebooks in this section.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"Xpm1IjdHcP"}],"key":"HkYDxXR5U5"},{"type":"paragraph","position":{"start":{"line":181,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"The first key under each component (e.g. ","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"d9Hiqhxbcc"},{"type":"inlineCode","value":"Regional_Ocean_Report_Card","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"xN24y831rr"},{"type":"text","value":") is the name of a notebook,\nand CUPiD will look in ","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"SN3Xz2prZ7"},{"type":"inlineCode","value":"nblibrary/{component}","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"KPbuVMcqhk"},{"type":"text","value":" for that file.\nIn this example, CUPiD will run ","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"i6oYlTtftv"},{"type":"inlineCode","value":"nblibrary/atm/Regional_Ocean_Report_Card.ipynb","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"OJ0mKf2FMH"},{"type":"text","value":".\nYou can provide more than one notebook per component.","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"cgVUNLOOr2"}],"key":"vDSc4tpJM6"},{"type":"image","url":"/compute_notebooks-c7f29718d8036ab049c14b7fcc579357.png","alt":"compute notebooks section of config.yml","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"yLMUtaZXj4","urlSource":"../../images/CUPiD/compute_notebooks.png"},{"type":"heading","depth":3,"position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"inlineCode","value":"book_toc","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"nj9Pwuslmb"},{"type":"text","value":" Section","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"ivhekyjVeA"}],"identifier":"book-toc-section","label":"book_toc Section","html_id":"book-toc-section","implicit":true,"key":"e8KuRnP7XC"},{"type":"paragraph","position":{"start":{"line":190,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"After running all the notebooks specified in ","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"eIpLJYFINm"},{"type":"inlineCode","value":"compute_notebooks","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"bcgdKXQl7G"},{"type":"text","value":",\nCUPiD can use ","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"lP6uRAZotd"},{"type":"link","url":"https://jupyterbook.org/en/stable/intro.html","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"text","value":"Jupyter Book","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"lgkWzV0M6N"}],"urlSource":"https://jupyterbook.org/en/stable/intro.html","key":"VKJL02e67E"},{"type":"text","value":" to create a website.\nUnfortunately there is not a great way to view HTML files that are stored on the NCAR super computers,\nso for this tutorial we will look at the notebooks that have been executed.","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"A1WL0JjBx6"}],"key":"kzhr4jhJYk"},{"type":"paragraph","position":{"start":{"line":195,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"To build the website, however, the ","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"FMRitG03HN"},{"type":"inlineCode","value":"book_toc","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"ZVQ2wd3LJ9"},{"type":"text","value":" section lays out how to organize the notebooks into different chapters.\nOur examples organize the pages by component,\nbut in other cases it may make sense to group notebooks differently\n(e.g. global surface plots in one section, time series plots of global means in another).","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"yeQ0MWDFhE"}],"key":"UugvKLZ0F5"},{"type":"image","url":"/book_toc-3715d36d118299979b27345a3b465338.png","alt":"jupyter book table of contents section of config.yml","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"VIYhyZxfoC","urlSource":"../../images/CUPiD/book_toc.png"},{"type":"heading","depth":3,"position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"inlineCode","value":"book_config_keys","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"TVTz8aRmnF"},{"type":"text","value":" Section","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"uqeDrmx3ht"}],"identifier":"book-config-keys-section","label":"book_config_keys Section","html_id":"book-config-keys-section","implicit":true,"key":"a4oJW89AOh"},{"type":"paragraph","position":{"start":{"line":204,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"This section is used to set the title of the Jupyter Book webpage.\nIt should probable be combined with the ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"tH18Ne9TnI"},{"type":"inlineCode","value":"book_toc","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"PWhRlJNijB"},{"type":"text","value":" section,\nor maybe it should be a command line argument instead.","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"mxj6r5XFtG"}],"key":"FJS4O062AZ"},{"type":"image","url":"/book_config_keys-2841de1f638c1b501b4f6197f92d5a50.png","alt":"jupyter book configuration section of config.yml","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"iAztrShfP8","urlSource":"../../images/CUPiD/book_config_keys.png"},{"type":"heading","depth":3,"position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Where are my notebooks?","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"pKUqkXIOUX"}],"identifier":"where-are-my-notebooks","label":"Where are my notebooks?","html_id":"where-are-my-notebooks","implicit":true,"key":"FmNM8tFrtH"},{"type":"paragraph","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"Remember that the notebooks all run in ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Bi08nxVREq"},{"type":"inlineCode","value":"nblibrary","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"KFqc3HSOJg"},{"type":"text","value":", but after ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"AmfYuq95B3"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"YCXT3ejEjs"},{"type":"text","value":" has finished, the notebooks are all copied over the the ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"jumk42TRvs"},{"type":"inlineCode","value":"run_dir","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"K5Hfb8WJvN"},{"type":"text","value":" in the config file (in this case the same directory as the config). This primarily matters for re-running notebooks when we would need to copy over any dependencies (e.g. ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Bp4IulYmoF"},{"type":"inlineCode","value":"nblibrary/regional_ocean.utils.py","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"lRaJg5TK24"},{"type":"text","value":") and be aware of relative paths.","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"TtB0rYjORe"}],"key":"v25XUOglHl"},{"type":"heading","depth":2,"position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"Brief overview of the notebooks","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"zOJDm5t5Cc"}],"identifier":"brief-overview-of-the-notebooks","label":"Brief overview of the notebooks","html_id":"brief-overview-of-the-notebooks","implicit":true,"key":"CFKoFxbqhm"},{"type":"div","class":"alert alert-info","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"To the JupyterHub!","key":"RM8VwNU5EF"}],"key":"DSlwyYkBe4"},{"type":"text","value":" Navigate to ","key":"as5toL3x3H"},{"type":"inlineCode","value":"nblibrary","key":"qnZ9Y2crdA"},{"type":"text","value":" to follow along and weâ€™ll take a look at what our output should look like.","key":"mtznDGKvRP"}],"key":"KPIQlU7LG9"},{"type":"paragraph","children":[{"type":"text","value":"We can also take a sneak peak at the CrocoGallery ","key":"ZcJr4evTqE"},{"type":"link","url":"/notebooks/diagnostics/cupid-output","children":[{"type":"text","value":"CUPiD_output","key":"Lk2qtLF8nq"}],"urlSource":"CUPiD_output.md","dataUrl":"/notebooks.diagnostics.cupid-output.json","internal":true,"protocol":"file","key":"uPeCdNq2I0"},{"type":"text","value":" page before your output is done generating.","key":"s82LnZb0R4"}],"key":"ZMlHKS1dAs"}],"key":"WnCaeydkFx"},{"type":"heading","depth":2,"position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"children":[{"type":"text","value":"Final Task: Now itâ€™s your turn!","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"OFmF1y8iWD"}],"identifier":"final-task-now-its-your-turn","label":"Final Task: Now itâ€™s your turn!","html_id":"final-task-now-its-your-turn","implicit":true,"key":"bMBNiG6rPl"},{"type":"paragraph","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"The power of CUPiD now lies in your hands (donâ€™t spend it all in one place, or do, itâ€™s reusable)!","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"tlkUWHygdV"}],"key":"dJIFxTt1Xg"},{"type":"paragraph","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"children":[{"type":"text","value":"Please mess with this config file, change variables, adjust paths! Feel free to go in an modify any code you like.","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"key":"zYYl1aWkNx"}],"key":"mDLjehzPiV"},{"type":"paragraph","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"If you want to run the CUPiD notebooks on your CESM output from the tutorials earlier in the week, it can be done in a few simple steps. In the same ","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"TacJJxIu17"},{"type":"inlineCode","value":"examples/regional_ocean","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"DYc2xgZgoQ"},{"type":"text","value":" directory:","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"ri7JK3pumd"}],"key":"w8CTWAbwa0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":228,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"mv computed_notebooks computed_notebooks.example","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"qdaLhb56Vy"},{"type":"text","value":" - try not to override diagnostic output, your future self will thank you!","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"VZnnLvjSGK"}],"key":"EBHLcj0D7f"}],"key":"I5w09lxqsl"},{"type":"listItem","spread":true,"position":{"start":{"line":229,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Modify ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"clhP8Dryja"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"CQStRQFddr"},{"type":"text","value":" paths/variables:","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"upCHNDOCHP"}],"key":"mctPS8bU1f"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":230,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Global Params:","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"nNPMlw771t"},{"type":"inlineCode","value":"case_name","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"ZwbnSmluj0"},{"type":"text","value":" and ","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"p3csxJJ2PW"},{"type":"inlineCode","value":"CESM_output_dir","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"M4uKf2PXzt"}],"key":"ALv5uHpzLn"}],"key":"maNhi7cBip"},{"type":"listItem","spread":true,"position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Notebook Params: ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"UZIbizKY3r"},{"type":"inlineCode","value":"mom6_input_dir","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"fAXf0tBK8m"},{"type":"text","value":" - look for ocnice from CrocoDash!","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"dZZ3wpzB1F"}],"key":"xteEgbKkMj"}],"key":"XEmM53znsO"}],"key":"LV81kMgQr8"}],"key":"o6k2Wehtzn"},{"type":"listItem","spread":true,"position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run ","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"R8JKomkoqH"},{"type":"inlineCode","value":"cupid-diagnostics --serial","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"GAJpCcXnoL"},{"type":"text","value":" - some of the output may look a little different becaue weâ€™re working with days/weeks not months.","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"V9TXtjwmfN"}],"key":"e0XA1VPjaM"}],"key":"xnKgApl2lD"},{"type":"listItem","spread":true,"position":{"start":{"line":233,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Let us know if you run into any issues!","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"E0fOW6KBfx"}],"key":"JuHqjJsT9M"}],"key":"S8N0pFEbXr"}],"key":"LvpDX1w8Ii"},{"type":"heading","depth":3,"position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"children":[{"type":"text","value":"Want to generate a CUPiD webpage of your output?","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"FGiISR1Qdl"}],"identifier":"want-to-generate-a-cupid-webpage-of-your-output","label":"Want to generate a CUPiD webpage of your output?","html_id":"want-to-generate-a-cupid-webpage-of-your-output","implicit":true,"key":"t6lfvivCod"},{"type":"paragraph","position":{"start":{"line":236,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"We recommend viewing the completed notebooks in JupyterHub.\nThis is the easiest way to see CUPiD output on the NCAR super computer,\nand also makes it easy to re-run the notebooks manually if you want to play with the output.","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"uttij7wImB"}],"key":"kQny0MVZfP"},{"type":"paragraph","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"children":[{"type":"strong","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"tlsvzvlXhl"}],"key":"WahYcCRyEt"},{"type":"text","value":" make sure to select the ","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"G0DTiU0nwD"},{"type":"inlineCode","value":"cupid-analysis","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"s5a2g2sgvO"},{"type":"text","value":" kernel in the top right if you want to rerun the notebooks.","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"qak8KhKP8g"}],"key":"i4y2PLIXJK"},{"type":"paragraph","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"text","value":"If you want to use CUPiDâ€™s webpage feature, however, run","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"NQLRSvo85a"}],"key":"Crzz3UWs6r"},{"type":"code","lang":"bash","value":"cupid-webpage","position":{"start":{"line":244,"column":1},"end":{"line":246,"column":1}},"key":"CoPhRfKmTM"},{"type":"paragraph","position":{"start":{"line":248,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"after ","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"dNpnPr7kRO"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"h8cYNxwpiu"},{"type":"text","value":" completes.\nLike ","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"MLctjBYbrb"},{"type":"inlineCode","value":"cupid-diagnostics","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"ALrQO5otQF"},{"type":"text","value":", this command is part of the ","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"xIK2Z1VaKh"},{"type":"inlineCode","value":"(cupid-infrastructure)","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"NJ6lCuz5ZK"},{"type":"text","value":" environment and should be run from the directory containing ","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"hFU7QuQ4V4"},{"type":"inlineCode","value":"config.yml","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"y3ea6pnjju"},{"type":"text","value":".","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"gwkeZWnZh9"}],"key":"QVXJPfXuEv"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Unfortunately, it is not easy to view webpages on the NCAR super computer.\nYour best bet is probably copying the entire ","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"uLQrJDCbDY"},{"type":"inlineCode","value":"computed_notebooks/_build/html","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"e2zGN89c22"},{"type":"text","value":" directory to your local computer.\nMore options are discussed in the CUPiD documentation for ","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"PjoTZ95k4P"},{"type":"link","url":"https://ncar.github.io/CUPiD/ncar_tips.html#looking-at-output","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"Looking at Output","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"IIFCNWEfOj"}],"urlSource":"https://ncar.github.io/CUPiD/ncar_tips.html#looking-at-output","key":"EFfZCRAYya"},{"type":"text","value":".","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"SaiOqFuUPa"}],"key":"S7SMt9zHX8"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"children":[{"type":"text","value":"You can transfer the files to your personal computer using a tool like ","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"gCG3bGd5fU"},{"type":"inlineCode","value":"scp","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"fFChf4rM2v"},{"type":"text","value":" or ","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"mgJxU9d18z"},{"type":"inlineCode","value":"rsync","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"jf73ht4yyt"},{"type":"text","value":":","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"z7Hle4evcR"}],"key":"mM5EFocOdW"},{"type":"code","lang":"bash","value":"scp USERNAME@casper.hpc.ucar.edu:/glade/work/USERNAME/crocodile_2025/CUPiD/examples/computed_notebooks/_build /path/on/personal/computer","position":{"start":{"line":256,"column":1},"end":{"line":258,"column":1}},"key":"maJ8l6ctiA"},{"type":"paragraph","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"Alternatively, make sure to attend Sam Rabinâ€™s lecture on VSCode tools for another fancy way of viewing HTML files!","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"PUY9ugo7GH"}],"key":"uGhxSU4XZm"}],"key":"ROnvkKhha0"}],"key":"qIiXOrbEjl"},"references":{"cite":{"order":[],"data":{}}}}