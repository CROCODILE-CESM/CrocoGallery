<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Regional Ocean: Basic Region and Surface Field Visualization - CROCODILE Gallery</title><meta property="og:title" content="Regional Ocean: Basic Region and Surface Field Visualization - CROCODILE Gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/build/crocodile-1a441f1b02af83fca2009ffedd72ea56.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="CROCODILE Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">CROCODILE Gallery</a><div data-state="open" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Basic Tutorials" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Basic Tutorials</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:Rmpsp:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Basic CrocoDash Tutorial" class="block break-words rounded py-2 grow cursor-pointer">Basic CrocoDash Tutorial</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rqmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rqmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title=" CUPiD Diagnostics Tutorial " class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200" href="/notebooks/diagnostics/cupid-for-regional-mom6"> CUPiD Diagnostics Tutorial </a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1ampsp:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R1ampsp:" class="pl-3 pr-[2px] collapsible-content"><a title="Installing CUPiD" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/diagnostics/cupid-intro">Installing CUPiD</a><a title="Running a CUPiD Example" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/diagnostics/standalone-cupid">Running a CUPiD Example</a><div data-state="open" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Output from CUPiD Example" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 active" href="/notebooks/diagnostics/cupid-output">Output from CUPiD Example</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1rampsp:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R1rampsp:" class="pl-3 pr-[2px] collapsible-content"><a title="Regional Ocean: Basic Region and Surface Field Visualization" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg myst-toc-item-exact bg-blue-300/30 active" href="/notebooks/diagnostics/cupid-output/regional-ocean-report-card">Regional Ocean: Basic Region and Surface Field Visualization</a><a title="Regional Ocean: Animations of Surface Fields" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/diagnostics/cupid-output/regional-ocean-animations">Regional Ocean: Animations of Surface Fields</a><a title="Regional Ocean: Atmospheric Forcing" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/diagnostics/cupid-output/regional-ocean-atmospheric-forcing">Regional Ocean: Atmospheric Forcing</a><a title="Regional Ocean: Checking Open Boundary Conditions" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/diagnostics/cupid-output/regional-ocean-obc">Regional Ocean: Checking Open Boundary Conditions</a><a title="Model-Observations Comparison" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/projects/model-obs-comparison">Model-Observations Comparison</a></div></div></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Model-Observations Comparison" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/notebooks/projects/model-obs-comparison-1">Model-Observations Comparison</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1qmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1qmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Features" class="block break-words rounded py-2 grow cursor-pointer">Features</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Older Material" class="block break-words rounded py-2 grow cursor-pointer">Older Material</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/CROCODILE-CESM/CrocoGallery" title="GitHub Repository: CROCODILE-CESM/CrocoGallery" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Regional Ocean: Basic Region and Surface Field Visualization</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="FSkycxJzrQ" class="myst-jp-nb-block relative group/block"><h1 id="regional-ocean-basic-region-and-surface-field-visualization" class="relative group"><span class="heading-text">Regional Ocean: Basic Region and Surface Field Visualization</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#regional-ocean-basic-region-and-surface-field-visualization" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="d2EclQklqE" class="myst-jp-nb-block relative group/block"><p>Note: This notebook is meant to be run with the cupid-analysis kernel (see <a target="_blank" rel="noreferrer" href="https://ncar.github.io/CUPiD/index.html#installing" class="">CUPiD Installation</a>). This notebook is often run by default as part of <a target="_blank" rel="noreferrer" href="https://ncar.github.io/CUPiD/run_cesm.html" class="">CESM post-processing steps</a>, but you can also run it manually.</p></div><div id="XfveONSXCf" class="myst-jp-nb-block relative group/block"><h2 id="diagnostics-and-plotting-resources" class="relative group"><span class="heading-text">Diagnostics and Plotting Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#diagnostics-and-plotting-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="highly-recommended" class="relative group"><span class="heading-text">Highly Recommended:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#highly-recommended" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><a target="_blank" rel="noreferrer" href="https://earth-env-data-science.github.io/intro.html" class="">Xarray Fundamentals - Earth Environmental Data Science Course (recommend the entire course!)</a></p><p><a target="_blank" rel="noreferrer" href="https://mom6-analysiscookbook.readthedocs.io/en/latest/index.html" class="">MOM6 Analysis Cookbook</a></p><h3 id="great-focused-on-global-output-diagnostics" class="relative group"><span class="heading-text">Great! Focused on Global Output Diagnostics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#great-focused-on-global-output-diagnostics" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><a target="_blank" rel="noreferrer" href="https://mom6-tools.readthedocs.io/examples.html" class="">MOM6 Tools (parimarily for global metrics)</a></p><p><a target="_blank" rel="noreferrer" href="https://ncar.github.io/CESM-Tutorial/notebooks/diagnostics/mom/basics_mom.html" class="">MOM6 Diagnostics - CESM Tutorial</a></p><h3 id="misc" class="relative group"><span class="heading-text">Misc.</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#misc" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><a target="_blank" rel="noreferrer" href="https://regional-mom6.readthedocs.io/en/latest/mom6-file-structure-primer.html" class="">MOM6 File Structure</a></p><p><a target="_blank" rel="noreferrer" href="https://xgcm.readthedocs.io/en/latest/xgcm-examples/03_MOM6.html" class="">xGCM - python package for staggered grids</a></p></div><div id="fENfhkWXxH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%load_ext autoreload
%autoreload 2
import os

import matplotlib.pyplot as plt
import numpy as np
import regional_utils as utils
import xarray as xr
from cartopy import crs as ccrs</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="1qlGbPbP3nDxBTvQUwxAV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YkTA0wK2MC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">case_name = &quot;&quot;  # &quot;/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/&quot;
CESM_output_dir = &quot;&quot;  # &quot;CROCODILE_tutorial_nwa12_MARBL&quot;

# As regional domains vary so much in purpose, simulation length, and extent, we don&#x27;t want to assume a minimum duration
## Thus, we ignore start and end dates and simply reduce/output over the whole time frame for all of the examples given.
start_date = None  # &quot;0001-01-01&quot;
end_date = None  # &quot;0101-01-01

save_figs = False
fig_output_dir = None

lc_kwargs = {}
serial = False

sfc_variables = []  # [&#x27;SSH&#x27;, &#x27;tos&#x27;, &#x27;sos&#x27;, &#x27;speed&#x27;, &#x27;SSV&#x27;, &#x27;SSU&#x27;]
monthly_variables = []  # [&#x27;thetao&#x27;, &#x27;so&#x27;, &#x27;uo&#x27;, &#x27;vo&#x27;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="vdZ-jkGRZ5evNBKQl2ext" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="hRcxjjA7VH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Parameters
case_name = &quot;CROCODILE_tutorial_nwa12_MARBL&quot;
CESM_output_dir = (
    &quot;/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/&quot;
)
start_date = &quot;&quot;
end_date = &quot;&quot;
save_figs = True
fig_output_dir = None
lc_kwargs = {&quot;threads_per_worker&quot;: 1}
serial = True
sfc_variables = [&quot;tos&quot;]
monthly_variables = [&quot;thetao&quot;]
subset_kwargs = {}
product = &quot;/glade/work/ajanney/crocodile_2025/CUPiD/examples/regional_ocean/computed_notebooks//ocn/Regional_Ocean_Report_Card.ipynb&quot;
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="xl0AKJ_VZvx6wNVM1AXrx" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="x0mtShZo4d" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">OUTDIR = os.path.join(CESM_output_dir, case_name, &quot;ocn&quot;, &quot;hist&quot;)
print(&quot;Output directory is:&quot;, OUTDIR)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="k_o_q6S4M77LTehIfpL9G" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Output directory is: /glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/CROCODILE_tutorial_nwa12_MARBL/ocn/hist
</span></code></pre></div></div></div></div><div id="v2P0IJj6Up" class="myst-jp-nb-block relative group/block"><h1 id="load-in-model-output-and-look-at-variables-meta-data" class="relative group"><span class="heading-text">Load in Model Output and Look at Variables/Meta Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-in-model-output-and-look-at-variables-meta-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><h3 id="default-file-structure-in-mom6" class="relative group"><span class="heading-text">Default File Structure in MOM6</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#default-file-structure-in-mom6" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>This file structure will be different if you modify the diag_table.</p><ul><li><p><strong>static data</strong>: contains horizontal grid, vertical grid, land/sea mask, bathymetry, lat/lon information</p></li><li><p><strong>sfc data</strong>: daily output of 2D surface fields (salinity, temp, SSH, velocities)</p></li><li><p><strong>monthly data</strong>: averaged monthly output of the full 3D domain, regridded to a predefined grid (MOM6 default is WOA, see more below)</p></li><li><p><strong>native data</strong>: averaged monthly output of ocean state and atmospheric fluxes on the native MOM6 grid</p></li></ul></div><div id="byk7Yl1RaK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Xarray time decoding things
time_coder = xr.coders.CFDatetimeCoder(use_cftime=True)

## Static data includes hgrid, vgrid, bathymetry, land/sea mask
static_data = xr.open_mfdataset(
    os.path.join(OUTDIR, &quot;*h.static.nc&quot;),
    decode_timedelta=True,
    decode_times=time_coder,
    engine=&quot;netcdf4&quot;,
)

## Surface Data
sfc_data = xr.open_mfdataset(
    os.path.join(OUTDIR, &quot;*h.sfc*.nc&quot;),
    decode_timedelta=True,
    decode_times=time_coder,
    engine=&quot;netcdf4&quot;,
)

## Monthly Full Domain Data
## Not used in this notebook by default
monthly_data = xr.open_mfdataset(
    os.path.join(OUTDIR, &quot;*h.z*.nc&quot;),
    decode_timedelta=True,
    decode_times=time_coder,
    engine=&quot;netcdf4&quot;,
)

## Monthly Full Domain Data, on native MOM6 grid
## Not used in this notebook by default
native_data = xr.open_mfdataset(
    os.path.join(OUTDIR, &quot;*h.native*.nc&quot;),
    decode_timedelta=True,
    decode_times=time_coder,
    engine=&quot;netcdf4&quot;,
)

## Image/Gif Output Directory
if fig_output_dir is None:
    image_output_dir = os.path.join(
        &quot;/glade/derecho/scratch/&quot;,
        os.environ[&quot;USER&quot;],
        &quot;archive&quot;,
        case_name,
        &quot;ocn&quot;,
        &quot;cupid_images&quot;,
    )
else:
    image_output_dir = os.path.join(fig_output_dir, case_name, &quot;ocn&quot;, &quot;cupid_images&quot;)
if not os.path.exists(image_output_dir):
    os.makedirs(image_output_dir)
print(&quot;Image output directory is:&quot;, image_output_dir)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="q7uqb9ElheSz-mUQljKUm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Image output directory is: /glade/derecho/scratch/ajanney/archive/CROCODILE_tutorial_nwa12_MARBL/ocn/cupid_images
</span></code></pre></div></div></div></div><div id="DepwEzwkNP" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Select for only the variables we want to analyze
if len(sfc_variables) &gt; 0:
    print(&quot;Selecting only the following surface variables:&quot;, sfc_variables)
    sfc_data = sfc_data[sfc_variables]
if len(monthly_variables) &gt; 0:
    print(&quot;Selecting only the following monthly variables:&quot;, monthly_variables)
    monthly_data = monthly_data[monthly_variables]

## Apply time boundaries
## if they are the right format
if len(start_date.split(&quot;-&quot;)) == 3 and len(end_date.split(&quot;-&quot;)) == 3:
    import cftime

    calendar = sfc_data.time.encoding.get(&quot;calendar&quot;, &quot;standard&quot;)

    calendar_map = {
        &quot;gregorian&quot;: cftime.DatetimeProlepticGregorian,
        &quot;noleap&quot;: cftime.DatetimeNoLeap,
    }

    CFTime = calendar_map.get(calendar, cftime.DatetimeGregorian)
    y, m, d = [int(i) for i in start_date.split(&quot;-&quot;)]
    start_date_time = CFTime(y, m, d)
    y, m, d = [int(i) for i in end_date.split(&quot;-&quot;)]
    end_date_time = CFTime(y, m, d)

    print(
        f&quot;Applying time range from start_date: {start_date_time} and end_date: {end_date_time}.&quot;
    )

    sfc_data = sfc_data.sel(time=slice(start_date_time, end_date_time))
    monthly_data = monthly_data.sel(time=slice(start_date_time, end_date_time))
    native_data = native_data.sel(time=slice(start_date_time, end_date_time))

sfc_time_bounds = [
    sfc_data[&quot;time&quot;].isel(time=0).compute().item(),
    sfc_data[&quot;time&quot;].isel(time=-1).compute().item(),
]
monthly_time_bounds = [
    monthly_data[&quot;time&quot;].isel(time=0).compute().item(),
    monthly_data[&quot;time&quot;].isel(time=-1).compute().item(),
]

print(f&quot;Surface Data Time Bounds: {sfc_time_bounds[0]} to {sfc_time_bounds[-1]}&quot;)
print(
    f&quot;Monthly Data Time Bounds: {monthly_time_bounds[0]} to {monthly_time_bounds[-1]}&quot;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="JswLgN0eDPKfosHZXFQUi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Selecting only the following surface variables: [&#x27;tos&#x27;]
Selecting only the following monthly variables: [&#x27;thetao&#x27;]
Surface Data Time Bounds: 1999-12-30 12:00:00 to 2000-11-28 12:00:00
Monthly Data Time Bounds: 2000-01-14 12:00:00 to 2000-10-14 12:00:00
</span></code></pre></div></div></div></div><div id="AeHnsVS7hk" class="myst-jp-nb-block relative group/block"><h3 id="id-mom6-h-static-nc-static-information-about-the-domain" class="relative group"><span class="heading-text"><strong><code>*mom6.h.static*.nc</code></strong>: static information about the domain</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-mom6-h-static-nc-static-information-about-the-domain" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The MOM6 grid uses an Arakawa C grid which staggers velocities and tracers (temp, salinity, SSH, etc.). See <a target="_blank" rel="noreferrer" href="https://mom6.readthedocs.io/en/main/api/generated/pages/Discrete_Grids.html#horizontal-grids" class="">this MOM6 documentation</a> for more information.</p><h4 id="some-variables-of-interest" class="relative group"><span class="heading-text">Some variables of interest:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#some-variables-of-interest" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p><strong><code>geolon</code>/<code>geolat</code></strong> (and c/u/v variants): specifies the true lat/lon of each cell. We use these variables for plotting and placing the data geographically.</p></li><li><p><strong><code>wet</code></strong> (and c/u/v variants): the land-sea mask that specifies if a given point is on land or sea.</p></li><li><p><strong><code>areacello</code></strong> (and bu,cu,cv variants): area of grid cell (important for taking area-weighted averages)</p></li><li><p><strong><code>deptho</code></strong>: depth of ocean floor - bathymetry</p></li></ul></div><div id="TV3eZt3HZt" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">static_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="D-dDaJq2Ek0Cdth1FAoRZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="xuXQ2Vtwog" class="myst-jp-nb-block relative group/block"><div class="alert alert-info"><strong>Indexing and the Horizontal C-grid in MOM6</strong><p>When accessing the output, we need to pay particular attention to which variables we are accessing and which coordinates correspond to their position on the grid. This also affects plotting and spatial averages (as we will see in this notebook and others).</p><ul><li><p><code>xh</code>/<code>yh</code>: index the center of the cell in <code>x</code> and <code>y</code> respectively</p></li><li><p><code>xq</code>/<code>yq</code>: index the corner of the cell in <code>x</code> and <code>y</code> respectively</p></li></ul><p><strong>Coordinates:</strong></p><ul><li><p>(<code>xh</code>,<code>yh</code>): center of cell, where tracers are. Plot with <code>geolon</code>,<code>geolat</code>.</p></li><li><p>(<code>xh</code>,<code>yq</code>): middle of horizontal interface, where meridional (v) velocity is. Plot with <code>geolon_v</code>,<code>geolat_v</code>.</p></li><li><p>(<code>xq</code>,<code>yh</code>): middle of vertical interface, where zonal (u) velocity is. Plot with <code>geolon_u</code>,<code>geolat_u</code>.</p></li><li><p>(<code>xq</code>,<code>yq</code>): corners between cells, where vorticity is.</p></li></ul></div></div><div id="C0b8fvM4Zd" class="myst-jp-nb-block relative group/block"><h3 id="id-h-sfc-nc-daily-surface-fields" class="relative group"><span class="heading-text"><strong><code>*h.sfc*.nc</code></strong>: daily surface fields</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-h-sfc-nc-daily-surface-fields" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The surface fields are especially useful for diagnosing short runs. This is not only the most dynamic field for short runs, but it also is the only file that stores daily results (by default). A lot of the diagnostics in this notebook use surface fields because we are able to take time averages and look at time series for any run longer than a couple of days (unlike the full 3D domain fields which are averaged over each month).</p><h4 id="some-variables-of-interest-1" class="relative group"><span class="heading-text">Some variables of interest:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#some-variables-of-interest-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p><code>SSH</code>: sea surface height</p></li><li><p><code>tos</code>: temperature of ocean surface</p></li><li><p><code>sos</code>: salinity of ocean surface</p></li><li><p><code>speed</code>: magnitude of speed (considered a tracer, at the center of a cell)</p></li><li><p><code>SSU</code> and <code>SSV</code>: zonal and meridional velocity at the surface</p></li></ul></div><div id="ynlHI46kEA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">sfc_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="6Lp00bfyGOB4zyYoUB8LZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="M3ZCcjEDKD" class="myst-jp-nb-block relative group/block"><h3 id="id-h-z-nc-fields-for-the-full-3d-domain-averaged-monthly-regridded-vertically" class="relative group"><span class="heading-text"><strong><code>*h.z*.nc</code></strong>: fields for the full 3D domain, averaged monthly, regridded vertically</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-h-z-nc-fields-for-the-full-3d-domain-averaged-monthly-regridded-vertically" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>These are vertically remapped diagnostics files that capture the full 3D domain, but they only output monthly averages. For runs less than a month, they will average over the full length of the run.</p><p>By default, this diagnostics MOM6 regrids output to the vertical grid from the 2009 World Ocean Atlas (35 layers down to 6750 m).</p><h4 id="some-variables-of-interest-2" class="relative group"><span class="heading-text">Some variables of interest:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#some-variables-of-interest-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p><code>uo</code> and <code>vo</code>: zonal and meridional velocity</p></li><li><p><code>thetao</code>: potential temperature</p></li><li><p><code>so</code>: salinity</p></li><li><p><code>vmo</code> and <code>umo</code>: zonal and meridional mass transport</p></li><li><p><code>volcello</code>: volume of each cell (important for averaging over a volume of the domain)</p></li></ul><p><strong>Note:</strong> now there are two <code>z</code> coordinates. <code>z_i</code> is the vertical interface between cells and <code>z_l</code> identifies the depth of the cell centers.</p></div><div id="flCWCdq9tN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">monthly_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="Oxrqw9gGZftigw-zYLC9Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="FQBsFCqsgw" class="myst-jp-nb-block relative group/block"><div class="alert alert-info"><strong>Note on Vertically Remapped Diagnostics in MOM6</strong><p>The output found in <code>*mom6.h.z.*.nc</code> files is vertically remapped by MOM6. By default, this output is on the 2009 World Ocean Atlas grid. You can regrid the output after runtime (see packages like <a target="_blank" rel="noreferrer" href="https://xgcm.readthedocs.io/en/latest/index.html" class="">xgcm</a> and and <a target="_blank" rel="noreferrer" href="https://xesmf.readthedocs.io/en/stable/" class="">xESMF</a>), but if you know a vertical grid that you need output on, MOM6 can handle the interpolation automatically.</p><p>The vertical grid settings for a particular CESM run can be found in <code>MOM_parameter_doc.all</code> in the CESM case run directory. See <a target="_blank" rel="noreferrer" href="https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#vertically-remapped-diagnostics" class="">this MOM6 documentation</a> for more information.</p></div></div><div id="hG61kbEVMR" class="myst-jp-nb-block relative group/block"><h3 id="id-h-native-nc-fields-for-the-full-3d-domain-averaged-monthly-on-native-mom6-grid" class="relative group"><span class="heading-text"><strong><code>*h.native*.nc</code></strong>: fields for the full 3D domain, averaged monthly, on native MOM6 grid.</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-h-native-nc-fields-for-the-full-3d-domain-averaged-monthly-on-native-mom6-grid" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>These outputs are on the MOM6 native grid. From the <a target="_blank" rel="noreferrer" href="https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#native-diagnostics" class="">MOM6 Documentation</a>:</p><blockquote><p>Since the model can be run in arbitrary coordinates, say in hybrid-coordinate mode, then native-space diagnostics can be potentially confusing. Native diagnostics are useful when examining exactly what the model is doing</p></blockquote><p>The default native file (as configured by CESM) also outputs useful global averages and atmospheric variables.</p><h4 id="some-variables-of-interest-3" class="relative group"><span class="heading-text">Some variables of interest:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#some-variables-of-interest-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p><code>soga</code>: global mean ocean salinity</p></li><li><p><code>thetaoga</code>: global mean ocean potential temperature</p></li><li><p><code>tauuo</code> and <code>tauvo</code>: zonal and meridional downward stress from the atmospheric forcing</p></li><li><p><code>hfds</code>: net downward surface heat flux</p><ul><li><p><code>hf*</code>: various individual heat fluxes into the ocean</p></li></ul></li><li><p><code>friver</code>: freshwater flux from rivers</p></li></ul></div><div id="W9axCgc9fb" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">native_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="JB4w_GBziCc_WYjOQt8RG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="IQmGbwwfTZ" class="myst-jp-nb-block relative group/block"><h1 id="look-at-regional-domain" class="relative group"><span class="heading-text">Look at Regional Domain</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#look-at-regional-domain" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="wVZMA10I7Y" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%matplotlib inline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="b1OUXRVLm9IqWH1jb_m3Y" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vaeQWxOp8E" class="myst-jp-nb-block relative group/block"><p>Note: you may see some numpy divide by zero errors below. I don’t why, but they aren’t an issue!</p></div><div id="vFuftvc51X" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">utils.visualizeRegionalDomain(static_data)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="vHbB8724qp47VZIZuuiAe" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/ab76b78aa4b9563f8be90dcd9f0bb7f1.png" alt="&lt;Figure size 2800x1600 with 3 Axes&gt;"/></div></div></div><div id="oCWU9qAcPE" class="myst-jp-nb-block relative group/block"><h1 id="plotting-regional-mom6-output" class="relative group"><span class="heading-text">Plotting Regional MOM6 Output</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-regional-mom6-output" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>We will primarily look at the surface fields and some of the monthly full domain fields in this notebook.</p><p>Xarray comes with great default plotting wrappers that can do a lot! If you take an Xarray DataArray (one variable data structure) and call</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">xr.DataArray.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>it will usually do a pretty good job! Here we’ll walk through some powerful ways to use this plot wrapper, and we provide some additional functions to help the plotting along!</p></div><div id="PQ6PW5HviU" class="myst-jp-nb-block relative group/block"><h2 id="simple-plotting-with-xarray" class="relative group"><span class="heading-text">Simple plotting with Xarray</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#simple-plotting-with-xarray" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>By default, these files are all loaded in as Datasets which store a large set of variables with a variety of shared coordinates/dimensions.</p><p>When plotting, we need to reduce this space to a single variable. If we want to plot a spatial field we need one time step, and if we want to plot a timeseries, we need to average over the spatial dimensions (this is a bit more complicated than it might seem because the grid cells are not all the same size).</p><p>Let’s use some basic Xarray plotting to look at a surface field:</p></div><div id="y4xEIAjn8a" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Select a single variable at a single time
sst = sfc_data[&quot;tos&quot;].isel(time=0)
sst.plot(cmap=&quot;viridis&quot;, vmin=-1.9, vmax=30)  # approx. color bar bounds for temp
# Note that it automatically labels with coordinate names and attributes.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_L6ZWS_Y6nMzfHcjy-XOP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/021be20e3d9a8732ab5a07ccddc64bce.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div></div></div><div id="OARfwe5ff3" class="myst-jp-nb-block relative group/block"><p>Looks good! But from above we know we want to plot with <code>geolon</code> and <code>geolat</code> for an accurate map. We can also choose some different color maps and projections. Let’s use some <code>regional_utils</code> to get this done.</p></div><div id="UyQeviK5VU" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Select a single variable at a single time
sst = sfc_data[&quot;tos&quot;].isel(time=0)

coords = utils.chooseGeoCoords(sst.dims)
lat = static_data[coords[&quot;latitude&quot;]]
lon = static_data[coords[&quot;longitude&quot;]]

sst = sst.assign_coords({&quot;lon&quot;: lon, &quot;lat&quot;: lat})

cmap = utils.chooseColorMap(sst.name)

cbar_levels = utils.chooseColorLevels(
    sst.min().compute().item(),
    sst.max().compute().item(),
)

# Create the plot with projection
fig = plt.figure(dpi=200)
ax = plt.axes(projection=ccrs.Mercator())

# Plot the data
p = sst.plot(
    x=&quot;lon&quot;,
    y=&quot;lat&quot;,
    cmap=cmap,
    levels=cbar_levels,
    transform=ccrs.PlateCarree(),
    ax=ax,
    add_colorbar=True,
)

# Add coastlines - now this should work
ax.coastlines(resolution=&quot;50m&quot;, color=&quot;black&quot;, linewidth=0.3)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="R4al6PGzIbKhqW-EzRVa6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/b023e4ddd9b633ce33e400a02b6a3fc5.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div></div></div><div id="zHBcJZVBsS" class="myst-jp-nb-block relative group/block"><p>Looks good! Doing all this setup everytime would be cumbersome, so we wrapped it in a function <code>utils.plotLatLonField</code>.</p><p>Please go check it out and see what’s going on behind the scenes. It also can calculate statistics for the field taking into account area/volume weights.</p></div><div id="KnvZDC3hOG" class="myst-jp-nb-block relative group/block"><h2 id="mom6-output-surface-fields" class="relative group"><span class="heading-text">MOM6 Output - Surface Fields</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#mom6-output-surface-fields" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="dLtyhMvq09" class="myst-jp-nb-block relative group/block"><p>The cells below visualize the mean state and the std of the fields over the full time given.</p></div><div id="Y4koJpDgOo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Ploting basic surface state variables
add_stats = True
time_bounds = (
    sfc_data[&quot;time&quot;][0].compute().item(),
    sfc_data[&quot;time&quot;][-1].compute().item(),
)

for var in sfc_variables:
    if var not in list(sfc_data.variables):
        print(f&quot;Variable &#x27;{var}&#x27; not in given sfc_data. It will not be plotted.&quot;)
        sfc_variables.remove(var)


print(f&quot;Taking mean and std dev from {time_bounds[0]} to {time_bounds[-1]}&quot;)
for var in sfc_variables:
    field = sfc_data[var]

    coords = utils.chooseGeoCoords(field.dims)
    areacello = utils.chooseAreacello(field.dims)

    mean = field.mean(dim=&quot;time&quot;, skipna=True).compute()
    std = field.std(dim=&quot;time&quot;, skipna=True).compute()
    mean.attrs = field.attrs
    std.attrs = field.attrs
    mean.attrs[&quot;long_name&quot;] = f&quot;Mean {field.long_name}&quot;
    std.attrs[&quot;long_name&quot;] = f&quot;Std Dev {field.long_name}&quot;

    utils.plotLatLonField(
        mean,
        latitude=static_data[coords[&quot;latitude&quot;]],
        longitude=static_data[coords[&quot;longitude&quot;]],
        stats=add_stats,
        area_weights=static_data[areacello],
        save=save_figs,
        save_path=image_output_dir,
    )
    plt.show()

    utils.plotLatLonField(
        std,
        latitude=static_data[coords[&quot;latitude&quot;]],
        longitude=static_data[coords[&quot;longitude&quot;]],
        stats=add_stats,
        area_weights=static_data[areacello],
        save=save_figs,
        save_path=image_output_dir,
    )
    plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="J3x2JSocKVWBLwfn9EFce" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Taking mean and std dev from 1999-12-30 12:00:00 to 2000-11-28 12:00:00
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>/glade/work/ajanney/conda-envs/cupid-analysis/lib/python3.11/site-packages/dask/array/numpy_compat.py:57: RuntimeWarning: invalid value encountered in divide
  x = np.divide(x1, x2, out)
</span></code></pre></div></div><div data-name="safe-output-image"><img src="/build/822e86f234680e7aeac6f8b1c519c4f1.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div><div data-name="safe-output-image"><img src="/build/0198e14434d6d2f3ca79744907fa4915.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div></div></div><div id="ufEDd0zAwZ" class="myst-jp-nb-block relative group/block"><h1 id="area-weighted-averages-and-timeseries" class="relative group"><span class="heading-text">Area Weighted Averages and Timeseries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#area-weighted-averages-and-timeseries" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="ELCBnNhbhs" class="myst-jp-nb-block relative group/block"><p>Calculating and plotting timeseries can also be complicated. We need to be careful when taking an average of the fields that we take weighted statistics because the grid cells are not guaranteed to be constant area or volume.</p><p>The information we need for these weighted averages is contained in the <code>areacello*</code> variables (in static_data) and the <code>volcello</code> variable (in native_data and monthly_data).</p><p>We have to pay attention to coordinates and dimensions because of MOM6’s staggered grid (see how we choose the geolon/lat coords above).</p><p><strong>Note:</strong> These timeseries may be less helpful for shorter runs, but see what they reveal!</p></div><div id="BRQmLSZDWc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Source</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">for var in sfc_variables:
    field = sfc_data[var]
    areacello_var = utils.chooseAreacello(field.dims)

    utils.plotAvgTimeseries(
        sfc_data[var],
        static_data[areacello_var],
        save=save_figs,
        save_path=image_output_dir,
    )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><div data-name="outputs-container" data-mdast-node-id="hCbr8ALdXEGDvkuiXW-8M" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/57204a41af23375821b324275f8d498d.png" alt="&lt;Figure size 1280x960 with 1 Axes&gt;"/></div></div></div><div id="Ikhmy3EBCV" class="myst-jp-nb-block relative group/block"><h1 id="viewing-full-domain-monthly-output" class="relative group"><span class="heading-text">Viewing Full Domain Monthly Output</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#viewing-full-domain-monthly-output" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>Let’s look at the monthly output. When using longer runs (years or decades). These hold a lot more information about how your model is evolving and performing over time. For shorter runs (like many regional models often are), we may only have a handful of monthly output timesteps.</p><p>Xarray has some very useful methods for visualizing multiple levels and easily plotting them using the <code>col</code> and <code>col_wrap</code> keywords.</p><p>**Note: ** none of the following plots are saved. If you want to save them, rerun the first few cells of the notebook and manually save these.</p></div><div id="JfZP17vzuV" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">for var in monthly_variables:
    if var not in list(monthly_data.variables):
        print(f&quot;Variable &#x27;{var}&#x27; not in given monthly_data. It will not be plotted.&quot;)
        monthly_variables.remove(var)

## Let&#x27;s only look at one variable for now (this plotting can be slow)
for var in monthly_variables[0:1]:
    # Look at only the first time step for now
    field = monthly_data[var].isel(time=0)

    cmap = utils.chooseColorMap(var)
    levels = utils.chooseColorLevels(
        field.min().compute().item(),
        field.max().compute().item(),
    )

    subplot_kwargs = {
        &quot;projection&quot;: ccrs.Mercator(),
    }

    p = field.plot(
        col=&quot;z_l&quot;,
        col_wrap=5,
        cmap=cmap,
        levels=levels,
        transform=ccrs.PlateCarree(),
        subplot_kws=subplot_kwargs,
    )
    plt.suptitle(f&quot;{var} at depths&quot;, y=1.0, fontsize=20)

    for ax in p.axs.flat:
        ax.coastlines(resolution=&quot;50m&quot;, color=&quot;black&quot;, linewidth=0.3)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="DqXSavng6E_PHkvO46Lug" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/d47a4de83a56d5b4edf94265d105faea.png" alt="&lt;Figure size 3200x4200 with 36 Axes&gt;"/></div></div></div><div id="FkBmrFQ81s" class="myst-jp-nb-block relative group/block"><h2 id="vertical-profiles" class="relative group"><span class="heading-text">Vertical Profiles</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#vertical-profiles" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Another useful tool, sometimes we want to look at the vertical profile of something like salinity or temperature. Be careful to use area weighted averages here. (This could be a tool in regional_utils, but it’s not too much code, you decide!)</p></div><div id="zBcWbcvGAH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">for var in monthly_variables[0:1]:  # only one variable again, make it more!
    # Look at only the first time step for now
    field = monthly_data[var].isel(time=0)

    area_weights = utils.chooseAreacello(field.dims)
    field_weighted = field.weighted(static_data[area_weights])

    mean_vars = [dim for dim in field.dims if dim != &quot;z_l&quot;]
    field_mean = field_weighted.mean(mean_vars)

    field_mean.plot(y=&quot;z_l&quot;, yincrease=False)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="OeECbggCQQwjcucJNey7B" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/f5b89d7e293101f476169851a5f7f4b9.png" alt="&lt;Figure size 1280x960 with 1 Axes&gt;"/></div></div></div><div id="M5xbYqbOzU" class="myst-jp-nb-block relative group/block"><h2 id="bonus-interpolating-levels-and-slices" class="relative group"><span class="heading-text">Bonus: Interpolating Levels and Slices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#bonus-interpolating-levels-and-slices" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We successfully plotted different levels above, we can also plot vertical slices. In both cases, we might run into an issue where we want to interpolate to a depth or lat/lon that is not explicitly resolved in the model. We can write our own tailored methods for this, but for simple visual inspection/comparison Xarray tools work well!</p></div><div id="a9mBS0Skwu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">monthly_data[&quot;z_l&quot;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uxSluYoVS87xMJtQbCR-9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="hFkIbgzUzk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Plot a specific depth
field = monthly_data[&quot;thetao&quot;].isel(time=0)
field = field.interp(
    z_l=550, method=&quot;linear&quot;
)  # you may choose a different depth if you want to test the interpolation

coords = utils.chooseGeoCoords(field.dims)
areacello = utils.chooseAreacello(field.dims)

utils.plotLatLonField(
    field,
    latitude=static_data[coords[&quot;latitude&quot;]],
    longitude=static_data[coords[&quot;longitude&quot;]],
    stats=True,
    area_weights=static_data[areacello],
    save=save_figs,
    save_path=image_output_dir,
)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="zQ5r6K-6uZYNqAj8rGT_j" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/2e29d8f8e9082b49b2d20afb4329363f.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div></div></div><div id="vCnJo2yWzH" class="myst-jp-nb-block relative group/block"><h3 id="lets-try-it-with-a-vertical-slice-now-too" class="relative group"><span class="heading-text">Let’s try it with a vertical slice now too!</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lets-try-it-with-a-vertical-slice-now-too" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ZMl8WFNRbc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">field = monthly_data[&quot;thetao&quot;].isel(time=0)
x_var = &quot;xh&quot; if &quot;xh&quot; in field.dims else &quot;xq&quot;
longitude = np.mean(field[x_var].to_numpy())
vertical = field.interp({x_var: longitude})
levels = np.linspace(
    vertical.min().compute().item(), vertical.max().compute().item(), 35
)
vertical.plot(
    yincrease=False,
    levels=levels,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="zl_Bj4B9di3HGYXHacC6z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/aa0dbbac3fd993494bb686ed8ab6c689.png" alt="&lt;Figure size 1280x960 with 2 Axes&gt;"/></div></div></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/notebooks/diagnostics/cupid-output"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Basic CrocoDash Tutorial</div>Output from CUPiD Example</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/notebooks/diagnostics/cupid-output/regional-ocean-animations"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Basic CrocoDash Tutorial</div>Regional Ocean: Animations of Surface Fields</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/notebooks/diagnostics/cupid-output/regional-ocean-report-card","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/build/crocodile-1a441f1b02af83fca2009ffedd72ea56.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/build/tos_animation-662fef1744c599a049c536a46d1ea8f6.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/build/Jupyter_Terminal-cadcbd4fc8fa70535ddb8406a10d6ccd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/build/data_sources-83e17579a1412051c9dc81923addc0b1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/build/CACurrent_topo-964aa9382ad43be567b012cad6ed1940.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/build/crocodile-1a441f1b02af83fca2009ffedd72ea56.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/build/tos_animation-662fef1744c599a049c536a46d1ea8f6.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/build/Jupyter_Terminal-cadcbd4fc8fa70535ddb8406a10d6ccd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/build/data_sources-83e17579a1412051c9dc81923addc0b1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/build/CACurrent_topo-964aa9382ad43be567b012cad6ed1940.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"page":{"version":3,"kind":"Notebook","sha256":"611c80333fbaf9886841d7eaa210fc512c5fcc48a2975eac99117bf2c347ce4a","slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","location":"/notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb","dependencies":[],"frontmatter":{"title":"Regional Ocean: Basic Region and Surface Field Visualization","content_includes_title":true,"kernelspec":{"name":"cupid-analysis","display_name":"cupid-analysis","language":"python"},"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":3}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb","exports":[{"format":"ipynb","filename":"Regional_Ocean_Report_Card.ipynb","url":"/build/Regional_Ocean_Repor-0408b32b12d7d2a447b614bc4e29385f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.005054,"end_time":"2025-10-13T16:30:56.042060","exception":false,"start_time":"2025-10-13T16:30:56.037006","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regional Ocean: Basic Region and Surface Field Visualization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eZOHqmSKcj"}],"identifier":"regional-ocean-basic-region-and-surface-field-visualization","label":"Regional Ocean: Basic Region and Surface Field Visualization","html_id":"regional-ocean-basic-region-and-surface-field-visualization","implicit":true,"key":"JNHyHrefHZ"}],"visibility":"show","key":"FSkycxJzrQ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.003861,"end_time":"2025-10-13T16:30:56.050085","exception":false,"start_time":"2025-10-13T16:30:56.046224","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note: This notebook is meant to be run with the cupid-analysis kernel (see ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q72mvL2NRT"},{"type":"link","url":"https://ncar.github.io/CUPiD/index.html#installing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"CUPiD Installation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Btc5wAGct8"}],"urlSource":"https://ncar.github.io/CUPiD/index.html#installing","key":"vENp7IlcbY"},{"type":"text","value":"). This notebook is often run by default as part of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HlpkmaENCU"},{"type":"link","url":"https://ncar.github.io/CUPiD/run_cesm.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"CESM post-processing steps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gQvSKRyNW1"}],"urlSource":"https://ncar.github.io/CUPiD/run_cesm.html","key":"GVLRlxkhCL"},{"type":"text","value":", but you can also run it manually.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DbcKCHFn3M"}],"key":"PxzoY9ASpH"}],"visibility":"show","key":"d2EclQklqE"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.003798,"end_time":"2025-10-13T16:30:56.057764","exception":false,"start_time":"2025-10-13T16:30:56.053966","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Diagnostics and Plotting Resources","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lzBdym3lQP"}],"identifier":"diagnostics-and-plotting-resources","label":"Diagnostics and Plotting Resources","html_id":"diagnostics-and-plotting-resources","implicit":true,"key":"ziaQpu6RK8"},{"type":"heading","depth":3,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Highly Recommended:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Jc6SHtDc8d"}],"identifier":"highly-recommended","label":"Highly Recommended:","html_id":"highly-recommended","implicit":true,"key":"sUsAGESePD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://earth-env-data-science.github.io/intro.html","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Xarray Fundamentals - Earth Environmental Data Science Course (recommend the entire course!)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NvLvTnUZY6"}],"urlSource":"https://earth-env-data-science.github.io/intro.html","key":"N5ziDEclln"}],"key":"ULOJlPrOAD"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://mom6-analysiscookbook.readthedocs.io/en/latest/index.html","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"MOM6 Analysis Cookbook","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yMjunH9Fgf"}],"urlSource":"https://mom6-analysiscookbook.readthedocs.io/en/latest/index.html","key":"ElspgsSHsX"}],"key":"VWvf2M8SdX"},{"type":"heading","depth":3,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Great! Focused on Global Output Diagnostics","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MzhOUcJU6B"}],"identifier":"great-focused-on-global-output-diagnostics","label":"Great! Focused on Global Output Diagnostics","html_id":"great-focused-on-global-output-diagnostics","implicit":true,"key":"dhF2QJPqoX"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://mom6-tools.readthedocs.io/examples.html","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"MOM6 Tools (parimarily for global metrics)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Muwcp9Hzis"}],"urlSource":"https://mom6-tools.readthedocs.io/examples.html","key":"jR1XPH5Snm"}],"key":"CQoP6o0VZm"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://ncar.github.io/CESM-Tutorial/notebooks/diagnostics/mom/basics_mom.html","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"MOM6 Diagnostics - CESM Tutorial","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Iu6a7qXgpa"}],"urlSource":"https://ncar.github.io/CESM-Tutorial/notebooks/diagnostics/mom/basics_mom.html","key":"g0nUr8eSgZ"}],"key":"DzmpJeyiOr"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Misc.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"f3hEwdaUqw"}],"identifier":"misc","label":"Misc.","html_id":"misc","implicit":true,"key":"uqNj1JPgaC"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"link","url":"https://regional-mom6.readthedocs.io/en/latest/mom6-file-structure-primer.html","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"MOM6 File Structure","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Wz4gzlmcAJ"}],"urlSource":"https://regional-mom6.readthedocs.io/en/latest/mom6-file-structure-primer.html","key":"jTUYQCeR90"}],"key":"cqi5IZJU6A"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"link","url":"https://xgcm.readthedocs.io/en/latest/xgcm-examples/03_MOM6.html","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"xGCM - python package for staggered grids","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"HEgee1jZ7u"}],"urlSource":"https://xgcm.readthedocs.io/en/latest/xgcm-examples/03_MOM6.html","key":"qmxwvUVL94"}],"key":"ehq1okG1h9"}],"visibility":"show","key":"XfveONSXCf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:30:56.066223Z","iopub.status.busy":"2025-10-13T16:30:56.065963Z","iopub.status.idle":"2025-10-13T16:31:06.075099Z","shell.execute_reply":"2025-10-13T16:31:06.074475Z"},"papermill":{"duration":10.014815,"end_time":"2025-10-13T16:31:06.076394","exception":false,"start_time":"2025-10-13T16:30:56.061579","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%load_ext autoreload\n%autoreload 2\nimport os\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport regional_utils as utils\nimport xarray as xr\nfrom cartopy import crs as ccrs","visibility":"hide","key":"se5tnEV33c"},{"type":"outputs","id":"1qlGbPbP3nDxBTvQUwxAV","children":[],"visibility":"show","key":"IcnXKnfMUO"}],"visibility":"show","key":"fENfhkWXxH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:06.102353Z","iopub.status.busy":"2025-10-13T16:31:06.101995Z","iopub.status.idle":"2025-10-13T16:31:06.510160Z","shell.execute_reply":"2025-10-13T16:31:06.509495Z"},"papermill":{"duration":0.414883,"end_time":"2025-10-13T16:31:06.511629","exception":false,"start_time":"2025-10-13T16:31:06.096746","status":"completed"},"tags":["parameters"]},"children":[{"type":"code","lang":"python","executable":true,"value":"case_name = \"\"  # \"/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/\"\nCESM_output_dir = \"\"  # \"CROCODILE_tutorial_nwa12_MARBL\"\n\n# As regional domains vary so much in purpose, simulation length, and extent, we don't want to assume a minimum duration\n## Thus, we ignore start and end dates and simply reduce/output over the whole time frame for all of the examples given.\nstart_date = None  # \"0001-01-01\"\nend_date = None  # \"0101-01-01\n\nsave_figs = False\nfig_output_dir = None\n\nlc_kwargs = {}\nserial = False\n\nsfc_variables = []  # ['SSH', 'tos', 'sos', 'speed', 'SSV', 'SSU']\nmonthly_variables = []  # ['thetao', 'so', 'uo', 'vo']","visibility":"hide","key":"aUB8tujU5u"},{"type":"outputs","id":"vdZ-jkGRZ5evNBKQl2ext","children":[],"visibility":"show","key":"gsxHhsCFuF"}],"visibility":"show","key":"YkTA0wK2MC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:06.521406Z","iopub.status.busy":"2025-10-13T16:31:06.521177Z","iopub.status.idle":"2025-10-13T16:31:06.571336Z","shell.execute_reply":"2025-10-13T16:31:06.570970Z"},"papermill":{"duration":0.055474,"end_time":"2025-10-13T16:31:06.572010","exception":false,"start_time":"2025-10-13T16:31:06.516536","status":"completed"},"tags":["injected-parameters"]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Parameters\ncase_name = \"CROCODILE_tutorial_nwa12_MARBL\"\nCESM_output_dir = (\n    \"/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/\"\n)\nstart_date = \"\"\nend_date = \"\"\nsave_figs = True\nfig_output_dir = None\nlc_kwargs = {\"threads_per_worker\": 1}\nserial = True\nsfc_variables = [\"tos\"]\nmonthly_variables = [\"thetao\"]\nsubset_kwargs = {}\nproduct = \"/glade/work/ajanney/crocodile_2025/CUPiD/examples/regional_ocean/computed_notebooks//ocn/Regional_Ocean_Report_Card.ipynb\"\n","visibility":"show","key":"XRcdSZt0ap"},{"type":"outputs","id":"xl0AKJ_VZvx6wNVM1AXrx","children":[],"visibility":"show","key":"OcRNbYRR3a"}],"visibility":"show","key":"hRcxjjA7VH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:06.580713Z","iopub.status.busy":"2025-10-13T16:31:06.580562Z","iopub.status.idle":"2025-10-13T16:31:06.631369Z","shell.execute_reply":"2025-10-13T16:31:06.631037Z"},"papermill":{"duration":0.055789,"end_time":"2025-10-13T16:31:06.631913","exception":false,"start_time":"2025-10-13T16:31:06.576124","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"OUTDIR = os.path.join(CESM_output_dir, case_name, \"ocn\", \"hist\")\nprint(\"Output directory is:\", OUTDIR)","visibility":"hide","key":"DMK3sTFxOF"},{"type":"outputs","id":"k_o_q6S4M77LTehIfpL9G","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Output directory is: /glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/Diagnostics/CESM_Output/CROCODILE_tutorial_nwa12_MARBL/ocn/hist\n"},"children":[],"key":"SSyaLdEEyd"}],"visibility":"show","key":"jwCLb5Zv7n"}],"visibility":"show","key":"x0mtShZo4d"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.004039,"end_time":"2025-10-13T16:31:06.640189","exception":false,"start_time":"2025-10-13T16:31:06.636150","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load in Model Output and Look at Variables/Meta Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y5LNZdoypS"}],"identifier":"load-in-model-output-and-look-at-variables-meta-data","label":"Load in Model Output and Look at Variables/Meta Data","html_id":"load-in-model-output-and-look-at-variables-meta-data","implicit":true,"key":"ReIU8IV6Gu"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Default File Structure in MOM6","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZfPliDfldA"}],"identifier":"default-file-structure-in-mom6","label":"Default File Structure in MOM6","html_id":"default-file-structure-in-mom6","implicit":true,"key":"OAPdLTagGB"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This file structure will be different if you modify the diag_table.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WEzAMone4o"}],"key":"ikiMnLwdka"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"static data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"AjCkcmM2Cr"}],"key":"EemY64c7FR"},{"type":"text","value":": contains horizontal grid, vertical grid, land/sea mask, bathymetry, lat/lon information","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"DeZQpXbCpm"}],"key":"RcHLX3ZiXx"}],"key":"FcrfoqCKm4"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"sfc data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"putkKfyRiS"}],"key":"PnSn7LGTKt"},{"type":"text","value":": daily output of 2D surface fields (salinity, temp, SSH, velocities)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CUehJmVrhU"}],"key":"dIepoHgWiv"}],"key":"n0WkIGJA9I"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"monthly data","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lqbiol1m5T"}],"key":"PwwFEd9vGI"},{"type":"text","value":": averaged monthly output of the full 3D domain, regridded to a predefined grid (MOM6 default is WOA, see more below)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rPv4pB7pKp"}],"key":"JcqD5kXgpJ"}],"key":"SFusIXlo3N"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"native data","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"c4GkBz9ocd"}],"key":"iYz5b9Ba8q"},{"type":"text","value":": averaged monthly output of ocean state and atmospheric fluxes on the native MOM6 grid","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"zPtdsdDnoH"}],"key":"sv0QFqtBK2"}],"key":"uhhopV3ChT"}],"key":"XzT3tfILeO"}],"visibility":"show","key":"v2P0IJj6Up"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:06.648840Z","iopub.status.busy":"2025-10-13T16:31:06.648698Z","iopub.status.idle":"2025-10-13T16:31:36.638345Z","shell.execute_reply":"2025-10-13T16:31:36.637801Z"},"papermill":{"duration":29.994821,"end_time":"2025-10-13T16:31:36.639049","exception":false,"start_time":"2025-10-13T16:31:06.644228","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Xarray time decoding things\ntime_coder = xr.coders.CFDatetimeCoder(use_cftime=True)\n\n## Static data includes hgrid, vgrid, bathymetry, land/sea mask\nstatic_data = xr.open_mfdataset(\n    os.path.join(OUTDIR, \"*h.static.nc\"),\n    decode_timedelta=True,\n    decode_times=time_coder,\n    engine=\"netcdf4\",\n)\n\n## Surface Data\nsfc_data = xr.open_mfdataset(\n    os.path.join(OUTDIR, \"*h.sfc*.nc\"),\n    decode_timedelta=True,\n    decode_times=time_coder,\n    engine=\"netcdf4\",\n)\n\n## Monthly Full Domain Data\n## Not used in this notebook by default\nmonthly_data = xr.open_mfdataset(\n    os.path.join(OUTDIR, \"*h.z*.nc\"),\n    decode_timedelta=True,\n    decode_times=time_coder,\n    engine=\"netcdf4\",\n)\n\n## Monthly Full Domain Data, on native MOM6 grid\n## Not used in this notebook by default\nnative_data = xr.open_mfdataset(\n    os.path.join(OUTDIR, \"*h.native*.nc\"),\n    decode_timedelta=True,\n    decode_times=time_coder,\n    engine=\"netcdf4\",\n)\n\n## Image/Gif Output Directory\nif fig_output_dir is None:\n    image_output_dir = os.path.join(\n        \"/glade/derecho/scratch/\",\n        os.environ[\"USER\"],\n        \"archive\",\n        case_name,\n        \"ocn\",\n        \"cupid_images\",\n    )\nelse:\n    image_output_dir = os.path.join(fig_output_dir, case_name, \"ocn\", \"cupid_images\")\nif not os.path.exists(image_output_dir):\n    os.makedirs(image_output_dir)\nprint(\"Image output directory is:\", image_output_dir)","visibility":"hide","key":"kNYQKZdsGo"},{"type":"outputs","id":"q7uqb9ElheSz-mUQljKUm","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Image output directory is: /glade/derecho/scratch/ajanney/archive/CROCODILE_tutorial_nwa12_MARBL/ocn/cupid_images\n"},"children":[],"key":"bRMkt9CCXA"}],"visibility":"show","key":"ksqkaPIHbX"}],"visibility":"show","key":"byk7Yl1RaK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:36.650159Z","iopub.status.busy":"2025-10-13T16:31:36.649826Z","iopub.status.idle":"2025-10-13T16:31:36.818566Z","shell.execute_reply":"2025-10-13T16:31:36.818106Z"},"papermill":{"duration":0.174199,"end_time":"2025-10-13T16:31:36.819110","exception":false,"start_time":"2025-10-13T16:31:36.644911","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Select for only the variables we want to analyze\nif len(sfc_variables) \u003e 0:\n    print(\"Selecting only the following surface variables:\", sfc_variables)\n    sfc_data = sfc_data[sfc_variables]\nif len(monthly_variables) \u003e 0:\n    print(\"Selecting only the following monthly variables:\", monthly_variables)\n    monthly_data = monthly_data[monthly_variables]\n\n## Apply time boundaries\n## if they are the right format\nif len(start_date.split(\"-\")) == 3 and len(end_date.split(\"-\")) == 3:\n    import cftime\n\n    calendar = sfc_data.time.encoding.get(\"calendar\", \"standard\")\n\n    calendar_map = {\n        \"gregorian\": cftime.DatetimeProlepticGregorian,\n        \"noleap\": cftime.DatetimeNoLeap,\n    }\n\n    CFTime = calendar_map.get(calendar, cftime.DatetimeGregorian)\n    y, m, d = [int(i) for i in start_date.split(\"-\")]\n    start_date_time = CFTime(y, m, d)\n    y, m, d = [int(i) for i in end_date.split(\"-\")]\n    end_date_time = CFTime(y, m, d)\n\n    print(\n        f\"Applying time range from start_date: {start_date_time} and end_date: {end_date_time}.\"\n    )\n\n    sfc_data = sfc_data.sel(time=slice(start_date_time, end_date_time))\n    monthly_data = monthly_data.sel(time=slice(start_date_time, end_date_time))\n    native_data = native_data.sel(time=slice(start_date_time, end_date_time))\n\nsfc_time_bounds = [\n    sfc_data[\"time\"].isel(time=0).compute().item(),\n    sfc_data[\"time\"].isel(time=-1).compute().item(),\n]\nmonthly_time_bounds = [\n    monthly_data[\"time\"].isel(time=0).compute().item(),\n    monthly_data[\"time\"].isel(time=-1).compute().item(),\n]\n\nprint(f\"Surface Data Time Bounds: {sfc_time_bounds[0]} to {sfc_time_bounds[-1]}\")\nprint(\n    f\"Monthly Data Time Bounds: {monthly_time_bounds[0]} to {monthly_time_bounds[-1]}\"\n)","visibility":"hide","key":"mQvY8DEF16"},{"type":"outputs","id":"JswLgN0eDPKfosHZXFQUi","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Selecting only the following surface variables: ['tos']\nSelecting only the following monthly variables: ['thetao']\nSurface Data Time Bounds: 1999-12-30 12:00:00 to 2000-11-28 12:00:00\nMonthly Data Time Bounds: 2000-01-14 12:00:00 to 2000-10-14 12:00:00\n"},"children":[],"key":"mUaZYjNCwC"}],"visibility":"show","key":"BGXL8GyAmr"}],"visibility":"show","key":"DepwEzwkNP"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.004185,"end_time":"2025-10-13T16:31:36.827644","exception":false,"start_time":"2025-10-13T16:31:36.823459","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"*mom6.h.static*.nc","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TiFiUbV9ZM"}],"key":"OevzO79Oiv"},{"type":"text","value":": static information about the domain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sgnYLD6KzB"}],"identifier":"id-mom6-h-static-nc-static-information-about-the-domain","label":"*mom6.h.static*.nc: static information about the domain","html_id":"id-mom6-h-static-nc-static-information-about-the-domain","implicit":true,"key":"sFarmXwDiu"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The MOM6 grid uses an Arakawa C grid which staggers velocities and tracers (temp, salinity, SSH, etc.). See ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lNAgwpNd2A"},{"type":"link","url":"https://mom6.readthedocs.io/en/main/api/generated/pages/Discrete_Grids.html#horizontal-grids","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"this MOM6 documentation","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"rzKid8ZvTZ"}],"urlSource":"https://mom6.readthedocs.io/en/main/api/generated/pages/Discrete_Grids.html#horizontal-grids","key":"IIbJXK5TfV"},{"type":"text","value":" for more information.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"H29WyGhYH3"}],"key":"u1KPgY8wqE"},{"type":"heading","depth":4,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Some variables of interest:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tps9wtfDAs"}],"identifier":"some-variables-of-interest","label":"Some variables of interest:","html_id":"some-variables-of-interest","implicit":true,"key":"pL7biKV4xH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":"geolon","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gSHaaZ4QYl"},{"type":"text","value":"/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"l73jMbVN3O"},{"type":"inlineCode","value":"geolat","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZrCQqNNijm"}],"key":"VvhjSjN3S1"},{"type":"text","value":" (and c/u/v variants): specifies the true lat/lon of each cell. We use these variables for plotting and placing the data geographically.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jBNPzLlg5R"}],"key":"AZJRtRBH4N"}],"key":"mlwIPRPh7U"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"wet","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XXxQArVf23"}],"key":"rFwOUFcthY"},{"type":"text","value":" (and c/u/v variants): the land-sea mask that specifies if a given point is on land or sea.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VchJkfEDlp"}],"key":"FpTKWbodNa"}],"key":"Z7e3nEIq8q"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"areacello","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"co6WSjwi3E"}],"key":"g4EcpPxqab"},{"type":"text","value":" (and bu,cu,cv variants): area of grid cell (important for taking area-weighted averages)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"oDVJ5kGM7d"}],"key":"EQYJp8BCdk"}],"key":"ic6FNs1aqT"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"deptho","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"c33uPS0K18"}],"key":"K34Brz4z66"},{"type":"text","value":": depth of ocean floor - bathymetry","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xgQ9YXL6tw"}],"key":"x3sKVTtrZO"}],"key":"cHajAwLf6p"}],"key":"IoyhWqUM1L"}],"visibility":"show","key":"AeHnsVS7hk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:36.842672Z","iopub.status.busy":"2025-10-13T16:31:36.842517Z","iopub.status.idle":"2025-10-13T16:31:37.026570Z","shell.execute_reply":"2025-10-13T16:31:37.026085Z"},"papermill":{"duration":0.189881,"end_time":"2025-10-13T16:31:37.027620","exception":false,"start_time":"2025-10-13T16:31:36.837739","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"static_data","visibility":"hide","key":"MSA8BoRyA9"},{"type":"outputs","id":"D-dDaJq2Ek0Cdth1FAoRZ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"284b20c7a73fe4ac079091efd12de1f6","path":"/build/284b20c7a73fe4ac079091efd12de1f6.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 46MB\nDimensions:       (xh: 740, yh: 780, time: 1, xq: 741, yq: 781)\nCoordinates:\n  * xh            (xh) float64 6kB -97.96 -97.88 -97.79 ... -36.54 -36.46 -36.38\n  * yh            (yh) float64 6kB 5.243 5.326 5.409 5.492 ... 53.82 53.86 53.89\n  * time          (time) object 8B 0001-01-01 00:00:00\n  * xq            (xq) float64 6kB -98.0 -97.92 -97.83 ... -36.5 -36.42 -36.33\n  * yq            (yq) float64 6kB 5.201 5.284 5.367 5.45 ... 53.84 53.87 53.91\nData variables: (12/20)\n    geolon        (yh, xh) float32 2MB dask.array\u003cchunksize=(780, 740), meta=np.ndarray\u003e\n    geolat        (yh, xh) float32 2MB dask.array\u003cchunksize=(780, 740), meta=np.ndarray\u003e\n    geolon_c      (yq, xq) float32 2MB dask.array\u003cchunksize=(781, 741), meta=np.ndarray\u003e\n    geolat_c      (yq, xq) float32 2MB dask.array\u003cchunksize=(781, 741), meta=np.ndarray\u003e\n    geolon_u      (yh, xq) float32 2MB dask.array\u003cchunksize=(780, 741), meta=np.ndarray\u003e\n    geolat_u      (yh, xq) float32 2MB dask.array\u003cchunksize=(780, 741), meta=np.ndarray\u003e\n    ...            ...\n    areacello     (yh, xh) float32 2MB dask.array\u003cchunksize=(780, 740), meta=np.ndarray\u003e\n    areacello_cu  (yh, xq) float32 2MB dask.array\u003cchunksize=(780, 741), meta=np.ndarray\u003e\n    areacello_cv  (yq, xh) float32 2MB dask.array\u003cchunksize=(781, 740), meta=np.ndarray\u003e\n    areacello_bu  (yq, xq) float32 2MB dask.array\u003cchunksize=(781, 741), meta=np.ndarray\u003e\n    sin_rot       (yh, xh) float32 2MB dask.array\u003cchunksize=(780, 740), meta=np.ndarray\u003e\n    cos_rot       (yh, xh) float32 2MB dask.array\u003cchunksize=(780, 740), meta=np.ndarray\u003e\nAttributes:\n    NumFilesInSet:  1\n    title:          MOM6 diagnostic fields table for CESM case: marbl.bio.croc.5\n    grid_type:      regular\n    grid_tile:      N/A","content_type":"text/plain"}}},"children":[],"key":"xXoK2Hd3h9"}],"visibility":"show","key":"S6cPUcMh6H"}],"visibility":"show","key":"TV3eZt3HZt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.005413,"end_time":"2025-10-13T16:31:37.039497","exception":false,"start_time":"2025-10-13T16:31:37.034084","status":"completed"},"tags":[]},"children":[{"type":"div","class":"alert alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Indexing and the Horizontal C-grid in MOM6","key":"fXp6UjvPU7"}],"key":"mddeqNjqio"},{"type":"paragraph","children":[{"type":"text","value":"When accessing the output, we need to pay particular attention to which variables we are accessing and which coordinates correspond to their position on the grid. This also affects plotting and spatial averages (as we will see in this notebook and others).","key":"QGchb6YEcn"}],"key":"HPQWd9y23A"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"xh","key":"S5wPjofsQO"},{"type":"text","value":"/","key":"ixM1X25QbV"},{"type":"inlineCode","value":"yh","key":"hfH5rn9K3d"},{"type":"text","value":": index the center of the cell in ","key":"NmNxHHNHqV"},{"type":"inlineCode","value":"x","key":"TP4K1PfiXy"},{"type":"text","value":" and ","key":"gtnbNkBUPa"},{"type":"inlineCode","value":"y","key":"dmaS9ocbae"},{"type":"text","value":" respectively","key":"BThZ763Xfn"}],"key":"HSiqg521d6"}],"key":"zjwmhnrpYG"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"xq","key":"afYg3ue4Nc"},{"type":"text","value":"/","key":"AjPCNBgxKW"},{"type":"inlineCode","value":"yq","key":"YYGYrpUZo2"},{"type":"text","value":": index the corner of the cell in ","key":"ApBKMq3hDX"},{"type":"inlineCode","value":"x","key":"gQNM5sLqEB"},{"type":"text","value":" and ","key":"as9aFVODSf"},{"type":"inlineCode","value":"y","key":"UqmDD2sdYq"},{"type":"text","value":" respectively","key":"PgV66GLkVh"}],"key":"GARLeUj6XX"}],"key":"wjH7TFU7x9"}],"key":"T63wkXuDhl"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Coordinates:","key":"htwQVykQb4"}],"key":"WxmpxUaUbs"}],"key":"n5S5PiV3M7"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(","key":"bvdomInSEr"},{"type":"inlineCode","value":"xh","key":"tkQqocjDnh"},{"type":"text","value":",","key":"je6zplGM39"},{"type":"inlineCode","value":"yh","key":"Oxv61xG8wO"},{"type":"text","value":"): center of cell, where tracers are. Plot with ","key":"STCkn3tlre"},{"type":"inlineCode","value":"geolon","key":"Xeh4UJ3tEE"},{"type":"text","value":",","key":"wchV6NAgpY"},{"type":"inlineCode","value":"geolat","key":"j7lE9Kkkzm"},{"type":"text","value":".","key":"X44s1PHzcq"}],"key":"bnZBDmLZq7"}],"key":"XR97HM52MB"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(","key":"nGcLEM7A6P"},{"type":"inlineCode","value":"xh","key":"tOrk1W5Xzw"},{"type":"text","value":",","key":"eVEsBhPjlT"},{"type":"inlineCode","value":"yq","key":"P7ujThpNd1"},{"type":"text","value":"): middle of horizontal interface, where meridional (v) velocity is. Plot with ","key":"Q4XAUfvLOp"},{"type":"inlineCode","value":"geolon_v","key":"saVg74tedy"},{"type":"text","value":",","key":"rI9YCVZU0X"},{"type":"inlineCode","value":"geolat_v","key":"STMxJUFToY"},{"type":"text","value":".","key":"YOX9QuH7Yu"}],"key":"YiWR61mfYR"}],"key":"bK4GcIJ3b6"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(","key":"mPPkVgBQ1t"},{"type":"inlineCode","value":"xq","key":"pbhDMNl57F"},{"type":"text","value":",","key":"MinaVRgKoq"},{"type":"inlineCode","value":"yh","key":"PhFmuYmYCI"},{"type":"text","value":"): middle of vertical interface, where zonal (u) velocity is. Plot with ","key":"E3QoH29xXJ"},{"type":"inlineCode","value":"geolon_u","key":"dxcd3w5xmA"},{"type":"text","value":",","key":"s07ZIJasiM"},{"type":"inlineCode","value":"geolat_u","key":"BbTvGPpoiH"},{"type":"text","value":".","key":"yV2AgC7gfE"}],"key":"ckXin5OtXG"}],"key":"Qum1qFMDIl"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(","key":"ao9CgiGJho"},{"type":"inlineCode","value":"xq","key":"PWHEfFIEoZ"},{"type":"text","value":",","key":"k068NnsqlB"},{"type":"inlineCode","value":"yq","key":"UCmUtpuXJy"},{"type":"text","value":"): corners between cells, where vorticity is.","key":"Yzte1gCYag"}],"key":"XUZSUchEZd"}],"key":"chQwjWA03h"}],"key":"L0WLvH1y18"}],"key":"Ue2J1npDwi"}],"visibility":"show","key":"xuXQ2Vtwog"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.00528,"end_time":"2025-10-13T16:31:37.050093","exception":false,"start_time":"2025-10-13T16:31:37.044813","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"*h.sfc*.nc","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tbGxlxqor1"}],"key":"bBvkvwAME7"},{"type":"text","value":": daily surface fields","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"teQFio8FO2"}],"identifier":"id-h-sfc-nc-daily-surface-fields","label":"*h.sfc*.nc: daily surface fields","html_id":"id-h-sfc-nc-daily-surface-fields","implicit":true,"key":"hJgRs82r5k"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The surface fields are especially useful for diagnosing short runs. This is not only the most dynamic field for short runs, but it also is the only file that stores daily results (by default). A lot of the diagnostics in this notebook use surface fields because we are able to take time averages and look at time series for any run longer than a couple of days (unlike the full 3D domain fields which are averaged over each month).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"bASKKPoxGx"}],"key":"tfPLfqa3d0"},{"type":"heading","depth":4,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Some variables of interest:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uVYEnZYyWi"}],"identifier":"some-variables-of-interest","label":"Some variables of interest:","html_id":"some-variables-of-interest-1","implicit":true,"key":"la17XOWqcC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"SSH","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TClycGhuxp"},{"type":"text","value":": sea surface height","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"u4HhtA2heY"}],"key":"SfISInp6JS"}],"key":"IzyNl3gJeD"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"tos","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"r4VnGgAvpz"},{"type":"text","value":": temperature of ocean surface","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TFMrYZmfVL"}],"key":"wYqn9soVxe"}],"key":"pPRMjwFTeT"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sos","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Be61GRBNDw"},{"type":"text","value":": salinity of ocean surface","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"uep72RHgz2"}],"key":"l3JkIVuL4R"}],"key":"SYUOiGjXc3"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"speed","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qNZjyp7Dme"},{"type":"text","value":": magnitude of speed (considered a tracer, at the center of a cell)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WyKsGZOlaH"}],"key":"XykTJMvzsz"}],"key":"QYGGpmd7EF"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"SSU","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uCe30hpTdX"},{"type":"text","value":" and ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"lWXVtVYr0k"},{"type":"inlineCode","value":"SSV","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GdEjdUNqmk"},{"type":"text","value":": zonal and meridional velocity at the surface","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qYdxR82UO5"}],"key":"mPrUB8PPhR"}],"key":"DeC2q2hbX3"}],"key":"oz7vzlMkho"}],"visibility":"show","key":"C0b8fvM4Zd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:37.061187Z","iopub.status.busy":"2025-10-13T16:31:37.061014Z","iopub.status.idle":"2025-10-13T16:31:37.138834Z","shell.execute_reply":"2025-10-13T16:31:37.138397Z"},"papermill":{"duration":0.084043,"end_time":"2025-10-13T16:31:37.139410","exception":false,"start_time":"2025-10-13T16:31:37.055367","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sfc_data","visibility":"hide","key":"U3O0LKKpIY"},{"type":"outputs","id":"6Lp00bfyGOB4zyYoUB8LZ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"e8b9c65b6c6d32333b330e6d7939123c","path":"/build/e8b9c65b6c6d32333b330e6d7939123c.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 773MB\nDimensions:  (time: 335, yh: 780, xh: 740)\nCoordinates:\n  * xh       (xh) float64 6kB -97.96 -97.88 -97.79 ... -36.54 -36.46 -36.38\n  * yh       (yh) float64 6kB 5.243 5.326 5.409 5.492 ... 53.82 53.86 53.89\n  * time     (time) object 3kB 1999-12-30 12:00:00 ... 2000-11-28 12:00:00\nData variables:\n    tos      (time, yh, xh) float32 773MB dask.array\u003cchunksize=(31, 780, 740), meta=np.ndarray\u003e\nAttributes:\n    NumFilesInSet:     1\n    title:             MOM6 diagnostic fields table for CESM case: marbl.bio....\n    associated_files:  areacello: marbl.bio.croc.5.mom6.h.static.nc\n    grid_type:         regular\n    grid_tile:         N/A","content_type":"text/plain"}}},"children":[],"key":"gIDvAGH9s3"}],"visibility":"show","key":"TLg5WKvtuB"}],"visibility":"show","key":"ynlHI46kEA"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.005731,"end_time":"2025-10-13T16:31:37.151016","exception":false,"start_time":"2025-10-13T16:31:37.145285","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"*h.z*.nc","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P9JKrVRWfx"}],"key":"xK86EPu8bH"},{"type":"text","value":": fields for the full 3D domain, averaged monthly, regridded vertically","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZCl8aB3D0S"}],"identifier":"id-h-z-nc-fields-for-the-full-3d-domain-averaged-monthly-regridded-vertically","label":"*h.z*.nc: fields for the full 3D domain, averaged monthly, regridded vertically","html_id":"id-h-z-nc-fields-for-the-full-3d-domain-averaged-monthly-regridded-vertically","implicit":true,"key":"GSJ7nodssR"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"These are vertically remapped diagnostics files that capture the full 3D domain, but they only output monthly averages. For runs less than a month, they will average over the full length of the run.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"os9kox8SCL"}],"key":"XDK9SeZXqf"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"By default, this diagnostics MOM6 regrids output to the vertical grid from the 2009 World Ocean Atlas (35 layers down to 6750 m).","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"edeq7CiNGl"}],"key":"AmxrbFdJAj"},{"type":"heading","depth":4,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Some variables of interest:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QvGTpuhxdM"}],"identifier":"some-variables-of-interest","label":"Some variables of interest:","html_id":"some-variables-of-interest-2","implicit":true,"key":"DcfNDMwMME"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"uo","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GQTllOnx7G"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UkjMH9ClI5"},{"type":"inlineCode","value":"vo","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"F1fs11Er20"},{"type":"text","value":": zonal and meridional velocity","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"V8lJe9QEoc"}],"key":"F93MjFfHzV"}],"key":"udLCgrLSNe"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"thetao","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QlSfAj99Ur"},{"type":"text","value":": potential temperature","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UkUSh1vsi2"}],"key":"spA42VNixU"}],"key":"D2FvxAMWeL"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"so","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gl9AAPZCx6"},{"type":"text","value":": salinity","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YGBXGj3inb"}],"key":"TH236ErCEc"}],"key":"hja0XNfYWB"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"vmo","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ghApIGalO2"},{"type":"text","value":" and ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"i8ktARZudy"},{"type":"inlineCode","value":"umo","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MpzlhuttGV"},{"type":"text","value":": zonal and meridional mass transport","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"DNGrunSCV0"}],"key":"p0rbP7MTYw"}],"key":"Ts01wZErno"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"volcello","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"LMS8x9QWRg"},{"type":"text","value":": volume of each cell (important for averaging over a volume of the domain)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"MXgLLvvDke"}],"key":"bjzP8j7Y9F"}],"key":"DOhLVUuBOa"}],"key":"LGm2BzVg6q"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jXUGeu2Tom"}],"key":"rNiTgJ7Jx9"},{"type":"text","value":" now there are two ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"uLAZi2btGh"},{"type":"inlineCode","value":"z","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dvJfOFXgo3"},{"type":"text","value":" coordinates. ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"cCOAmmEJz3"},{"type":"inlineCode","value":"z_i","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BWbTQlPuJA"},{"type":"text","value":" is the vertical interface between cells and ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"qB2kf1kfkY"},{"type":"inlineCode","value":"z_l","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"K9pFTaTiW0"},{"type":"text","value":" identifies the depth of the cell centers.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WhtvFgPmPD"}],"key":"d1oefta4yB"}],"visibility":"show","key":"M3ZCcjEDKD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:37.163186Z","iopub.status.busy":"2025-10-13T16:31:37.163003Z","iopub.status.idle":"2025-10-13T16:31:37.212770Z","shell.execute_reply":"2025-10-13T16:31:37.212366Z"},"papermill":{"duration":0.056582,"end_time":"2025-10-13T16:31:37.213336","exception":false,"start_time":"2025-10-13T16:31:37.156754","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"monthly_data","visibility":"hide","key":"ZewfU1JyXo"},{"type":"outputs","id":"Oxrqw9gGZftigw-zYLC9Z","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"92a38eb9a3e6fb6b8c1d9da71cce5cbb","path":"/build/92a38eb9a3e6fb6b8c1d9da71cce5cbb.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 808MB\nDimensions:  (time: 10, z_l: 35, yh: 780, xh: 740)\nCoordinates:\n  * yh       (yh) float64 6kB 5.243 5.326 5.409 5.492 ... 53.82 53.86 53.89\n  * z_l      (z_l) float64 280B 2.5 10.0 20.0 32.5 ... 5.5e+03 6e+03 6.5e+03\n  * time     (time) object 80B 2000-01-14 12:00:00 ... 2000-10-14 12:00:00\n  * xh       (xh) float64 6kB -97.96 -97.88 -97.79 ... -36.54 -36.46 -36.38\nData variables:\n    thetao   (time, z_l, yh, xh) float32 808MB dask.array\u003cchunksize=(1, 35, 780, 740), meta=np.ndarray\u003e\nAttributes:\n    NumFilesInSet:     1\n    title:             MOM6 diagnostic fields table for CESM case: marbl.bio....\n    associated_files:  areacello: marbl.bio.croc.5.mom6.h.static.nc\n    grid_type:         regular\n    grid_tile:         N/A","content_type":"text/plain"}}},"children":[],"key":"OZ8hohrAbI"}],"visibility":"show","key":"ftYswl7SDd"}],"visibility":"show","key":"flCWCdq9tN"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.006168,"end_time":"2025-10-13T16:31:37.225696","exception":false,"start_time":"2025-10-13T16:31:37.219528","status":"completed"},"tags":[]},"children":[{"type":"div","class":"alert alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Note on Vertically Remapped Diagnostics in MOM6","key":"BO48lXJVe8"}],"key":"e5XDeC1FBe"},{"type":"paragraph","children":[{"type":"text","value":"The output found in ","key":"XNLUonSU70"},{"type":"inlineCode","value":"*mom6.h.z.*.nc","key":"UKQw5uTaeg"},{"type":"text","value":" files is vertically remapped by MOM6. By default, this output is on the 2009 World Ocean Atlas grid. You can regrid the output after runtime (see packages like ","key":"iBYjDISniJ"},{"type":"link","url":"https://xgcm.readthedocs.io/en/latest/index.html","children":[{"type":"text","value":"xgcm","key":"jadNyEWVOe"}],"urlSource":"https://xgcm.readthedocs.io/en/latest/index.html","key":"n02jFaGfnX"},{"type":"text","value":" and and ","key":"IKfApUVsVP"},{"type":"link","url":"https://xesmf.readthedocs.io/en/stable/","children":[{"type":"text","value":"xESMF","key":"vsweawZ6Gb"}],"urlSource":"https://xesmf.readthedocs.io/en/stable/","key":"pE5hi37GGa"},{"type":"text","value":"), but if you know a vertical grid that you need output on, MOM6 can handle the interpolation automatically.","key":"RebZFjZQka"}],"key":"wSxFxlBn55"},{"type":"paragraph","children":[{"type":"text","value":"The vertical grid settings for a particular CESM run can be found in ","key":"sgjZSsrOPc"},{"type":"inlineCode","value":"MOM_parameter_doc.all","key":"CoenNj2Z3Q"},{"type":"text","value":" in the CESM case run directory. See ","key":"NpbgwjOmS4"},{"type":"link","url":"https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#vertically-remapped-diagnostics","children":[{"type":"text","value":"this MOM6 documentation","key":"jIh6f4txud"}],"urlSource":"https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#vertically-remapped-diagnostics","key":"jaqXTEmsWc"},{"type":"text","value":" for more information.","key":"jDl8g3Ps1A"}],"key":"RiV3ezhhPa"}],"key":"JXX0Das6za"}],"visibility":"show","key":"FQBsFCqsgw"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.00607,"end_time":"2025-10-13T16:31:37.237937","exception":false,"start_time":"2025-10-13T16:31:37.231867","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"*h.native*.nc","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vlL5hujHAp"}],"key":"wgtG3aIkxM"},{"type":"text","value":": fields for the full 3D domain, averaged monthly, on native MOM6 grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uO0EgTPHHb"}],"identifier":"id-h-native-nc-fields-for-the-full-3d-domain-averaged-monthly-on-native-mom6-grid","label":"*h.native*.nc: fields for the full 3D domain, averaged monthly, on native MOM6 grid.","html_id":"id-h-native-nc-fields-for-the-full-3d-domain-averaged-monthly-on-native-mom6-grid","implicit":true,"key":"zLZBDIrL6y"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"These outputs are on the MOM6 native grid. From the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EBsJoQXYLg"},{"type":"link","url":"https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#native-diagnostics","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"MOM6 Documentation","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"P4OGgzVLTP"}],"urlSource":"https://mom6.readthedocs.io/en/main/api/generated/pages/Diagnostics.html#native-diagnostics","key":"JgDBuZBmfE"},{"type":"text","value":":","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yKd85WrFwo"}],"key":"Cq8cBee8HZ"},{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Since the model can be run in arbitrary coordinates, say in hybrid-coordinate mode, then native-space diagnostics can be potentially confusing. Native diagnostics are useful when examining exactly what the model is doing","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oJMXkr7b2i"}],"key":"ySd8IVOSSk"}],"key":"SHbgsc0LLm"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The default native file (as configured by CESM) also outputs useful global averages and atmospheric variables.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OvSuQ7UEM2"}],"key":"sb0EcNwYzk"},{"type":"heading","depth":4,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Some variables of interest:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sfcZ0TGu3u"}],"identifier":"some-variables-of-interest","label":"Some variables of interest:","html_id":"some-variables-of-interest-3","implicit":true,"key":"PPoU4t0lOr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"soga","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EpA7kDe4HH"},{"type":"text","value":": global mean ocean salinity","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rC54xtcAFl"}],"key":"Wp7JNe6WeJ"}],"key":"JqOuGrAmdE"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"thetaoga","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qOmSqBXCkp"},{"type":"text","value":": global mean ocean potential temperature","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZS8z7HrCQZ"}],"key":"sOqlNZhhRX"}],"key":"jt74mHuOOd"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"tauuo","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"aaT3hyrmT4"},{"type":"text","value":" and ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"alcwxQBhp7"},{"type":"inlineCode","value":"tauvo","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"I8mnuGvsp5"},{"type":"text","value":": zonal and meridional downward stress from the atmospheric forcing","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"aYhJmVG8a3"}],"key":"pnR8m9XFLI"}],"key":"lVx4mK0Dml"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"hfds","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mojyeZtPnW"},{"type":"text","value":": net downward surface heat flux","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"TG78tyyugX"}],"key":"TKM9604bi6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"hf*","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"QcyUMXE60q"},{"type":"text","value":": various individual heat fluxes into the ocean","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nXoE6L1GuO"}],"key":"u6Sg8eAG3J"}],"key":"QL5lgHuHsX"}],"key":"THAU8iVQ6O"}],"key":"nyrKnvbr7A"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"friver","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"da6A6ZTzNu"},{"type":"text","value":": freshwater flux from rivers","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"va080ML85r"}],"key":"dQ5sariNVQ"}],"key":"CkbfWBy9fP"}],"key":"Y2kjYb5BAk"}],"visibility":"show","key":"hG61kbEVMR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:37.251011Z","iopub.status.busy":"2025-10-13T16:31:37.250784Z","iopub.status.idle":"2025-10-13T16:31:37.325633Z","shell.execute_reply":"2025-10-13T16:31:37.325155Z"},"papermill":{"duration":0.085767,"end_time":"2025-10-13T16:31:37.329811","exception":false,"start_time":"2025-10-13T16:31:37.244044","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"native_data","visibility":"show","key":"xHPyE9DPIO"},{"type":"outputs","id":"JB4w_GBziCc_WYjOQt8RG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"6064b7a519c9298036f4255f49349659","path":"/build/6064b7a519c9298036f4255f49349659.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 39GB\nDimensions:               (time: 11, scalar_axis: 1, zl: 75, yh: 780, xq: 741,\n                           yq: 781, xh: 740, zi: 76, nbnd: 2)\nCoordinates:\n  * scalar_axis           (scalar_axis) float64 8B 0.0\n  * time                  (time) object 88B 2000-01-14 12:00:00 ... 2000-11-1...\n  * nbnd                  (nbnd) float64 16B 1.0 2.0\n  * xq                    (xq) float64 6kB -98.0 -97.92 -97.83 ... -36.42 -36.33\n  * yh                    (yh) float64 6kB 5.243 5.326 5.409 ... 53.86 53.89\n  * zl                    (zl) float64 600B 1.0 3.0 5.0 ... 6.125e+03 6.375e+03\n  * xh                    (xh) float64 6kB -97.96 -97.88 ... -36.46 -36.38\n  * yq                    (yq) float64 6kB 5.201 5.284 5.367 ... 53.87 53.91\n  * zi                    (zi) float64 608B 0.0 2.0 4.0 ... 6.25e+03 6.5e+03\nData variables: (12/76)\n    soga                  (time, scalar_axis) float32 44B dask.array\u003cchunksize=(1, 1), meta=np.ndarray\u003e\n    thetaoga              (time, scalar_axis) float32 44B dask.array\u003cchunksize=(1, 1), meta=np.ndarray\u003e\n    uh                    (time, zl, yh, xq) float32 2GB dask.array\u003cchunksize=(1, 75, 780, 741), meta=np.ndarray\u003e\n    vh                    (time, zl, yq, xh) float32 2GB dask.array\u003cchunksize=(1, 75, 781, 740), meta=np.ndarray\u003e\n    vhbt                  (time, yq, xh) float32 25MB dask.array\u003cchunksize=(1, 781, 740), meta=np.ndarray\u003e\n    uhbt                  (time, yh, xq) float32 25MB dask.array\u003cchunksize=(1, 780, 741), meta=np.ndarray\u003e\n    ...                    ...\n    speed                 (time, yh, xh) float32 25MB dask.array\u003cchunksize=(1, 780, 740), meta=np.ndarray\u003e\n    mlotst                (time, yh, xh) float32 25MB dask.array\u003cchunksize=(1, 780, 740), meta=np.ndarray\u003e\n    average_T1            (time) object 88B dask.array\u003cchunksize=(1,), meta=np.ndarray\u003e\n    average_T2            (time) object 88B dask.array\u003cchunksize=(1,), meta=np.ndarray\u003e\n    average_DT            (time) timedelta64[ns] 88B dask.array\u003cchunksize=(1,), meta=np.ndarray\u003e\n    time_bounds           (time, nbnd) object 176B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nAttributes:\n    NumFilesInSet:     1\n    title:             MOM6 diagnostic fields table for CESM case: marbl.bio....\n    associated_files:  areacello: marbl.bio.croc.5.mom6.h.static.nc\n    grid_type:         regular\n    grid_tile:         N/A","content_type":"text/plain"}}},"children":[],"key":"wMznvzJE8R"}],"visibility":"show","key":"TGoCvbLWAS"}],"visibility":"show","key":"W9axCgc9fb"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.011274,"end_time":"2025-10-13T16:31:37.353131","exception":false,"start_time":"2025-10-13T16:31:37.341857","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Look at Regional Domain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IexdlZ81ga"}],"identifier":"look-at-regional-domain","label":"Look at Regional Domain","html_id":"look-at-regional-domain","implicit":true,"key":"Hb1dmEZxLS"}],"visibility":"show","key":"IQmGbwwfTZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:37.376084Z","iopub.status.busy":"2025-10-13T16:31:37.375924Z","iopub.status.idle":"2025-10-13T16:31:37.522147Z","shell.execute_reply":"2025-10-13T16:31:37.521769Z"},"papermill":{"duration":0.158857,"end_time":"2025-10-13T16:31:37.523075","exception":false,"start_time":"2025-10-13T16:31:37.364218","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib inline","visibility":"hide","key":"Q92NQSJEM5"},{"type":"outputs","id":"b1OUXRVLm9IqWH1jb_m3Y","children":[],"visibility":"show","key":"iyJBpUKhi1"}],"visibility":"show","key":"wVZMA10I7Y"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.011158,"end_time":"2025-10-13T16:31:37.545983","exception":false,"start_time":"2025-10-13T16:31:37.534825","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note: you may see some numpy divide by zero errors below. I don’t why, but they aren’t an issue!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t4eSJabhBr"}],"key":"fBi8VWCBtM"}],"visibility":"show","key":"vaeQWxOp8E"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:37.568872Z","iopub.status.busy":"2025-10-13T16:31:37.568658Z","iopub.status.idle":"2025-10-13T16:31:43.159530Z","shell.execute_reply":"2025-10-13T16:31:43.159017Z"},"papermill":{"duration":5.603155,"end_time":"2025-10-13T16:31:43.160215","exception":false,"start_time":"2025-10-13T16:31:37.557060","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"utils.visualizeRegionalDomain(static_data)","visibility":"hide","key":"SkKuQYxyk7"},{"type":"outputs","id":"vHbB8724qp47VZIZuuiAe","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ab76b78aa4b9563f8be90dcd9f0bb7f1","path":"/build/ab76b78aa4b9563f8be90dcd9f0bb7f1.png"},"text/plain":{"content":"\u003cFigure size 2800x1600 with 3 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"R8hwsN6eTw"}],"visibility":"show","key":"IXSKcIdvjr"}],"visibility":"show","key":"vFuftvc51X"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.0161,"end_time":"2025-10-13T16:31:43.196197","exception":false,"start_time":"2025-10-13T16:31:43.180097","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting Regional MOM6 Output","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kIRbHRkm2x"}],"identifier":"plotting-regional-mom6-output","label":"Plotting Regional MOM6 Output","html_id":"plotting-regional-mom6-output","implicit":true,"key":"uEHcV6VwWk"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will primarily look at the surface fields and some of the monthly full domain fields in this notebook.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zxHyHb9zvs"}],"key":"S3VnBhIiuY"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Xarray comes with great default plotting wrappers that can do a lot! If you take an Xarray DataArray (one variable data structure) and call","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qA9GTGhJrL"}],"key":"fRy5o3stnY"},{"type":"code","lang":"","value":"xr.DataArray.plot()","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"key":"qb6Prq8YrS"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"it will usually do a pretty good job! Here we’ll walk through some powerful ways to use this plot wrapper, and we provide some additional functions to help the plotting along!","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IaArMQOQ7u"}],"key":"xC38td8kLp"}],"visibility":"show","key":"oCWU9qAcPE"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.01582,"end_time":"2025-10-13T16:31:43.228107","exception":false,"start_time":"2025-10-13T16:31:43.212287","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Simple plotting with Xarray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IbmSZgfZ9C"}],"identifier":"simple-plotting-with-xarray","label":"Simple plotting with Xarray","html_id":"simple-plotting-with-xarray","implicit":true,"key":"HgjZaO1Y4G"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"By default, these files are all loaded in as Datasets which store a large set of variables with a variety of shared coordinates/dimensions.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CxABnZLWMU"}],"key":"BcPuo62MWb"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"When plotting, we need to reduce this space to a single variable. If we want to plot a spatial field we need one time step, and if we want to plot a timeseries, we need to average over the spatial dimensions (this is a bit more complicated than it might seem because the grid cells are not all the same size).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DS42xxEbjr"}],"key":"yoAFBRFlAa"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Let’s use some basic Xarray plotting to look at a surface field:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"v01NAC6C45"}],"key":"EmfxNl91sQ"}],"visibility":"show","key":"PQ6PW5HviU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:43.260963Z","iopub.status.busy":"2025-10-13T16:31:43.260760Z","iopub.status.idle":"2025-10-13T16:31:45.482250Z","shell.execute_reply":"2025-10-13T16:31:45.481767Z"},"papermill":{"duration":2.239478,"end_time":"2025-10-13T16:31:45.483541","exception":false,"start_time":"2025-10-13T16:31:43.244063","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Select a single variable at a single time\nsst = sfc_data[\"tos\"].isel(time=0)\nsst.plot(cmap=\"viridis\", vmin=-1.9, vmax=30)  # approx. color bar bounds for temp\n# Note that it automatically labels with coordinate names and attributes.","visibility":"show","key":"bnKNdpZLgJ"},{"type":"outputs","id":"_L6ZWS_Y6nMzfHcjy-XOP","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"021be20e3d9a8732ab5a07ccddc64bce","path":"/build/021be20e3d9a8732ab5a07ccddc64bce.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"xqisrJoUGk"}],"visibility":"show","key":"XttRitrrXj"}],"visibility":"show","key":"y4xEIAjn8a"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.020805,"end_time":"2025-10-13T16:31:45.527883","exception":false,"start_time":"2025-10-13T16:31:45.507078","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looks good! But from above we know we want to plot with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wLJ15VhRFp"},{"type":"inlineCode","value":"geolon","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xyrpf6FCfe"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YHYYpGfO3W"},{"type":"inlineCode","value":"geolat","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qSSnapRwuu"},{"type":"text","value":" for an accurate map. We can also choose some different color maps and projections. Let’s use some ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t9eKb3R4pn"},{"type":"inlineCode","value":"regional_utils","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mmj3jeokPo"},{"type":"text","value":" to get this done.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G9G5KYJGLw"}],"key":"FlGJlZC3xZ"}],"visibility":"show","key":"OARfwe5ff3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:45.573411Z","iopub.status.busy":"2025-10-13T16:31:45.573202Z","iopub.status.idle":"2025-10-13T16:31:47.889181Z","shell.execute_reply":"2025-10-13T16:31:47.888695Z"},"papermill":{"duration":2.341936,"end_time":"2025-10-13T16:31:47.890478","exception":false,"start_time":"2025-10-13T16:31:45.548542","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Select a single variable at a single time\nsst = sfc_data[\"tos\"].isel(time=0)\n\ncoords = utils.chooseGeoCoords(sst.dims)\nlat = static_data[coords[\"latitude\"]]\nlon = static_data[coords[\"longitude\"]]\n\nsst = sst.assign_coords({\"lon\": lon, \"lat\": lat})\n\ncmap = utils.chooseColorMap(sst.name)\n\ncbar_levels = utils.chooseColorLevels(\n    sst.min().compute().item(),\n    sst.max().compute().item(),\n)\n\n# Create the plot with projection\nfig = plt.figure(dpi=200)\nax = plt.axes(projection=ccrs.Mercator())\n\n# Plot the data\np = sst.plot(\n    x=\"lon\",\n    y=\"lat\",\n    cmap=cmap,\n    levels=cbar_levels,\n    transform=ccrs.PlateCarree(),\n    ax=ax,\n    add_colorbar=True,\n)\n\n# Add coastlines - now this should work\nax.coastlines(resolution=\"50m\", color=\"black\", linewidth=0.3)\n\nplt.show()","visibility":"show","key":"qZ50jx3KCQ"},{"type":"outputs","id":"R4al6PGzIbKhqW-EzRVa6","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b023e4ddd9b633ce33e400a02b6a3fc5","path":"/build/b023e4ddd9b633ce33e400a02b6a3fc5.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"NxN4WBKqmR"}],"visibility":"show","key":"S5MOGddt6G"}],"visibility":"show","key":"UyQeviK5VU"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.020903,"end_time":"2025-10-13T16:31:47.935470","exception":false,"start_time":"2025-10-13T16:31:47.914567","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looks good! Doing all this setup everytime would be cumbersome, so we wrapped it in a function ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MAqxfz4JNx"},{"type":"inlineCode","value":"utils.plotLatLonField","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KU0TfYoUfE"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eb0fJ8ZgGd"}],"key":"UfSo8O45FM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Please go check it out and see what’s going on behind the scenes. It also can calculate statistics for the field taking into account area/volume weights.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mtgZEEW3Kv"}],"key":"Mr2tkvrMXQ"}],"visibility":"show","key":"zHBcJZVBsS"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.020472,"end_time":"2025-10-13T16:31:47.976492","exception":false,"start_time":"2025-10-13T16:31:47.956020","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"MOM6 Output - Surface Fields","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ppyHe7IJcb"}],"identifier":"mom6-output-surface-fields","label":"MOM6 Output - Surface Fields","html_id":"mom6-output-surface-fields","implicit":true,"key":"LBkghWoP6y"}],"visibility":"show","key":"KnvZDC3hOG"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.020429,"end_time":"2025-10-13T16:31:48.017248","exception":false,"start_time":"2025-10-13T16:31:47.996819","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The cells below visualize the mean state and the std of the fields over the full time given.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gu4QSZdWNs"}],"key":"CaFq2BHgsQ"}],"visibility":"show","key":"dLtyhMvq09"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:31:48.059577Z","iopub.status.busy":"2025-10-13T16:31:48.059402Z","iopub.status.idle":"2025-10-13T16:32:20.794544Z","shell.execute_reply":"2025-10-13T16:32:20.793924Z"},"papermill":{"duration":32.758002,"end_time":"2025-10-13T16:32:20.795849","exception":false,"start_time":"2025-10-13T16:31:48.037847","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Ploting basic surface state variables\nadd_stats = True\ntime_bounds = (\n    sfc_data[\"time\"][0].compute().item(),\n    sfc_data[\"time\"][-1].compute().item(),\n)\n\nfor var in sfc_variables:\n    if var not in list(sfc_data.variables):\n        print(f\"Variable '{var}' not in given sfc_data. It will not be plotted.\")\n        sfc_variables.remove(var)\n\n\nprint(f\"Taking mean and std dev from {time_bounds[0]} to {time_bounds[-1]}\")\nfor var in sfc_variables:\n    field = sfc_data[var]\n\n    coords = utils.chooseGeoCoords(field.dims)\n    areacello = utils.chooseAreacello(field.dims)\n\n    mean = field.mean(dim=\"time\", skipna=True).compute()\n    std = field.std(dim=\"time\", skipna=True).compute()\n    mean.attrs = field.attrs\n    std.attrs = field.attrs\n    mean.attrs[\"long_name\"] = f\"Mean {field.long_name}\"\n    std.attrs[\"long_name\"] = f\"Std Dev {field.long_name}\"\n\n    utils.plotLatLonField(\n        mean,\n        latitude=static_data[coords[\"latitude\"]],\n        longitude=static_data[coords[\"longitude\"]],\n        stats=add_stats,\n        area_weights=static_data[areacello],\n        save=save_figs,\n        save_path=image_output_dir,\n    )\n    plt.show()\n\n    utils.plotLatLonField(\n        std,\n        latitude=static_data[coords[\"latitude\"]],\n        longitude=static_data[coords[\"longitude\"]],\n        stats=add_stats,\n        area_weights=static_data[areacello],\n        save=save_figs,\n        save_path=image_output_dir,\n    )\n    plt.show()","visibility":"hide","key":"bAyq7gT83v"},{"type":"outputs","id":"J3x2JSocKVWBLwfn9EFce","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Taking mean and std dev from 1999-12-30 12:00:00 to 2000-11-28 12:00:00\n"},"children":[],"key":"NHQ7mLDVMK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"/glade/work/ajanney/conda-envs/cupid-analysis/lib/python3.11/site-packages/dask/array/numpy_compat.py:57: RuntimeWarning: invalid value encountered in divide\n  x = np.divide(x1, x2, out)\n"},"children":[],"key":"CvKC3EH4nv"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"822e86f234680e7aeac6f8b1c519c4f1","path":"/build/822e86f234680e7aeac6f8b1c519c4f1.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"iqiztxs4RI"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"0198e14434d6d2f3ca79744907fa4915","path":"/build/0198e14434d6d2f3ca79744907fa4915.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"CAMj52AiB1"}],"visibility":"show","key":"TxyGOYFdwz"}],"visibility":"show","key":"Y4koJpDgOo"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.029105,"end_time":"2025-10-13T16:32:20.853563","exception":false,"start_time":"2025-10-13T16:32:20.824458","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Area Weighted Averages and Timeseries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yfcY2xTm8j"}],"identifier":"area-weighted-averages-and-timeseries","label":"Area Weighted Averages and Timeseries","html_id":"area-weighted-averages-and-timeseries","implicit":true,"key":"dycXXyXoRQ"}],"visibility":"show","key":"ufEDd0zAwZ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024608,"end_time":"2025-10-13T16:32:20.903210","exception":false,"start_time":"2025-10-13T16:32:20.878602","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculating and plotting timeseries can also be complicated. We need to be careful when taking an average of the fields that we take weighted statistics because the grid cells are not guaranteed to be constant area or volume.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ibTIRzgwF2"}],"key":"sEnl7Ugp0P"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The information we need for these weighted averages is contained in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OAf7t1JTpy"},{"type":"inlineCode","value":"areacello*","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YDH3BPMM4G"},{"type":"text","value":" variables (in static_data) and the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jT51ImwwYV"},{"type":"inlineCode","value":"volcello","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QHpmZOLyfa"},{"type":"text","value":" variable (in native_data and monthly_data).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t8poHI9gjV"}],"key":"Hzy7MY3zGX"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We have to pay attention to coordinates and dimensions because of MOM6’s staggered grid (see how we choose the geolon/lat coords above).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"foAbSTuPYJ"}],"key":"UED3MBEQPt"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aFKxPQTFP7"}],"key":"gBB9j8NCBy"},{"type":"text","value":" These timeseries may be less helpful for shorter runs, but see what they reveal!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VhCa2V2ute"}],"key":"SGMyjmEACG"}],"visibility":"show","key":"ELCBnNhbhs"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:32:20.954510Z","iopub.status.busy":"2025-10-13T16:32:20.954234Z","iopub.status.idle":"2025-10-13T16:32:35.135093Z","shell.execute_reply":"2025-10-13T16:32:35.134754Z"},"papermill":{"duration":14.207422,"end_time":"2025-10-13T16:32:35.135703","exception":false,"start_time":"2025-10-13T16:32:20.928281","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for var in sfc_variables:\n    field = sfc_data[var]\n    areacello_var = utils.chooseAreacello(field.dims)\n\n    utils.plotAvgTimeseries(\n        sfc_data[var],\n        static_data[areacello_var],\n        save=save_figs,\n        save_path=image_output_dir,\n    )","visibility":"hide","key":"O1ehlzZM3d"},{"type":"outputs","id":"hCbr8ALdXEGDvkuiXW-8M","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"57204a41af23375821b324275f8d498d","path":"/build/57204a41af23375821b324275f8d498d.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"hKZnX6WkxQ"}],"visibility":"show","key":"vWpGGsbVTv"}],"visibility":"show","key":"BRQmLSZDWc"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024689,"end_time":"2025-10-13T16:32:35.188928","exception":false,"start_time":"2025-10-13T16:32:35.164239","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Viewing Full Domain Monthly Output","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SmnZEqat5A"}],"identifier":"viewing-full-domain-monthly-output","label":"Viewing Full Domain Monthly Output","html_id":"viewing-full-domain-monthly-output","implicit":true,"key":"hQjZdjoPjN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s look at the monthly output. When using longer runs (years or decades). These hold a lot more information about how your model is evolving and performing over time. For shorter runs (like many regional models often are), we may only have a handful of monthly output timesteps.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c0yMUuHxz3"}],"key":"njOHB6RQ1l"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Xarray has some very useful methods for visualizing multiple levels and easily plotting them using the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S6aMJzttxS"},{"type":"inlineCode","value":"col","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bpaK60IybU"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Rt1vpVj1m5"},{"type":"inlineCode","value":"col_wrap","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZJlgJdj5HW"},{"type":"text","value":" keywords.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ISL85H5okE"}],"key":"shEHiHTSjm"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"**Note: ** none of the following plots are saved. If you want to save them, rerun the first few cells of the notebook and manually save these.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PoXWvQ2Lqr"}],"key":"rssBZ2H9wK"}],"visibility":"show","key":"Ikhmy3EBCV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:32:35.238771Z","iopub.status.busy":"2025-10-13T16:32:35.238583Z","iopub.status.idle":"2025-10-13T16:33:07.203414Z","shell.execute_reply":"2025-10-13T16:33:07.202906Z"},"papermill":{"duration":32.044416,"end_time":"2025-10-13T16:33:07.257830","exception":false,"start_time":"2025-10-13T16:32:35.213414","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for var in monthly_variables:\n    if var not in list(monthly_data.variables):\n        print(f\"Variable '{var}' not in given monthly_data. It will not be plotted.\")\n        monthly_variables.remove(var)\n\n## Let's only look at one variable for now (this plotting can be slow)\nfor var in monthly_variables[0:1]:\n    # Look at only the first time step for now\n    field = monthly_data[var].isel(time=0)\n\n    cmap = utils.chooseColorMap(var)\n    levels = utils.chooseColorLevels(\n        field.min().compute().item(),\n        field.max().compute().item(),\n    )\n\n    subplot_kwargs = {\n        \"projection\": ccrs.Mercator(),\n    }\n\n    p = field.plot(\n        col=\"z_l\",\n        col_wrap=5,\n        cmap=cmap,\n        levels=levels,\n        transform=ccrs.PlateCarree(),\n        subplot_kws=subplot_kwargs,\n    )\n    plt.suptitle(f\"{var} at depths\", y=1.0, fontsize=20)\n\n    for ax in p.axs.flat:\n        ax.coastlines(resolution=\"50m\", color=\"black\", linewidth=0.3)","visibility":"show","key":"HREnJUNPwl"},{"type":"outputs","id":"DqXSavng6E_PHkvO46Lug","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d47a4de83a56d5b4edf94265d105faea","path":"/build/d47a4de83a56d5b4edf94265d105faea.png"},"text/plain":{"content":"\u003cFigure size 3200x4200 with 36 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"PERMj2Q68V"}],"visibility":"show","key":"x3vJ9s2a9R"}],"visibility":"show","key":"JfZP17vzuV"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.039236,"end_time":"2025-10-13T16:33:07.338016","exception":false,"start_time":"2025-10-13T16:33:07.298780","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Vertical Profiles","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"St37wceOtT"}],"identifier":"vertical-profiles","label":"Vertical Profiles","html_id":"vertical-profiles","implicit":true,"key":"hZ1aBxlECh"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Another useful tool, sometimes we want to look at the vertical profile of something like salinity or temperature. Be careful to use area weighted averages here. (This could be a tool in regional_utils, but it’s not too much code, you decide!)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"bR03wteK6I"}],"key":"EFZcTMNHI7"}],"visibility":"show","key":"FkBmrFQ81s"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:33:07.417314Z","iopub.status.busy":"2025-10-13T16:33:07.417074Z","iopub.status.idle":"2025-10-13T16:33:07.963843Z","shell.execute_reply":"2025-10-13T16:33:07.963453Z"},"papermill":{"duration":0.587367,"end_time":"2025-10-13T16:33:07.964493","exception":false,"start_time":"2025-10-13T16:33:07.377126","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for var in monthly_variables[0:1]:  # only one variable again, make it more!\n    # Look at only the first time step for now\n    field = monthly_data[var].isel(time=0)\n\n    area_weights = utils.chooseAreacello(field.dims)\n    field_weighted = field.weighted(static_data[area_weights])\n\n    mean_vars = [dim for dim in field.dims if dim != \"z_l\"]\n    field_mean = field_weighted.mean(mean_vars)\n\n    field_mean.plot(y=\"z_l\", yincrease=False)","visibility":"show","key":"sDf8OBcvV8"},{"type":"outputs","id":"OeECbggCQQwjcucJNey7B","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f5b89d7e293101f476169851a5f7f4b9","path":"/build/f5b89d7e293101f476169851a5f7f4b9.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"VAgON5Kvm9"}],"visibility":"show","key":"ZzvdXcde0Z"}],"visibility":"show","key":"zBcWbcvGAH"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.039886,"end_time":"2025-10-13T16:33:08.045241","exception":false,"start_time":"2025-10-13T16:33:08.005355","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bonus: Interpolating Levels and Slices","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NGOuanbqPc"}],"identifier":"bonus-interpolating-levels-and-slices","label":"Bonus: Interpolating Levels and Slices","html_id":"bonus-interpolating-levels-and-slices","implicit":true,"key":"m3iRX624UE"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We successfully plotted different levels above, we can also plot vertical slices. In both cases, we might run into an issue where we want to interpolate to a depth or lat/lon that is not explicitly resolved in the model. We can write our own tailored methods for this, but for simple visual inspection/comparison Xarray tools work well!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sguwHLf8vP"}],"key":"UlPrcORUYl"}],"visibility":"show","key":"M5xbYqbOzU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:33:08.125539Z","iopub.status.busy":"2025-10-13T16:33:08.125314Z","iopub.status.idle":"2025-10-13T16:33:08.233305Z","shell.execute_reply":"2025-10-13T16:33:08.232975Z"},"papermill":{"duration":0.148911,"end_time":"2025-10-13T16:33:08.233865","exception":false,"start_time":"2025-10-13T16:33:08.084954","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"monthly_data[\"z_l\"]","visibility":"show","key":"r1Yzls6FJY"},{"type":"outputs","id":"uxSluYoVS87xMJtQbCR-9","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-data \u003e pre,\n.xr-index-data \u003e pre,\n.xr-var-data \u003e table \u003e tbody \u003e tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label \u003e .xr-icon-file-text2,\n.xr-var-data-in:checked + label \u003e .xr-icon-database,\n.xr-index-data-in:checked + label \u003e .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray \u0026#x27;z_l\u0026#x27; (z_l: 35)\u0026gt; Size: 280B\narray([2.5000e+00, 1.0000e+01, 2.0000e+01, 3.2500e+01, 5.1250e+01, 7.5000e+01,\n       1.0000e+02, 1.2500e+02, 1.5625e+02, 2.0000e+02, 2.5000e+02, 3.1250e+02,\n       4.0000e+02, 5.0000e+02, 6.0000e+02, 7.0000e+02, 8.0000e+02, 9.0000e+02,\n       1.0000e+03, 1.1000e+03, 1.2000e+03, 1.3000e+03, 1.4000e+03, 1.5375e+03,\n       1.7500e+03, 2.0625e+03, 2.5000e+03, 3.0000e+03, 3.5000e+03, 4.0000e+03,\n       4.5000e+03, 5.0000e+03, 5.5000e+03, 6.0000e+03, 6.5000e+03])\nCoordinates:\n  * z_l      (z_l) float64 280B 2.5 10.0 20.0 32.5 ... 5.5e+03 6e+03 6.5e+03\nAttributes:\n    units:      meters\n    long_name:  Depth at cell center\n    axis:       Z\n    positive:   down\n    edges:      z_i\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-array-name'\u003e'z_l'\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ez_l\u003c/span\u003e: 35\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-0c83b77d-a087-49d4-9980-0f640936e04b' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-0c83b77d-a087-49d4-9980-0f640936e04b' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003e2.5 10.0 20.0 32.5 51.25 75.0 ... 4.5e+03 5e+03 5.5e+03 6e+03 6.5e+03\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003cpre\u003earray([2.5000e+00, 1.0000e+01, 2.0000e+01, 3.2500e+01, 5.1250e+01, 7.5000e+01,\n       1.0000e+02, 1.2500e+02, 1.5625e+02, 2.0000e+02, 2.5000e+02, 3.1250e+02,\n       4.0000e+02, 5.0000e+02, 6.0000e+02, 7.0000e+02, 8.0000e+02, 9.0000e+02,\n       1.0000e+03, 1.1000e+03, 1.2000e+03, 1.3000e+03, 1.4000e+03, 1.5375e+03,\n       1.7500e+03, 2.0625e+03, 2.5000e+03, 3.0000e+03, 3.5000e+03, 4.0000e+03,\n       4.5000e+03, 5.0000e+03, 5.5000e+03, 6.0000e+03, 6.5000e+03])\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-9dcef442-f99e-4cee-af93-541f9436f8a3' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-9dcef442-f99e-4cee-af93-541f9436f8a3' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(1)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ez_l\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(z_l)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e2.5 10.0 20.0 ... 6e+03 6.5e+03\u003c/div\u003e\u003cinput id='attrs-366c51e9-e631-4690-bf63-88204e3f16b3' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-366c51e9-e631-4690-bf63-88204e3f16b3' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-de0492a6-9b72-4d51-b127-5d7280ea3ecb' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-de0492a6-9b72-4d51-b127-5d7280ea3ecb' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emeters\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eDepth at cell center\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eaxis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eZ\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003epositive :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edown\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eedges :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ez_i\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([2.5000e+00, 1.0000e+01, 2.0000e+01, 3.2500e+01, 5.1250e+01, 7.5000e+01,\n       1.0000e+02, 1.2500e+02, 1.5625e+02, 2.0000e+02, 2.5000e+02, 3.1250e+02,\n       4.0000e+02, 5.0000e+02, 6.0000e+02, 7.0000e+02, 8.0000e+02, 9.0000e+02,\n       1.0000e+03, 1.1000e+03, 1.2000e+03, 1.3000e+03, 1.4000e+03, 1.5375e+03,\n       1.7500e+03, 2.0625e+03, 2.5000e+03, 3.0000e+03, 3.5000e+03, 4.0000e+03,\n       4.5000e+03, 5.0000e+03, 5.5000e+03, 6.0000e+03, 6.5000e+03])\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-8c0fed0a-e559-4e83-91a4-fc752ee01f2a' class='xr-section-summary-in' type='checkbox'  \u003e\u003clabel for='section-8c0fed0a-e559-4e83-91a4-fc752ee01f2a' class='xr-section-summary' \u003eIndexes: \u003cspan\u003e(1)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003ez_l\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-754b1c71-dd6c-423c-80e9-ca629075958f' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-754b1c71-dd6c-423c-80e9-ca629075958f' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([   2.5,   10.0,   20.0,   32.5,  51.25,   75.0,  100.0,  125.0, 156.25,\n        200.0,  250.0,  312.5,  400.0,  500.0,  600.0,  700.0,  800.0,  900.0,\n       1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1537.5, 1750.0, 2062.5, 2500.0,\n       3000.0, 3500.0, 4000.0, 4500.0, 5000.0, 5500.0, 6000.0, 6500.0],\n      dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;z_l\u0026#x27;))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-20883694-e14d-464a-aad7-06fde3150475' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-20883694-e14d-464a-aad7-06fde3150475' class='xr-section-summary' \u003eAttributes: \u003cspan\u003e(5)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emeters\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eDepth at cell center\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eaxis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eZ\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003epositive :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edown\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eedges :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ez_i\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cxarray.DataArray 'z_l' (z_l: 35)\u003e Size: 280B\narray([2.5000e+00, 1.0000e+01, 2.0000e+01, 3.2500e+01, 5.1250e+01, 7.5000e+01,\n       1.0000e+02, 1.2500e+02, 1.5625e+02, 2.0000e+02, 2.5000e+02, 3.1250e+02,\n       4.0000e+02, 5.0000e+02, 6.0000e+02, 7.0000e+02, 8.0000e+02, 9.0000e+02,\n       1.0000e+03, 1.1000e+03, 1.2000e+03, 1.3000e+03, 1.4000e+03, 1.5375e+03,\n       1.7500e+03, 2.0625e+03, 2.5000e+03, 3.0000e+03, 3.5000e+03, 4.0000e+03,\n       4.5000e+03, 5.0000e+03, 5.5000e+03, 6.0000e+03, 6.5000e+03])\nCoordinates:\n  * z_l      (z_l) float64 280B 2.5 10.0 20.0 32.5 ... 5.5e+03 6e+03 6.5e+03\nAttributes:\n    units:      meters\n    long_name:  Depth at cell center\n    axis:       Z\n    positive:   down\n    edges:      z_i","content_type":"text/plain"}}},"children":[],"key":"kPYMCm3G0e"}],"visibility":"show","key":"RBwLmsYYCo"}],"visibility":"show","key":"a9mBS0Skwu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:33:08.315575Z","iopub.status.busy":"2025-10-13T16:33:08.315425Z","iopub.status.idle":"2025-10-13T16:33:10.469985Z","shell.execute_reply":"2025-10-13T16:33:10.469614Z"},"papermill":{"duration":2.196974,"end_time":"2025-10-13T16:33:10.471645","exception":false,"start_time":"2025-10-13T16:33:08.274671","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Plot a specific depth\nfield = monthly_data[\"thetao\"].isel(time=0)\nfield = field.interp(\n    z_l=550, method=\"linear\"\n)  # you may choose a different depth if you want to test the interpolation\n\ncoords = utils.chooseGeoCoords(field.dims)\nareacello = utils.chooseAreacello(field.dims)\n\nutils.plotLatLonField(\n    field,\n    latitude=static_data[coords[\"latitude\"]],\n    longitude=static_data[coords[\"longitude\"]],\n    stats=True,\n    area_weights=static_data[areacello],\n    save=save_figs,\n    save_path=image_output_dir,\n)\nplt.show()","visibility":"show","key":"NhZkcXmwOt"},{"type":"outputs","id":"zQ5r6K-6uZYNqAj8rGT_j","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"2e29d8f8e9082b49b2d20afb4329363f","path":"/build/2e29d8f8e9082b49b2d20afb4329363f.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"EeNr2GDRe3"}],"visibility":"show","key":"nbPrQpnliz"}],"visibility":"show","key":"hFkIbgzUzk"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.042254,"end_time":"2025-10-13T16:33:10.557213","exception":false,"start_time":"2025-10-13T16:33:10.514959","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s try it with a vertical slice now too!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zQRvLUXq0p"}],"identifier":"lets-try-it-with-a-vertical-slice-now-too","label":"Let’s try it with a vertical slice now too!","html_id":"lets-try-it-with-a-vertical-slice-now-too","implicit":true,"key":"fR1ggHoyTL"}],"visibility":"show","key":"vCnJo2yWzH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-10-13T16:33:10.641974Z","iopub.status.busy":"2025-10-13T16:33:10.641770Z","iopub.status.idle":"2025-10-13T16:33:11.227155Z","shell.execute_reply":"2025-10-13T16:33:11.226800Z"},"papermill":{"duration":0.628327,"end_time":"2025-10-13T16:33:11.227747","exception":false,"start_time":"2025-10-13T16:33:10.599420","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"field = monthly_data[\"thetao\"].isel(time=0)\nx_var = \"xh\" if \"xh\" in field.dims else \"xq\"\nlongitude = np.mean(field[x_var].to_numpy())\nvertical = field.interp({x_var: longitude})\nlevels = np.linspace(\n    vertical.min().compute().item(), vertical.max().compute().item(), 35\n)\nvertical.plot(\n    yincrease=False,\n    levels=levels,\n)","visibility":"show","key":"QSh5K9wsbE"},{"type":"outputs","id":"zl_Bj4B9di3HGYXHacC6z","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"aa0dbbac3fd993494bb686ed8ab6c689","path":"/build/aa0dbbac3fd993494bb686ed8ab6c689.png"},"text/plain":{"content":"\u003cFigure size 1280x960 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"Fd0ajmGrhX"}],"visibility":"show","key":"raHIfYXkmW"}],"visibility":"show","key":"ZMl8WFNRbc"}],"key":"FsHxq0ayj5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Output from CUPiD Example","url":"/notebooks/diagnostics/cupid-output","group":"Basic CrocoDash Tutorial"},"next":{"title":"Regional Ocean: Animations of Surface Fields","url":"/notebooks/diagnostics/cupid-output/regional-ocean-animations","group":"Basic CrocoDash Tutorial"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/build/tos_animation-662fef1744c599a049c536a46d1ea8f6.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/build/Jupyter_Terminal-cadcbd4fc8fa70535ddb8406a10d6ccd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/build/data_sources-83e17579a1412051c9dc81923addc0b1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/build/CACurrent_topo-964aa9382ad43be567b012cad6ed1940.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-86A905A4.js";
import * as route0 from "/build/root-CXYA7X5D.js";
import * as route1 from "/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-PCJPW7TK.js");</script></body></html>