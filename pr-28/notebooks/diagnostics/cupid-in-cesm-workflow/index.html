<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Running CUPiD within CESM - CROCODILE Gallery</title><meta property="og:title" content="Running CUPiD within CESM - CROCODILE Gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/CrocoGallery/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="/CrocoGallery/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/CrocoGallery/favicon.ico"/><link rel="stylesheet" href="/CrocoGallery/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/CrocoGallery/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/CrocoGallery/build/crocodile-54bfb7422767f707aae44327e7608833.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">âŒ˜</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="CROCODILE Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/CrocoGallery/">CROCODILE Gallery</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Basic Tutorials" class="block break-words rounded py-2 grow cursor-pointer">Basic Tutorials</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Features" class="block break-words rounded py-2 grow cursor-pointer">Features</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Older Material" class="block break-words rounded py-2 grow cursor-pointer">Older Material</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/CROCODILE-CESM/CrocoGallery" title="GitHub Repository: CROCODILE-CESM/CrocoGallery" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/CUPiD_in_CESM_Workflow.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Running CUPiD within CESM</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><p>CUPiD has been included in the CESM workflow,
which means you can run CUPiD from a CESM case directory with the familiar <code>case.submit</code> command.
For this project, we will run the notebooks Aidan put together to analyze a case you ran yourself.</p><h2 id="background" class="relative group"><span class="heading-text">Background</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#background" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2><p>This notebook originated as a third task in the <a class="" href="/CrocoGallery/notebooks/diagnostics/cupid-for-regional-mom6">CUPiD Diagnostics Tutorial</a>.
It still uses some of the same structure as the tutorial pages.</p><h3 id="step-1-log-on-to-derecho-and-navigate-to-your-cesm-case" class="relative group"><span class="heading-text">Step 1: Log on to Derecho and Navigate to your CESM case</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-log-on-to-derecho-and-navigate-to-your-cesm-case" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>For the tutorial, we ran CUPiD on NCARâ€™s Casper machine, which is very useful for diagnostics, data analysis, and visualization.
The CESM case that we made in Mondayâ€™s practicum, <strong>Using CrocoDash</strong>, was set up to run on Derecho.
CESM is picky about what machine it runs on because it tailors the configuration and run accordingly.
Even though Derecho and Casper share a file system, they have very different hardware (and provide users with different modules).</p><p>You can either log in to Derecho directly from JupyterHub,
or log in to Casper through the JupyterHub and then ssh to Derecho from a terminal.</p><p>Once you are on derecho, change into the directory for the case you want to analyze.
The path to this directory might vary, but it will likely be located under the same <code>crocodile_2025</code> directory we have been working in so far.</p><h3 id="step-2-explore-how-cupid-is-incorporated-in-a-cesm-case" class="relative group"><span class="heading-text">Step 2: Explore how CUPiD is Incorporated in a CESM Case</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-explore-how-cupid-is-incorporated-in-a-cesm-case" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>As you are likely familiar with at this point,
CESM uses XML files to manage the environment in which your case is run.
Each file contains variables pertaining to a different phase of the case generation process:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">env_archive.xml
env_batch.xml
env_build.xml
env_case.xml
env_mach_pes.xml
env_mach_specific.xml
env_postprocessing.xml
env_run.xml
env_workflow.xml</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We are interested in the CUPiD variables,
which are all defined in <code>env_postprocessing.xml</code>.
XML files are plain-text so we can inspect them directly,
but weâ€™ll use CIMEâ€™s <code>xmlquery</code> tool instead.</p><div class="alert alert-warning">ðŸš¨ <strong>POP QUIZ!</strong> ðŸš¨</div><p>How do you use <code>xmlquery</code> to see all the variables that contain <code>CUPID</code> in their name (along with their values)?</p><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Solution</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><br/><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">$ ./xmlquery -p CUPID
Results in group cupid_analysis
	CUPID_BASELINE_CASE: b.e23_alpha17f.BLT1850.ne30_t232.092
	CUPID_BASELINE_ROOT: /glade/derecho/scratch/mlevy/archive/CAcurrent.002/..
	CUPID_BASE_NYEARS: 100
	CUPID_BASE_STARTDATE: 0001-01-01
	CUPID_EXAMPLE: key_metrics
	CUPID_NYEARS: 1
	CUPID_STARTDATE: 0001-01-01
	CUPID_TS_DIR: /glade/derecho/scratch/mlevy/archive/CAcurrent.002/..

Results in group cupid_config
	CUPID_GEN_DIAGNOSTICS: TRUE
	CUPID_GEN_HTML: TRUE
	CUPID_GEN_TIMESERIES: TRUE
	CUPID_ROOT: /glade/work/mlevy/codes/CESM/cesm3_0_alpha07c_CROCO/tools/CUPiD

Results in group cupid_environments
	CUPID_ANALYSIS_ENV: cupid-analysis
	CUPID_INFRASTRUCTURE_ENV: cupid-infrastructure

Results in group cupid_run_components
	CUPID_MEM_PER_TASK: 10
	CUPID_NTASKS: 1
	CUPID_RUN_ADF: FALSE
	CUPID_RUN_ALL: TRUE
	CUPID_RUN_ATM: FALSE
	CUPID_RUN_GLC: FALSE
	CUPID_RUN_ICE: FALSE
	CUPID_RUN_LND: FALSE
	CUPID_RUN_OCN: FALSE
	CUPID_RUN_ROF: FALSE
	CUPID_TASKS_PER_NODE: 128</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><h3 id="step-3-configure-and-run-cupid" class="relative group"><span class="heading-text">Step 3: Configure and Run CUPiD</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-configure-and-run-cupid" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>The first variable to talk about is <code>CUPID_ROOT</code>.
CUPiD is distributed with CESM in the <code>tools/CUPiD</code> subdirectory,
but you may wish to use a more recent version of CUPiD.
This could be handy if, for example,
you are attending a workshop where you took a CUPiD diagnostic and the first exercises were cloning CUPiD,
installing environments from this clone and then running a few examples.
In that case, you want to run</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">./xmlchange CUPID_ROOT=&lt;/path/to/CUPiD&gt;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We also want to run the <code>regional_ocean</code> example,
which is set by the <code>CUPID_EXAMPLE</code> variable.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">./xmlchange CUPID_EXAMPLE=regional_ocean</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Lastly, we donâ€™t need to generate time series files or build a webpage</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">./xmlchange CUPID_GEN_TIMESERIES=FALSE,CUPID_GEN_HTML=FALSE</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>When you are ready to run CUPiD, you can tell <code>case.submit</code> that you want to run the <code>case.cupid</code> job in the workflow.
Make sure you are logged in to Derecho (not Casper) and then run:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">./case.submit --job case.cupid</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This will add a job to the development queue on derecho,
and it hopefully will start running quickly.
When it finishes, output will be in the <code>computed_notebooks</code> subdirectory of your case directory.</p><h2 id="side-quest-how-does-cupid-tie-in-to-cesm" class="relative group"><span class="heading-text">Side Quest: How Does CUPiD Tie in to CESM?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#side-quest-how-does-cupid-tie-in-to-cesm" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2><p>The details look complicated, but itâ€™s pretty simple from the userâ€™s perspective
(weâ€™re going to look at several files to understand what CESM is doing,
but in practice you wonâ€™t need to modify any of them if you just want to run CUPiD).
The CESM workflow is defined in the <a target="_blank" rel="noreferrer" href="https://github.com/ESMCI/ccs_config_cesm" class=""><code>ccs_config_cesm</code></a> repository,
and the piece relevant to CUPiD is the <a href="https://github.com/ESMCI/ccs_config_cesm/blob/main/machines/template.cupid" class="italic" target="_blank" rel="noreferrer" data-state="closed"><code>machines/template.cupid</code></a> file:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">#!/bin/bash -e

# Batch system directives
{{ batchdirectives }}

# Set environment for CESM
source .env_mach_specific.sh

# Run shell script in CUPiD external
CUPID_ROOT=`./xmlquery --value CUPID_ROOT`
(. ${CUPID_ROOT}/helper_scripts/cesm_postprocessing.sh)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>CIME parses everything in <code>{{ }}</code> and replaces it with machine-specific code;
the final file is <code>case.cupid</code> in your case directory.
On derecho, this looks like:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">#!/bin/bash -e

# Batch system directives
#PBS -N cupid.{CASE}
#PBS  -r n
#PBS  -j oe
#PBS  -S /bin/bash
#PBS  -l select=1:ncpus=1:mpiprocs=1:ompthreads=1:mem=10GB

# Set environment for CESM
source .env_mach_specific.sh

# Run shell script in CUPiD external
CUPID_ROOT=`./xmlquery --value CUPID_ROOT`
(. ${CUPID_ROOT}/helper_scripts/cesm_postprocessing.sh)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>In an attempt to keep all necessary code in the CUPiD repository,
youâ€™ll note that the last two lines are then calling <a href="https://github.com/NCAR/CUPiD/blob/main/helper_scripts/cesm_postprocessing.sh" class="italic" target="_blank" rel="noreferrer" data-state="closed"><code>helper_scripts/cesm_postprocessing.sh</code></a> out of <code>CUPID_ROOT</code>.
CUPiDâ€™s <a href="https://github.com/NCAR/CUPiD/blob/main/helper_scripts/" class="italic" target="_blank" rel="noreferrer" data-state="closed"><code>helper_scripts/</code></a> directory contains several scripts used to create configuration files,
and <code>cesm_postprocessing.sh</code> is the driver that ties everything together.
We wonâ€™t walk through the entire script here,
but I want to highlight the comments in the script that list the processes:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre"># Set variables that come from environment or CESM XML files

# Create directory for running CUPiD
mkdir -p cupid-postprocessing
cd cupid-postprocessing

# Use cupid-infrastructure environment for running these scripts
conda activate ${CUPID_INFRASTRUCTURE_ENV}

# 1. Generate CUPiD config file
${CUPID_ROOT}/helper_scripts/generate_cupid_config_for_cesm_case.py

# 2. Generate ADF config file
if [ &quot;${CUPID_RUN_ADF}&quot; == &quot;TRUE&quot; ]; then

# 3. Generate ILAMB config file
if [ &quot;${CUPID_RUN_ILAMB}&quot; == &quot;TRUE&quot; ]; then

# 4. Generate LDF config file
if [ &quot;${CUPID_RUN_LDF}&quot; == &quot;TRUE&quot; ]; then

# 5. Generate timeseries files
if [ &quot;${CUPID_GEN_TIMESERIES}&quot; == &quot;TRUE&quot; ]; then

# 6. Run ADF
if [ &quot;${CUPID_RUN_ADF}&quot; == &quot;TRUE&quot; ]; then

# 7. Run ILAMB
if [ &quot;${CUPID_RUN_ILAMB}&quot; == &quot;TRUE&quot; ]; then

# 8. Run LDF
if [ &quot;${CUPID_RUN_LDF}&quot; == &quot;TRUE&quot; ]; then

# 9. Run CUPiD and build webpage
conda deactivate
conda activate ${CUPID_INFRASTRUCTURE_ENV}
if [ &quot;${CUPID_GEN_DIAGNOSTICS}&quot; == &quot;TRUE&quot; ]; then
  ${CUPID_ROOT}/cupid/run_diagnostics.py ${CUPID_FLAG_STRING}
fi
if [ &quot;${CUPID_GEN_HTML}&quot; == &quot;TRUE&quot; ]; then
  ${CUPID_ROOT}/cupid/generate_webpage.py
fi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>You can see how the variables defined in <code>env_postprocessing.xml</code> impact what parts of CUPiD are run.
In the next task we will make sure these XML variables are set correctly and then ask CESM to run <code>case.cupid</code>.</p><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/CrocoGallery/notebooks/diagnostics/cupid-projects"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Sample CrocoDash Projects</div> Advanced CUPiD Tutorial </div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/CrocoGallery/notebooks/diagnostics/contributing-to-cupid"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Sample CrocoDash Projects</div>Contributing to CUPiD</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/CrocoGallery/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/CrocoGallery/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="/CrocoGallery/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="/CrocoGallery/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/notebooks/diagnostics/cupid-in-cesm-workflow","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/build/crocodile-54bfb7422767f707aae44327e7608833.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/build/tos_animation-dde4819b337788bf3958a7947af60477.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/build/Jupyter_Terminal-28ce4a6f2f92b3bfa4730a679a80bf08.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/build/data_sources-3781b52d47e6af060eefbce4b07dad35.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/build/CACurrent_topo-203f78e017f11cc945425ef75547b401.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/CrocoGallery"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/build/crocodile-54bfb7422767f707aae44327e7608833.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/build/tos_animation-dde4819b337788bf3958a7947af60477.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/build/Jupyter_Terminal-28ce4a6f2f92b3bfa4730a679a80bf08.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/build/data_sources-3781b52d47e6af060eefbce4b07dad35.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/build/CACurrent_topo-203f78e017f11cc945425ef75547b401.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"page":{"version":3,"kind":"Article","sha256":"ea77c2af2c0108f8967932083385e0a16bd9302a1b5e3313664cdf091f49d739","slug":"notebooks.diagnostics.cupid-in-cesm-workflow","location":"/notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","dependencies":[],"frontmatter":{"title":"Running CUPiD within CESM","content_includes_title":false,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":3}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","exports":[{"format":"md","filename":"CUPiD_in_CESM_Workflow.md","url":"/CrocoGallery/build/CUPiD_in_CESM_Workfl-fa80b1c8e9e97794db3d7d8db3dd8c9b.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"CUPiD has been included in the CESM workflow,\nwhich means you can run CUPiD from a CESM case directory with the familiar ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XwIfMVyNfh"},{"type":"inlineCode","value":"case.submit","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UiYZ4K7lbP"},{"type":"text","value":" command.\nFor this project, we will run the notebooks Aidan put together to analyze a case you ran yourself.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Gko7vYJGpZ"}],"key":"MSqJ98IN3Z"},{"type":"heading","depth":2,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Background","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qB1TnAULCh"}],"identifier":"background","label":"Background","html_id":"background","implicit":true,"key":"sQbetKLc33"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This notebook originated as a third task in the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"EugbkOSH6i"},{"type":"link","url":"/notebooks/diagnostics/cupid-for-regional-mom6","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"CUPiD Diagnostics Tutorial","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ROoDL02VGD"}],"urlSource":"CUPiD_for_regional_MOM6","dataUrl":"/notebooks.diagnostics.cupid-for-regional-mom6.json","internal":true,"protocol":"file","key":"Ry3Kpz88FJ"},{"type":"text","value":".\nIt still uses some of the same structure as the tutorial pages.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gVi3ejpzEd"}],"key":"fYS8zZrqnn"},{"type":"heading","depth":3,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Step 1: Log on to Derecho and Navigate to your CESM case","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"PFhVZMSE90"}],"identifier":"step-1-log-on-to-derecho-and-navigate-to-your-cesm-case","label":"Step 1: Log on to Derecho and Navigate to your CESM case","html_id":"step-1-log-on-to-derecho-and-navigate-to-your-cesm-case","implicit":true,"key":"yKFvJjBHL5"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For the tutorial, we ran CUPiD on NCARâ€™s Casper machine, which is very useful for diagnostics, data analysis, and visualization.\nThe CESM case that we made in Mondayâ€™s practicum, ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"L4C4ymfLNH"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Using CrocoDash","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"C0imJRE7hQ"}],"key":"TsdJ2TRuT9"},{"type":"text","value":", was set up to run on Derecho.\nCESM is picky about what machine it runs on because it tailors the configuration and run accordingly.\nEven though Derecho and Casper share a file system, they have very different hardware (and provide users with different modules).","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"hmvCZENwXW"}],"key":"I8Az6aIXsD"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"You can either log in to Derecho directly from JupyterHub,\nor log in to Casper through the JupyterHub and then ssh to Derecho from a terminal.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"iHHy8fw7ho"}],"key":"rsx0X4160x"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Once you are on derecho, change into the directory for the case you want to analyze.\nThe path to this directory might vary, but it will likely be located under the same ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"zgOJXJXml4"},{"type":"inlineCode","value":"crocodile_2025","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Eha1DJq4Gx"},{"type":"text","value":" directory we have been working in so far.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"YyTLSlkCjQ"}],"key":"mqIHiLwHpF"},{"type":"heading","depth":3,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Step 2: Explore how CUPiD is Incorporated in a CESM Case","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"cyj19geYFX"}],"identifier":"step-2-explore-how-cupid-is-incorporated-in-a-cesm-case","label":"Step 2: Explore how CUPiD is Incorporated in a CESM Case","html_id":"step-2-explore-how-cupid-is-incorporated-in-a-cesm-case","implicit":true,"key":"bqBcMPuWS4"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"As you are likely familiar with at this point,\nCESM uses XML files to manage the environment in which your case is run.\nEach file contains variables pertaining to a different phase of the case generation process:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"aQ9pJufb40"}],"key":"K5s7xtemdq"},{"type":"code","lang":"bash","value":"env_archive.xml\nenv_batch.xml\nenv_build.xml\nenv_case.xml\nenv_mach_pes.xml\nenv_mach_specific.xml\nenv_postprocessing.xml\nenv_run.xml\nenv_workflow.xml","position":{"start":{"line":31,"column":1},"end":{"line":41,"column":1}},"key":"pF5U8TW1JO"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"We are interested in the CUPiD variables,\nwhich are all defined in ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"YJs2UkgsnU"},{"type":"inlineCode","value":"env_postprocessing.xml","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"z9Bt1RDJpG"},{"type":"text","value":".\nXML files are plain-text so we can inspect them directly,\nbut weâ€™ll use CIMEâ€™s ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"sbwGcR1BF4"},{"type":"inlineCode","value":"xmlquery","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"fHPdeXxf1L"},{"type":"text","value":" tool instead.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"O2ETMd9nu6"}],"key":"JtCekCyscr"},{"type":"div","class":"alert alert-warning","children":[{"type":"text","value":"ðŸš¨ ","key":"I5llEYYlPR"},{"type":"strong","children":[{"type":"text","value":"POP QUIZ!","key":"i5sCw2vfaf"}],"key":"LUahk7S2yJ"},{"type":"text","value":" ðŸš¨","key":"E4aYFreZhf"}],"key":"uKdEmWtvpN"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"How do you use ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"DTyzh2gWVu"},{"type":"inlineCode","value":"xmlquery","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"nsNLLfQVVH"},{"type":"text","value":" to see all the variables that contain ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"fbFVueiiiB"},{"type":"inlineCode","value":"CUPID","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"SpNJSeRMBg"},{"type":"text","value":" in their name (along with their values)?","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"Sgp0VPOBxh"}],"key":"QXJVd8bSam"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Solution","key":"usk00A93bI"}],"key":"hX6woPOr9U"},{"type":"break","key":"p99RMVsieA"},{"type":"code","lang":null,"meta":null,"value":"$ ./xmlquery -p CUPID\nResults in group cupid_analysis\n\tCUPID_BASELINE_CASE: b.e23_alpha17f.BLT1850.ne30_t232.092\n\tCUPID_BASELINE_ROOT: /glade/derecho/scratch/mlevy/archive/CAcurrent.002/..\n\tCUPID_BASE_NYEARS: 100\n\tCUPID_BASE_STARTDATE: 0001-01-01\n\tCUPID_EXAMPLE: key_metrics\n\tCUPID_NYEARS: 1\n\tCUPID_STARTDATE: 0001-01-01\n\tCUPID_TS_DIR: /glade/derecho/scratch/mlevy/archive/CAcurrent.002/..\n\nResults in group cupid_config\n\tCUPID_GEN_DIAGNOSTICS: TRUE\n\tCUPID_GEN_HTML: TRUE\n\tCUPID_GEN_TIMESERIES: TRUE\n\tCUPID_ROOT: /glade/work/mlevy/codes/CESM/cesm3_0_alpha07c_CROCO/tools/CUPiD\n\nResults in group cupid_environments\n\tCUPID_ANALYSIS_ENV: cupid-analysis\n\tCUPID_INFRASTRUCTURE_ENV: cupid-infrastructure\n\nResults in group cupid_run_components\n\tCUPID_MEM_PER_TASK: 10\n\tCUPID_NTASKS: 1\n\tCUPID_RUN_ADF: FALSE\n\tCUPID_RUN_ALL: TRUE\n\tCUPID_RUN_ATM: FALSE\n\tCUPID_RUN_GLC: FALSE\n\tCUPID_RUN_ICE: FALSE\n\tCUPID_RUN_LND: FALSE\n\tCUPID_RUN_OCN: FALSE\n\tCUPID_RUN_ROF: FALSE\n\tCUPID_TASKS_PER_NODE: 128","key":"cghkn4pACx"}],"key":"z1JqxD8hnx"},{"type":"heading","depth":3,"position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Step 3: Configure and Run CUPiD","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"f8W6qJpyPR"}],"identifier":"step-3-configure-and-run-cupid","label":"Step 3: Configure and Run CUPiD","html_id":"step-3-configure-and-run-cupid","implicit":true,"key":"jgmgejRmI0"},{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"The first variable to talk about is ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"zMwo6fwTq9"},{"type":"inlineCode","value":"CUPID_ROOT","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"QcnUzIQumg"},{"type":"text","value":".\nCUPiD is distributed with CESM in the ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"cJPS8u8vtS"},{"type":"inlineCode","value":"tools/CUPiD","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"VsrGEdDpML"},{"type":"text","value":" subdirectory,\nbut you may wish to use a more recent version of CUPiD.\nThis could be handy if, for example,\nyou are attending a workshop where you took a CUPiD diagnostic and the first exercises were cloning CUPiD,\ninstalling environments from this clone and then running a few examples.\nIn that case, you want to run","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"rPPTcH1C12"}],"key":"GpLcKP4kK7"},{"type":"code","lang":"bash","value":"./xmlchange CUPID_ROOT=\u003c/path/to/CUPiD\u003e","position":{"start":{"line":104,"column":1},"end":{"line":106,"column":1}},"key":"iua1kL2DdP"},{"type":"paragraph","position":{"start":{"line":108,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"We also want to run the ","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"kNX6ieawuC"},{"type":"inlineCode","value":"regional_ocean","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"CesxEw6DE2"},{"type":"text","value":" example,\nwhich is set by the ","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"PPcJB0bYTg"},{"type":"inlineCode","value":"CUPID_EXAMPLE","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"tIkAZhUGYR"},{"type":"text","value":" variable.","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"JHJw6jwy8I"}],"key":"aCITk0Hpwj"},{"type":"code","lang":"bash","value":"./xmlchange CUPID_EXAMPLE=regional_ocean","position":{"start":{"line":111,"column":1},"end":{"line":113,"column":1}},"key":"jSgRC9R9Td"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Lastly, we donâ€™t need to generate time series files or build a webpage","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"W77IJQx9Qn"}],"key":"wzac1ZE5na"},{"type":"code","lang":"bash","value":"./xmlchange CUPID_GEN_TIMESERIES=FALSE,CUPID_GEN_HTML=FALSE","position":{"start":{"line":117,"column":1},"end":{"line":119,"column":1}},"key":"SHLdCpKnLI"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"When you are ready to run CUPiD, you can tell ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"dWCRTYIm1O"},{"type":"inlineCode","value":"case.submit","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"MBi8NQY4OZ"},{"type":"text","value":" that you want to run the ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"hsvwzHg5Au"},{"type":"inlineCode","value":"case.cupid","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"mQpj9XjuoA"},{"type":"text","value":" job in the workflow.\nMake sure you are logged in to Derecho (not Casper) and then run:","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"RydcPrsmjI"}],"key":"IGO8uHU1Tb"},{"type":"code","lang":"bash","value":"./case.submit --job case.cupid","position":{"start":{"line":124,"column":1},"end":{"line":126,"column":1}},"key":"pM7wVvcpRD"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"This will add a job to the development queue on derecho,\nand it hopefully will start running quickly.\nWhen it finishes, output will be in the ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"yJSt7d79Ih"},{"type":"inlineCode","value":"computed_notebooks","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"t0ljOuEZZS"},{"type":"text","value":" subdirectory of your case directory.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"THLUF77lhd"}],"key":"iC7bZXZnNF"},{"type":"heading","depth":2,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Side Quest: How Does CUPiD Tie in to CESM?","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"eYjCQbu2fH"}],"identifier":"side-quest-how-does-cupid-tie-in-to-cesm","label":"Side Quest: How Does CUPiD Tie in to CESM?","html_id":"side-quest-how-does-cupid-tie-in-to-cesm","implicit":true,"key":"ZEE671o2mA"},{"type":"paragraph","position":{"start":{"line":134,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"The details look complicated, but itâ€™s pretty simple from the userâ€™s perspective\n(weâ€™re going to look at several files to understand what CESM is doing,\nbut in practice you wonâ€™t need to modify any of them if you just want to run CUPiD).\nThe CESM workflow is defined in the ","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"NlLvHBaDjM"},{"type":"link","url":"https://github.com/ESMCI/ccs_config_cesm","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"inlineCode","value":"ccs_config_cesm","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"CmKakX7PTW"}],"urlSource":"https://github.com/ESMCI/ccs_config_cesm","error":true,"key":"kvSnDZHDrF"},{"type":"text","value":" repository,\nand the piece relevant to CUPiD is the ","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"yY24iMXKz0"},{"type":"link","url":"https://github.com/ESMCI/ccs_config_cesm/blob/main/machines/template.cupid","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"inlineCode","value":"machines/template.cupid","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"o9EpoIs6Yh"}],"urlSource":"https://github.com/ESMCI/ccs_config_cesm/blob/main/machines/template.cupid","data":{"kind":"file","org":"ESMCI","repo":"ccs_config_cesm","reference":"main","file":"machines/template.cupid","raw":"https://raw.githubusercontent.com/ESMCI/ccs_config_cesm/main/machines/template.cupid"},"internal":false,"protocol":"github","key":"rr1jFKWEvH"},{"type":"text","value":" file:","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"dxs7PydhMf"}],"key":"s88YGzaNwY"},{"type":"code","lang":"bash","value":"#!/bin/bash -e\n\n# Batch system directives\n{{ batchdirectives }}\n\n# Set environment for CESM\nsource .env_mach_specific.sh\n\n# Run shell script in CUPiD external\nCUPID_ROOT=`./xmlquery --value CUPID_ROOT`\n(. ${CUPID_ROOT}/helper_scripts/cesm_postprocessing.sh)","position":{"start":{"line":140,"column":1},"end":{"line":152,"column":1}},"key":"OiWePrr81r"},{"type":"paragraph","position":{"start":{"line":154,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"CIME parses everything in ","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"almZJEhsqa"},{"type":"inlineCode","value":"{{ }}","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"B3iojtWHJO"},{"type":"text","value":" and replaces it with machine-specific code;\nthe final file is ","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"qaSOo5Ww7l"},{"type":"inlineCode","value":"case.cupid","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"Xq8glXr9pI"},{"type":"text","value":" in your case directory.\nOn derecho, this looks like:","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"FQcWLQyjFp"}],"key":"TNvuEgmZZW"},{"type":"code","lang":"bash","value":"#!/bin/bash -e\n\n# Batch system directives\n#PBS -N cupid.{CASE}\n#PBS  -r n\n#PBS  -j oe\n#PBS  -S /bin/bash\n#PBS  -l select=1:ncpus=1:mpiprocs=1:ompthreads=1:mem=10GB\n\n# Set environment for CESM\nsource .env_mach_specific.sh\n\n# Run shell script in CUPiD external\nCUPID_ROOT=`./xmlquery --value CUPID_ROOT`\n(. ${CUPID_ROOT}/helper_scripts/cesm_postprocessing.sh)","position":{"start":{"line":158,"column":1},"end":{"line":174,"column":1}},"key":"f2IFn0eshF"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"In an attempt to keep all necessary code in the CUPiD repository,\nyouâ€™ll note that the last two lines are then calling ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"NH73EWGTDp"},{"type":"link","url":"https://github.com/NCAR/CUPiD/blob/main/helper_scripts/cesm_postprocessing.sh","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"inlineCode","value":"helper_scripts/cesm_postprocessing.sh","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"wUk5WriZN5"}],"urlSource":"https://github.com/NCAR/CUPiD/blob/main/helper_scripts/cesm_postprocessing.sh","data":{"kind":"file","org":"NCAR","repo":"CUPiD","reference":"main","file":"helper_scripts/cesm_postprocessing.sh","raw":"https://raw.githubusercontent.com/NCAR/CUPiD/main/helper_scripts/cesm_postprocessing.sh"},"internal":false,"protocol":"github","key":"avdPBb2QFU"},{"type":"text","value":" out of ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"qXonj3riQL"},{"type":"inlineCode","value":"CUPID_ROOT","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"lSk3yzxCik"},{"type":"text","value":".\nCUPiDâ€™s ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"J0E9sxtn3z"},{"type":"link","url":"https://github.com/NCAR/CUPiD/blob/main/helper_scripts/","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"inlineCode","value":"helper_scripts/","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"ZkbzQC6ZZp"}],"urlSource":"https://github.com/NCAR/CUPiD/blob/main/helper_scripts/","data":{"kind":"file","org":"NCAR","repo":"CUPiD","reference":"main","file":"helper_scripts/","raw":"https://raw.githubusercontent.com/NCAR/CUPiD/main/helper_scripts/"},"internal":false,"protocol":"github","key":"CNjlGtxqyV"},{"type":"text","value":" directory contains several scripts used to create configuration files,\nand ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"VHU2aKMXs1"},{"type":"inlineCode","value":"cesm_postprocessing.sh","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"p4bbEO0Lpd"},{"type":"text","value":" is the driver that ties everything together.\nWe wonâ€™t walk through the entire script here,\nbut I want to highlight the comments in the script that list the processes:","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"jP6bwZjGcH"}],"key":"EP7DjTveZt"},{"type":"code","lang":"bash","value":"# Set variables that come from environment or CESM XML files\n\n# Create directory for running CUPiD\nmkdir -p cupid-postprocessing\ncd cupid-postprocessing\n\n# Use cupid-infrastructure environment for running these scripts\nconda activate ${CUPID_INFRASTRUCTURE_ENV}\n\n# 1. Generate CUPiD config file\n${CUPID_ROOT}/helper_scripts/generate_cupid_config_for_cesm_case.py\n\n# 2. Generate ADF config file\nif [ \"${CUPID_RUN_ADF}\" == \"TRUE\" ]; then\n\n# 3. Generate ILAMB config file\nif [ \"${CUPID_RUN_ILAMB}\" == \"TRUE\" ]; then\n\n# 4. Generate LDF config file\nif [ \"${CUPID_RUN_LDF}\" == \"TRUE\" ]; then\n\n# 5. Generate timeseries files\nif [ \"${CUPID_GEN_TIMESERIES}\" == \"TRUE\" ]; then\n\n# 6. Run ADF\nif [ \"${CUPID_RUN_ADF}\" == \"TRUE\" ]; then\n\n# 7. Run ILAMB\nif [ \"${CUPID_RUN_ILAMB}\" == \"TRUE\" ]; then\n\n# 8. Run LDF\nif [ \"${CUPID_RUN_LDF}\" == \"TRUE\" ]; then\n\n# 9. Run CUPiD and build webpage\nconda deactivate\nconda activate ${CUPID_INFRASTRUCTURE_ENV}\nif [ \"${CUPID_GEN_DIAGNOSTICS}\" == \"TRUE\" ]; then\n  ${CUPID_ROOT}/cupid/run_diagnostics.py ${CUPID_FLAG_STRING}\nfi\nif [ \"${CUPID_GEN_HTML}\" == \"TRUE\" ]; then\n  ${CUPID_ROOT}/cupid/generate_webpage.py\nfi","position":{"start":{"line":183,"column":1},"end":{"line":226,"column":1}},"key":"ICR7lRTXQv"},{"type":"paragraph","position":{"start":{"line":228,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"You can see how the variables defined in ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"Y6e8TzdDlu"},{"type":"inlineCode","value":"env_postprocessing.xml","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"lP4Mnr4Z2x"},{"type":"text","value":" impact what parts of CUPiD are run.\nIn the next task we will make sure these XML variables are set correctly and then ask CESM to run ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"pwQmQpP0Yf"},{"type":"inlineCode","value":"case.cupid","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"ABM8jwQkGH"},{"type":"text","value":".","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"qq6Y2hwmEw"}],"key":"kuAvv7HEYz"}],"key":"vQPpWUgqaa"}],"key":"uVrOaKnjOC"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":" Advanced CUPiD Tutorial ","url":"/notebooks/diagnostics/cupid-projects","group":"Sample CrocoDash Projects"},"next":{"title":"Contributing to CUPiD","url":"/notebooks/diagnostics/contributing-to-cupid","group":"Sample CrocoDash Projects"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"title":"Older Material"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/build/tos_animation-dde4819b337788bf3958a7947af60477.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/build/Jupyter_Terminal-28ce4a6f2f92b3bfa4730a679a80bf08.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/build/data_sources-3781b52d47e6af060eefbce4b07dad35.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"Older Material"},{"level":2,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":3,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/build/CACurrent_topo-203f78e017f11cc945425ef75547b401.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":2,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/CrocoGallery/build/manifest-86A905A4.js";
import * as route0 from "/CrocoGallery/build/root-CXYA7X5D.js";
import * as route1 from "/CrocoGallery/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/CrocoGallery/build/entry.client-PCJPW7TK.js");</script></body></html>