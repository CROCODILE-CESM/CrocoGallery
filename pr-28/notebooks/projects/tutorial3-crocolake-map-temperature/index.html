<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>CrocoLake - Temperature map in the North West Atlantic - CROCODILE Gallery</title><meta property="og:title" content="CrocoLake - Temperature map in the North West Atlantic - CROCODILE Gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/CrocoGallery/pr-28/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="/CrocoGallery/pr-28/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/CrocoGallery/pr-28/favicon.ico"/><link rel="stylesheet" href="/CrocoGallery/pr-28/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/CrocoGallery/pr-28/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/CrocoGallery/pr-28/build/crocodile-ab841ab0c06a268a4d8fbfbfbaf0e0e6.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="CROCODILE Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/CrocoGallery/pr-28/">CROCODILE Gallery</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Basic Tutorials" class="block break-words rounded py-2 grow cursor-pointer">Basic Tutorials</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Features" class="block break-words rounded py-2 grow cursor-pointer">Features</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2025 CROCODILE Workshop Projects" class="block break-words rounded py-2 grow cursor-pointer">2025 CROCODILE Workshop Projects</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Developmental Use Cases" class="block break-words rounded py-2 grow cursor-pointer">Developmental Use Cases</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/CROCODILE-CESM/CrocoGallery" title="GitHub Repository: CROCODILE-CESM/CrocoGallery" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">CrocoLake - Temperature map in the North West Atlantic</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="sEUAh1M1zD" class="myst-jp-nb-block relative group/block"><h1 id="crocolake-temperature-map-in-the-north-west-atlantic" class="relative group"><span class="heading-text">CrocoLake - Temperature map in the North West Atlantic</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#crocolake-temperature-map-in-the-north-west-atlantic" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>This tutorial shows how to read and manipulate CrocoLake data. CrocoLake is stored in parquet format across multiple files for faster reading operations: we will load into memory only what we need by applying some filters, and we will create a map showing the temperature measurements in the North West Atlantic.</p><p>CrocoLake contains QCed data from different datasets (Argo, GLODAP, Spray Gliders as of today).</p><p>You can find more examples on the <a target="_blank" rel="noreferrer" href="https://github.com/boom-lab/crocolake-python" class="">crocolake-python repository</a>.</p><h2 id="installing-crocolake" class="relative group"><span class="heading-text">“Installing” CrocoLake</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#installing-crocolake" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>CrocoLake is not a package but a dataset, thus it does not require any installation per se. To access the data with Python you’ll need the <a target="_blank" rel="noreferrer" href="https://pandas.pydata.org/" class="">pandas</a> and <a target="_blank" rel="noreferrer" href="https://www.dask.org/" class="">dask</a> packages though. If you have installed CrocoCamp in a previous tutorial, you’re already set and you can use the same conda environment you have used before (instructions were provided also <a target="_blank" rel="noreferrer" href="https://github.com/CROCODILE-CESM/CrocoCamp/tree/2025-Crocodile-Workshop" class="">here</a>). If you still have issues, look also at the <a target="_blank" rel="noreferrer" href="https://github.com/boom-lab/crocolake-python" class="">crocolake-python repository</a>, or contact <a target="_blank" rel="noreferrer" href="mailto:enrico.milanese@whoi.edu" class="">enrico<wbr/>.milanese@whoi<wbr/>.edu</a>.</p><h3 id="note-on-parquet-files" class="relative group"><span class="heading-text">Note on parquet files</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#note-on-parquet-files" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>There are several ways to load parquet files in a dataframe in Python, and this notebook shows two of them:</p><ol start="1"><li><p>pandas + pyarrow: this approach uses the pyarrow package to load the data into a pandas dataframe;</p></li><li><p>dask (+ pandas + pyarrow): this approach uses the dask package to load the data into a dask dataframe; it uses pandas and pyarrow under the hood, and a dask dataframe is (almost) identical to a pandas dataframe.</p></li></ol><p>We will first use pyarrow to load the dataset, so that we can provide a target schema (containing the Argo variable names) and load the data consistently across floats, independently of what variables each float actually has. We will finally convert the dataset to a pandas dataframe for manipulation and plots.</p><p>Other ways to read parquet files are by using pandas (make sure you have pyarrow, fastparquet or some other suitable engine installed), and Dask. Generally speaking, you’ll want to use Dask only if you need a large amount of data at the same time so that you can benefit from its parallelization. You should avoid Dask whenever the data fits in your RAM.</p><p>When reading parquet files with pyarrow (or pandas), you can either specificy the file name(s), or the directory containing all the parquet files. In latter case if you apply any filter, pandas and pyarrow will sort through all the files in the folder, reading into memory only the subsets that satisfy your filter.</p></div><div id="bth3SGgdhp" class="myst-jp-nb-block relative group/block"><h2 id="getting-started" class="relative group"><span class="heading-text">Getting started</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#getting-started" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We then import the necessary modules and set up the path to the dataset (update the <code>crocolake_path</code> variable below if you stored CrocoLake at a different location).</p></div><div id="vUZsIZevkw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import datetime
import glob
from pprint import pprint

import pandas as pd
import pyarrow.parquet as pq

# Path to CrocoLake PHY
crocolake_path = &#x27;/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/CrocoCamp/CrocoLakePHY/&#x27;

# Setting up parquet schema
crocolake_schema = pq.read_schema(crocolake_path+&quot;_common_metadata&quot;)

# Geographical boundaries
lat0 = 30
lat1 = 45
lon0 = -85
lon1 = -60</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="8cXk7tDva6lhUtuDJTGbo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="L0pwfKAL2H" class="myst-jp-nb-block relative group/block"><h1 id="pyarrow-pandas-approach" class="relative group"><span class="heading-text">pyarrow + pandas approach</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pyarrow-pandas-approach" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>We now create a <code>ParquetDataset</code> object that will allow us to read the data. Specifying a schema (that we read into <code>crocolake_schema</code> in the previous cell) will make later operations faster.</p><p>We can get a peak at what variables are available in the dataset looking at its <code>schema</code> attribute. Note that we have not load any data into memory yet (except for the schema).</p></div><div id="t2Z4wFDlsW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dataset = pq.ParquetDataset(
    crocolake_path, 
    schema=crocolake_schema
)
schema = dataset.schema
pprint(sorted(schema.names))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WQpFlsFInVbPbdGgTS0EW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="WDgRVBSFra" class="myst-jp-nb-block relative group/block"><p>We now want to filter the dataset to load in memory only the data from the NWA (we set the values for <code>lat0</code>,<code>lat1</code>,<code>lon0</code>,<code>lon1</code> in the first cell) and recorded in the last 6 months.</p><p>The geographical coordinates are stored in the variables &#x27;LATITUDE’and ‘LONGITUDE’. We then generate the filter, with its syntax being: <code>[[(column, op, val), …],…]</code> where <code>column</code> is the variable name, and <code>val</code> is the value to for the operator <code>op</code>, which accepts <code>[==, =, &gt;, &gt;=, &lt;, &lt;=, !=, in, not in]</code>,</p></div><div id="fG2CHKaIHm" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">date0 = datetime.datetime(2010, 1, 1, 0, 0, 0)
date1 = datetime.datetime(2020, 1, 1, 0, 0, 0)

filter_coords_time = [
    (&quot;LATITUDE&quot;,&quot;&gt;&quot;,lat0), (&quot;LATITUDE&quot;,&quot;&lt;&quot;,lat1),
    (&quot;LONGITUDE&quot;,&quot;&gt;&quot;,lon0), (&quot;LONGITUDE&quot;,&quot;&lt;&quot;,lon1),
    (&quot;JULD&quot;,&quot;&gt;&quot;,date0), (&quot;JULD&quot;,&quot;&lt;&quot;,date1)
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0K2ZO404wjq_ghUULoOGW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sjB1CqGRt5" class="myst-jp-nb-block relative group/block"><p>To get a pandas dataframe, we re-generate a <code>ParquetDataset</code> object adding the filters to it, and then we read it into a pandas dataframe with the <code>read().to_pandas()</code> methods of the dataset.</p><p><em>NB:</em> The following operation fetches a large amount of data (~1.6 GB), so you can reduce the number of days in the filter above if you cannot use this much memory.</p></div><div id="UZuWVqh7yg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
ds = pq.ParquetDataset(crocolake_path, schema=crocolake_schema, filters=filter_coords_time)
df = ds.read().to_pandas()
df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="9BzzFLHNNYRi0Fa_RmmT_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="C6sdj5YYSw" class="myst-jp-nb-block relative group/block"><p>You can explore the dataframe just by calling it (<code>df</code>) as we did above. If you want a list of the variables that are stored, you can use <code>sorted(df.columns.to_list())</code>. The following cell shows that we loaded roughly 2 GB of data.</p></div><div id="orohzz4Kou" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">memory_usage = df.memory_usage(deep=True).sum()/(1024**2)
print(f&quot;DataFrame size: {memory_usage:.2f} MB&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MeUiyfkiYUuwU0aaz3Gkr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AaZoefwEkr" class="myst-jp-nb-block relative group/block"><p>If we now that we only need a subset of variables, we can specify them in the dataset’s <code>read()</code> method.</p><p>For example, let’s say that we are interested in the adjusted measurements of the dissolved oxygen recorded in the past 6 months in the NWA. To exclude non valid and missing observations, we filter the temperature (TEMP) to be within a (large) range of valid values. Besides the oxygen, we also want to keep the spatial and time coordinates.</p></div><div id="HdCksfEkLS" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
cols = [&quot;DB_NAME&quot;,&quot;LATITUDE&quot;,&quot;LONGITUDE&quot;,&quot;PRES&quot;,&quot;JULD&quot;,&quot;TEMP&quot;]
filter_coords_time_temp = [
    (&quot;LATITUDE&quot;,&quot;&gt;&quot;,lat0), (&quot;LATITUDE&quot;,&quot;&lt;&quot;,lat1),
    (&quot;LONGITUDE&quot;,&quot;&gt;&quot;,lon0), (&quot;LONGITUDE&quot;,&quot;&lt;&quot;,lon1),
    (&quot;JULD&quot;,&quot;&gt;&quot;,date0), (&quot;JULD&quot;,&quot;&lt;&quot;,date1),
    (&quot;TEMP&quot;,&quot;&gt;=&quot;,-1e30),(&quot;TEMP&quot;,&quot;&lt;=&quot;,+1e30)
]
ds = pq.ParquetDataset(crocolake_path, schema=crocolake_schema, filters=filter_coords_time_temp)
df = ds.read(columns=cols).to_pandas()
df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="v-rSkqmmo0w-2LnhuadSs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="UlK5YBhqaP" class="myst-jp-nb-block relative group/block"><p>This operation was much faster (3-4x faster on my machine) and loaded a smaller dataframe (~800 MB):</p></div><div id="z9JFXKRX6m" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">memory_usage = df.memory_usage(deep=True).sum()/(1024**2)
print(f&quot;DataFrame size: {memory_usage:.2f} MB&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="-lBYaLX4bmLDbHbDu3pVb" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wIQCNk4n0N" class="myst-jp-nb-block relative group/block"><h2 id="map" class="relative group"><span class="heading-text">Map</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#map" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We can now produce a scatter plot as we’d normally do with pandas. For example, here is the average dissolved oxygen at each location in the dataframe that we loaded:</p></div><div id="ncWQGCUQaL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import cartopy.crs as ccrs
import matplotlib.pyplot as plt
from matplotlib import colormaps

ref_var = &quot;TEMP&quot;
# Group by &#x27;LATITUDE&#x27; and &#x27;LONGITUDE&#x27; and database
df_for_map = df.groupby([&quot;LATITUDE&quot;, &quot;LONGITUDE&quot;, &quot;DB_NAME&quot;]).agg({
    ref_var: &#x27;mean&#x27;  # Take the mean intensity at that coordinate
}).reset_index()

# Plotting using Cartopy
plt.figure(figsize=(16, 10))
ax = plt.axes(projection=ccrs.PlateCarree())
ax.coastlines()
cbar_min = df_for_map[ref_var].quantile(q=0.05)
cbar_max = df_for_map[ref_var].quantile(q=0.95)

# Group by DB_NAME and plot each group
df_for_map[&quot;DB_NAME&quot;] = pd.Categorical(df_for_map[&quot;DB_NAME&quot;], categories=[&quot;ARGO&quot;,&quot;GLODAP&quot;,&quot;SprayGliders&quot;], ordered=True)

cmaps = iter( [&quot;Greens&quot;,&quot;Oranges&quot;,&quot;Blues&quot;] )
for db_name, group in df_for_map.groupby(&quot;DB_NAME&quot;,observed=False):
    plt.scatter(
        group[&#x27;LONGITUDE&#x27;],
        group[&#x27;LATITUDE&#x27;],
        s=10,
        c=group[ref_var],
        vmin=cbar_min,
        vmax=cbar_max,
        cmap=next(cmaps),
        transform=ccrs.PlateCarree()
    )
    plt.colorbar(shrink=0.5, label=&#x27;Average &#x27; + ref_var + &quot; (&quot; + db_name + &quot;)&quot;, pad=0.02)

plt.xlabel(&#x27;Longitude&#x27;)
plt.ylabel(&#x27;Latitude&#x27;)
plt.title(&#x27;North-West Atlantic average temperature 2010-2019 (Celsius)&#x27;)
plt.grid(True)
plt.xlim([lon0, lon1])
plt.ylim([lat0, lat1])
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MzNH_2K2TtfnWLehcsIbO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AhUoMPD9gO" class="myst-jp-nb-block relative group/block"><h1 id="dask-approach" class="relative group"><span class="heading-text">dask approach</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-approach" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>dask can be faster at reading parquet databases thanks to its parallel and lazy evaluation of operations.</p><p>When using dask, very few things change compared to using pandas and pyarrow: for example, dask dataframes are almost identical to pandas dataframes and indeed for our needs we will use the same syntax! The only difference is that dask does not evaluate the instructions immediately: it creates so-called delayed objects, through which it builds internally a graph of instructions optimized for the sequence of operations called. To trigger the actual computation we then need to call the <code>compute()</code> method of the dask dataframe. This allows dask to handle larger-than-memory datasets, by reading into memory only the portions needed to perform the optimized set of instructions.</p><p>We start by importing a few extra modules.</p></div><div id="hRgvAoNDLZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import dask
import dask.dataframe as dd</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hur2wz-pMuUgQniIxBZeG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zsipcnsh4hbd" class="myst-jp-nb-block relative group/block"><p>We can use the same filters defined earlier, and we use <code>read_parquet()</code> to filter the database and prescribe what we will need.
Note that:</p><ul><li><p>unlike the pyarrow-pandas approach, here we provide both filters and columns in the same method;</p></li><li><p>we provide the schema <code>crocolake_schema</code> that we read during the set up of the excercise</p></li><li><p>dask uses pyarrow under the hood (<code>engine</code> variable, other options are available)</p></li></ul></div><div id="ed136e1c-8b38-4908-b745-0395174d1aa0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div id="ed136e1c-8b38-4908-b745-0395174d1aa0-code" class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
date0 = datetime.datetime(2010, 1, 1, 0, 0, 0)
date1 = datetime.datetime(2020, 1, 1, 0, 0, 0)

cols = [&quot;DB_NAME&quot;,&quot;LATITUDE&quot;,&quot;LONGITUDE&quot;,&quot;PRES&quot;,&quot;JULD&quot;,&quot;TEMP&quot;]
filter_coords_time_temp = [
    (&quot;LATITUDE&quot;,&quot;&gt;&quot;,lat0), (&quot;LATITUDE&quot;,&quot;&lt;&quot;,lat1),
    (&quot;LONGITUDE&quot;,&quot;&gt;&quot;,lon0), (&quot;LONGITUDE&quot;,&quot;&lt;&quot;,lon1),
    (&quot;JULD&quot;,&quot;&gt;&quot;,date0), (&quot;JULD&quot;,&quot;&lt;&quot;,date1),
    (&quot;TEMP&quot;,&quot;&gt;=&quot;,-1e30),(&quot;TEMP&quot;,&quot;&lt;=&quot;,+1e30)
]

ddf = dd.read_parquet(
    crocolake_path,
    engine=&quot;pyarrow&quot;,
    schema=crocolake_schema,
    columns= cols,
    filters=filter_coords_time_temp
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" id="ed136e1c-8b38-4908-b745-0395174d1aa0-outputs" data-mdast-node-id="MbY_epOdg3zaPF4OAy2nz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="m8lkmw-wqun5" class="myst-jp-nb-block relative group/block"><p>It appears dask is much faster! Yet, it actually creates a delayed object, i.e. <code>ddf</code> contains the instructions that dask will later use to load the dataframe into memory. This allows us to use <code>ddf</code> to schedule all the operations that we’d normally perform on a dataframe. Eventually we will call <code>ddf.compute()</code> to actually evaluate the instructions.</p><p>If we look at <code>ddf</code>, the dataframe will in fact appear empty:</p></div><div id="id-wrg95p8q3u1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div id="id-wrg95p8q3u1-code" class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ddf</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" id="_wrg95p8q3u1-outputs" data-mdast-node-id="utIuqRdgMDN0fmxhwRg2p" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="udazytduva2b" class="myst-jp-nb-block relative group/block"><p>We can explore its first entries with <code>head()</code>, which loads into memory only the first 5 entries:</p><p>(Note: <code>head()</code> can return an empty dataframe even when <code>ddf</code> is not empty. This happens because <code>head()</code> looks for the first 5 rows of the first partition, which sometimes happens to be empty. Repartitioning the dask dataframe will get rid of empty partitions and solve this.)</p></div><div id="Lt75I5uBV7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#ddf=ddf.repartition(partition_size=&quot;300MB&quot;)
ddf.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="z23J85gRyeJB1ClCYKse6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="w3p0mocgvt-n" class="myst-jp-nb-block relative group/block"><p>To load the whole dataframe, we call <code>compute()</code> (this returns a pandas dataframe).</p></div><div id="mqsg5monvtze" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div id="mqsg5monvtze-code" class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
ddf_loaded = ddf.compute()
ddf_loaded</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" id="mqsg5monvtze-outputs" data-mdast-node-id="EyEXCRQKzvjT3CwlwzC8q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="v9t4cbmxwarf" class="myst-jp-nb-block relative group/block"><p>It took just a few hundreds milliseconds! So yes, dask can be much faster than just using pyarrow and pandas.</p><p>If we look into <code>ddf_loaded</code> now, it will show the populated pandas dataframe.</p><p>(Note: if you compare <code>ddf_loaded</code> with <code>df</code> loaded with pyarrow, you’ll see that the rows are not in the same order, yet under the dataframe you can see that the total number of rows is the same. Also the index seems smaller, but dask holds the dataframe in multiple partitions, and the index is reset at every partition.)</p></div><div id="qP3RErkZpN" class="myst-jp-nb-block relative group/block"><p>dask’s main advantage is not just in loading the data faster, but in performing operations on larger-than-memory data. For example, it can compute the mean value of TEMPERATURE <em>in the whole Argo PHY dataset</em> without loading the whole data in memory (and pretty quickly, too):</p></div><div id="teBSPlEJWC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># note that we are not passing any filter conditions or selection of columns to load
ddf_all = dd.read_parquet(
    crocolake_path,
    engine=&quot;pyarrow&quot;,
    schema=crocolake_schema,
)
temp_mean = ddf_all[&#x27;TEMP&#x27;].mean() # temp_mean is a delayed object: it knows what operations to perform to compute the mean, 
                                   # but doesn&#x27;t perform them until we call compute() in the next cell</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZZs0h_kV4PquIqL4otXbg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VenY1O0oFV" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
temp_mean.compute()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="bJm1r3yZHj0QeMaJdXZN2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="kw7ipj-kwjqv" class="myst-jp-nb-block relative group/block"><h2 id="map-1" class="relative group"><span class="heading-text">Map</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#map-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>When producing the map with our dask approach, we would create the <code>grouped</code> dataframe from the delayed dataframe <code>ddf</code>, and <code>compute()</code> it as late as possible.</p><p>In this example, the compute that we are triggering includes four operations:</p><ul><li><p>reading the filtered dataset;</p></li><li><p>grouping the dataframe by geographical coordinates;</p></li><li><p>averaging by pressure and time;</p></li><li><p>resetting the index;</p></li></ul><p>Dask internally builds a graph of all of these operations, so that it knows what subset of data is needed and it optimizes the number and sequence of instructions before executing them.</p></div><div id="id-62c816e6-bbd4-4af1-af47-03a1cfcbd95a" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div id="id-62c816e6-bbd4-4af1-af47-03a1cfcbd95a-code" class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import cartopy.crs as ccrs
import matplotlib.pyplot as plt
from matplotlib import colormaps

ref_var = &quot;TEMP&quot;
# Group by &#x27;LATITUDE&#x27; and &#x27;LONGITUDE&#x27; and database
ddf_for_map = ddf.groupby([&quot;LATITUDE&quot;, &quot;LONGITUDE&quot;, &quot;DB_NAME&quot;]).agg({
    ref_var: &#x27;mean&#x27;  # Take the mean intensity at that coordinate
}).reset_index()

# Plotting using Cartopy
plt.figure(figsize=(16, 10))
ax = plt.axes(projection=ccrs.PlateCarree())
ax.coastlines()
cbar_min = ddf_for_map[ref_var].quantile(q=0.05).compute()
cbar_max = ddf_for_map[ref_var].quantile(q=0.95).compute()

# Group by DB_NAME and plot each group
ddf[&#x27;DB_NAME&#x27;] = ddf.DB_NAME.astype(&#x27;category&#x27;)

cmaps = iter( [&quot;Greens&quot;,&quot;Oranges&quot;,&quot;Blues&quot;] )
for db_name, group in ddf_for_map.compute().groupby(&quot;DB_NAME&quot;):
    plt.scatter(
        group[&#x27;LONGITUDE&#x27;],
        group[&#x27;LATITUDE&#x27;],
        s=10,
        c=group[ref_var],
        vmin=cbar_min,
        vmax=cbar_max,
        cmap=next(cmaps),
        transform=ccrs.PlateCarree()
    )
    plt.colorbar(shrink=0.5, label=&#x27;Average &#x27; + ref_var + &quot; (&quot; + db_name + &quot;)&quot;, pad=0.02)

plt.xlabel(&#x27;Longitude&#x27;)
plt.ylabel(&#x27;Latitude&#x27;)
plt.title(&#x27;North-West Atlantic average temperature 2010-2019 (Celsius)&#x27;)
plt.grid(True)
plt.xlim([lon0, lon1])
plt.ylim([lat0, lat1])
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" id="62c816e6-bbd4-4af1-af47-03a1cfcbd95a-outputs" data-mdast-node-id="n1noVmRybUGFP8ilC-7Gl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rphQwSFl72" class="myst-jp-nb-block relative group/block"><h1 id="suggested-exercises" class="relative group"><span class="heading-text">Suggested exercises</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#suggested-exercises" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>Try and access some other data, for example:</p><ul><li><p>filtering by different time periods;</p></li><li><p>mapping a different parameter;</p></li><li><p>restraining the data of interest further by imposing the pressure PRES to be below 100db;</p></li><li><p>performing reads/manipulations that you would need to perform your tasks.</p></li></ul><p>If you encounter any issues, please <a target="_blank" rel="noreferrer" href="enrico.milanese@whoi.edu" class="">reach out</a>!</p></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/CrocoGallery/pr-28/notebooks/projects/tutorial2-mom6-cl-comparison-float"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Basic CrocoDash Tutorial</div>Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/CrocoGallery/pr-28/notebooks/projects/tutorial4-mom6-wod13-comparison"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Basic CrocoDash Tutorial</div>Model-Observation comparison with MOM6 and World Ocean Database</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/CrocoGallery/pr-28/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="/CrocoGallery/pr-28/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/notebooks/projects/tutorial3-crocolake-map-temperature","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/pr-28/build/crocodile-ab841ab0c06a268a4d8fbfbfbaf0e0e6.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/tos_animation-0900efe698a3398c373cb882d74fa3ea.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/Jupyter_Terminal-2e3cfb5d3507c1ad01226827471d7034.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/data_sources-44b5612980f8bb24a989ad9d589b6fa6.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/CACurrent_topo-df7e0024e609a32865044ff16836f83f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/CrocoGallery/pr-28"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/pr-28/build/crocodile-ab841ab0c06a268a4d8fbfbfbaf0e0e6.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/tos_animation-0900efe698a3398c373cb882d74fa3ea.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/Jupyter_Terminal-2e3cfb5d3507c1ad01226827471d7034.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/data_sources-44b5612980f8bb24a989ad9d589b6fa6.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/CACurrent_topo-df7e0024e609a32865044ff16836f83f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"84c90b7d9353ba50297eb67604bdb021ee4ebdf47380679bc4f9f7ad72aa2631","slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","location":"/notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb","dependencies":[],"frontmatter":{"title":"CrocoLake - Temperature map in the North West Atlantic","content_includes_title":true,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":2}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb","exports":[{"format":"ipynb","filename":"tutorial3_CrocoLake_map_temperature.ipynb","url":"/CrocoGallery/pr-28/build/tutorial3_CrocoLake_-5061663fb0588c5b200d7d8bcb12c805.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"CrocoLake - Temperature map in the North West Atlantic","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WyHRQubq90"}],"identifier":"crocolake-temperature-map-in-the-north-west-atlantic","label":"CrocoLake - Temperature map in the North West Atlantic","html_id":"crocolake-temperature-map-in-the-north-west-atlantic","implicit":true,"key":"Zyo8gqMBoO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This tutorial shows how to read and manipulate CrocoLake data. CrocoLake is stored in parquet format across multiple files for faster reading operations: we will load into memory only what we need by applying some filters, and we will create a map showing the temperature measurements in the North West Atlantic.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BkzMo2GSXq"}],"key":"fMXNqyFuyW"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"CrocoLake contains QCed data from different datasets (Argo, GLODAP, Spray Gliders as of today).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MFJyWuWq4y"}],"key":"eMaa8kWpSo"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"You can find more examples on the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nxXiIpNVZu"},{"type":"link","url":"https://github.com/boom-lab/crocolake-python","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"crocolake-python repository","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LMbFIVlAD0"}],"urlSource":"https://github.com/boom-lab/crocolake-python","error":true,"key":"ojnN7osnic"},{"type":"text","value":".","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"v2sOk738VZ"}],"key":"Qx7D8T79XX"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"“Installing” CrocoLake","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"H7eT8nfdLo"}],"identifier":"installing-crocolake","label":"“Installing” CrocoLake","html_id":"installing-crocolake","implicit":true,"key":"bQGY7VPlyg"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"CrocoLake is not a package but a dataset, thus it does not require any installation per se. To access the data with Python you’ll need the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xpj80oslLB"},{"type":"link","url":"https://pandas.pydata.org/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"pandas","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"oosYXVLFIL"}],"urlSource":"https://pandas.pydata.org/","key":"wcsZ0VQXRy"},{"type":"text","value":" and ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AzGFKztI63"},{"type":"link","url":"https://www.dask.org/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"dask","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HzQi3AMl1t"}],"urlSource":"https://www.dask.org/","key":"dmnJMoTn06"},{"type":"text","value":" packages though. If you have installed CrocoCamp in a previous tutorial, you’re already set and you can use the same conda environment you have used before (instructions were provided also ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"s6GMANhp9B"},{"type":"link","url":"https://github.com/CROCODILE-CESM/CrocoCamp/tree/2025-Crocodile-Workshop","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VQEkrYrIgM"}],"urlSource":"https://github.com/CROCODILE-CESM/CrocoCamp/tree/2025-Crocodile-Workshop","error":true,"key":"C7eOXyM1Wt"},{"type":"text","value":"). If you still have issues, look also at the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vyUU3J6QbZ"},{"type":"link","url":"https://github.com/boom-lab/crocolake-python","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"crocolake-python repository","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Eh04jGH7hG"}],"urlSource":"https://github.com/boom-lab/crocolake-python","error":true,"key":"AKEVGbI9ud"},{"type":"text","value":", or contact ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Uvmof5AvEJ"},{"type":"link","url":"mailto:enrico.milanese@whoi.edu","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"enrico​.milanese@whoi​.edu","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"MjtXaiog9B"}],"urlSource":"mailto:enrico.milanese@whoi.edu","key":"y8chcBLJmo"},{"type":"text","value":".","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WOlbwcVJr7"}],"key":"TcTFpmL5sV"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Note on parquet files","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"pKefQvRsUJ"}],"identifier":"note-on-parquet-files","label":"Note on parquet files","html_id":"note-on-parquet-files","implicit":true,"key":"w5Sa9ka5tN"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"There are several ways to load parquet files in a dataframe in Python, and this notebook shows two of them:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"AosHIS4t3R"}],"key":"JArcTbgkOj"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"pandas + pyarrow: this approach uses the pyarrow package to load the data into a pandas dataframe;","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RM12mMKULR"}],"key":"hnZvkKmiKJ"}],"key":"xFumjP9Fcc"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dask (+ pandas + pyarrow): this approach uses the dask package to load the data into a dask dataframe; it uses pandas and pyarrow under the hood, and a dask dataframe is (almost) identical to a pandas dataframe.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"hAoLX0DlXA"}],"key":"CJEBxQgR8d"}],"key":"RG1auaUgY2"}],"key":"NtJe6U2LFy"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"We will first use pyarrow to load the dataset, so that we can provide a target schema (containing the Argo variable names) and load the data consistently across floats, independently of what variables each float actually has. We will finally convert the dataset to a pandas dataframe for manipulation and plots.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"nRzeFy3YmB"}],"key":"JL0fKL8kxE"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Other ways to read parquet files are by using pandas (make sure you have pyarrow, fastparquet or some other suitable engine installed), and Dask. Generally speaking, you’ll want to use Dask only if you need a large amount of data at the same time so that you can benefit from its parallelization. You should avoid Dask whenever the data fits in your RAM.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"fJmQEj0Ovf"}],"key":"tvMAgh7qty"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"When reading parquet files with pyarrow (or pandas), you can either specificy the file name(s), or the directory containing all the parquet files. In latter case if you apply any filter, pandas and pyarrow will sort through all the files in the folder, reading into memory only the subsets that satisfy your filter.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ogdbNlIxUr"}],"key":"m59MaKInQK"}],"key":"sEUAh1M1zD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Getting started","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kl4BObM1Zl"}],"identifier":"getting-started","label":"Getting started","html_id":"getting-started","implicit":true,"key":"v1Bwd8YvR0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We then import the necessary modules and set up the path to the dataset (update the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c3znOn5Z1r"},{"type":"inlineCode","value":"crocolake_path","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aDGHFBmDs9"},{"type":"text","value":" variable below if you stored CrocoLake at a different location).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gNWLmrq41M"}],"key":"MVhYxMajwA"}],"key":"bth3SGgdhp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import datetime\nimport glob\nfrom pprint import pprint\n\nimport pandas as pd\nimport pyarrow.parquet as pq\n\n# Path to CrocoLake PHY\ncrocolake_path = '/glade/campaign/cgd/oce/projects/CROCODILE/workshops/2025/CrocoCamp/CrocoLakePHY/'\n\n# Setting up parquet schema\ncrocolake_schema = pq.read_schema(crocolake_path+\"_common_metadata\")\n\n# Geographical boundaries\nlat0 = 30\nlat1 = 45\nlon0 = -85\nlon1 = -60","key":"lbXGGDhokj"},{"type":"outputs","id":"8cXk7tDva6lhUtuDJTGbo","children":[],"key":"zPUExupxjc"}],"key":"vUZsIZevkw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"pyarrow + pandas approach","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bg950ROkzj"}],"identifier":"pyarrow-pandas-approach","label":"pyarrow + pandas approach","html_id":"pyarrow-pandas-approach","implicit":true,"key":"gSrBAZFuuX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We now create a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Cp2nZnEw1n"},{"type":"inlineCode","value":"ParquetDataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"azyGssGV6j"},{"type":"text","value":" object that will allow us to read the data. Specifying a schema (that we read into ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hNhqs59WpJ"},{"type":"inlineCode","value":"crocolake_schema","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EKP7GMaDqB"},{"type":"text","value":" in the previous cell) will make later operations faster.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qmuziMnPqB"}],"key":"JOEMVGmalA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We can get a peak at what variables are available in the dataset looking at its ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AEG001IoNV"},{"type":"inlineCode","value":"schema","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MsWRHF2u7Q"},{"type":"text","value":" attribute. Note that we have not load any data into memory yet (except for the schema).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bMNlaqvr1H"}],"key":"CYLwjTc1hI"}],"key":"L0pwfKAL2H"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dataset = pq.ParquetDataset(\n    crocolake_path, \n    schema=crocolake_schema\n)\nschema = dataset.schema\npprint(sorted(schema.names))","key":"SB9G0KXEUw"},{"type":"outputs","id":"WQpFlsFInVbPbdGgTS0EW","children":[],"key":"SPLIJSCOa6"}],"key":"t2Z4wFDlsW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now want to filter the dataset to load in memory only the data from the NWA (we set the values for ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lneEzWApqD"},{"type":"inlineCode","value":"lat0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sdwTECCMDv"},{"type":"text","value":",","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CnRwbKADil"},{"type":"inlineCode","value":"lat1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cO5e6gwMRA"},{"type":"text","value":",","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T7Ifwm5DYw"},{"type":"inlineCode","value":"lon0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iUdxGDlJku"},{"type":"text","value":",","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xibD57vawg"},{"type":"inlineCode","value":"lon1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kyAKQyqnqB"},{"type":"text","value":" in the first cell) and recorded in the last 6 months.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z8lRda6iKK"}],"key":"uBlhcEcpmk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The geographical coordinates are stored in the variables 'LATITUDE’and ‘LONGITUDE’. We then generate the filter, with its syntax being: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wj96ZMJoTI"},{"type":"inlineCode","value":"[[(column, op, val), …],…]","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V8Y324fYmJ"},{"type":"text","value":" where ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pfjuLKEJJK"},{"type":"inlineCode","value":"column","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yf2W1XwBlH"},{"type":"text","value":" is the variable name, and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JcOP63Uu7l"},{"type":"inlineCode","value":"val","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F5YZHMYGBD"},{"type":"text","value":" is the value to for the operator ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TbJ9asuLuB"},{"type":"inlineCode","value":"op","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Cf141tVp0F"},{"type":"text","value":", which accepts ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qtF6Uu3kCZ"},{"type":"inlineCode","value":"[==, =, \u003e, \u003e=, \u003c, \u003c=, !=, in, not in]","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A0o2VD4d9p"},{"type":"text","value":",","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CaVi92ufO3"}],"key":"DwZcUlzRlY"}],"key":"WDgRVBSFra"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date0 = datetime.datetime(2010, 1, 1, 0, 0, 0)\ndate1 = datetime.datetime(2020, 1, 1, 0, 0, 0)\n\nfilter_coords_time = [\n    (\"LATITUDE\",\"\u003e\",lat0), (\"LATITUDE\",\"\u003c\",lat1),\n    (\"LONGITUDE\",\"\u003e\",lon0), (\"LONGITUDE\",\"\u003c\",lon1),\n    (\"JULD\",\"\u003e\",date0), (\"JULD\",\"\u003c\",date1)\n]","key":"P1TIsbAnXY"},{"type":"outputs","id":"0K2ZO404wjq_ghUULoOGW","children":[],"key":"Jsiv6iUuTI"}],"key":"fG2CHKaIHm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To get a pandas dataframe, we re-generate a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FEKy2bw3qf"},{"type":"inlineCode","value":"ParquetDataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f3sOIEbWgL"},{"type":"text","value":" object adding the filters to it, and then we read it into a pandas dataframe with the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y4hO5XKe2U"},{"type":"inlineCode","value":"read().to_pandas()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aslMGF0bkv"},{"type":"text","value":" methods of the dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"srmaE8RodV"}],"key":"B9SEMBsWYz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"NB:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hef5N3YQMo"}],"key":"ndr2IhU7mV"},{"type":"text","value":" The following operation fetches a large amount of data (~1.6 GB), so you can reduce the number of days in the filter above if you cannot use this much memory.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dCwKJGPw9o"}],"key":"dKLr2j0gd1"}],"key":"sjB1CqGRt5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nds = pq.ParquetDataset(crocolake_path, schema=crocolake_schema, filters=filter_coords_time)\ndf = ds.read().to_pandas()\ndf","key":"jcqoK5zPXH"},{"type":"outputs","id":"9BzzFLHNNYRi0Fa_RmmT_","children":[],"key":"zImEnDn6Nm"}],"key":"UZuWVqh7yg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can explore the dataframe just by calling it (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QhZ6X2P9HF"},{"type":"inlineCode","value":"df","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fXkRaJUUSI"},{"type":"text","value":") as we did above. If you want a list of the variables that are stored, you can use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y9xrsQ4XVn"},{"type":"inlineCode","value":"sorted(df.columns.to_list())","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"deYeUjhwXN"},{"type":"text","value":". The following cell shows that we loaded roughly 2 GB of data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aU7pMYntfl"}],"key":"bL646PMjWb"}],"key":"C6sdj5YYSw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"memory_usage = df.memory_usage(deep=True).sum()/(1024**2)\nprint(f\"DataFrame size: {memory_usage:.2f} MB\")","key":"UvTMTS66hq"},{"type":"outputs","id":"MeUiyfkiYUuwU0aaz3Gkr","children":[],"key":"aeJWnarqcE"}],"key":"orohzz4Kou"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If we now that we only need a subset of variables, we can specify them in the dataset’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OwdcFX2eGd"},{"type":"inlineCode","value":"read()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OF1X9vnY02"},{"type":"text","value":" method.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zPt9eXYexO"}],"key":"tkRnZyT1Tq"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For example, let’s say that we are interested in the adjusted measurements of the dissolved oxygen recorded in the past 6 months in the NWA. To exclude non valid and missing observations, we filter the temperature (TEMP) to be within a (large) range of valid values. Besides the oxygen, we also want to keep the spatial and time coordinates.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KLdzf1Vf43"}],"key":"SrH9LF0E7s"}],"key":"AaZoefwEkr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\ncols = [\"DB_NAME\",\"LATITUDE\",\"LONGITUDE\",\"PRES\",\"JULD\",\"TEMP\"]\nfilter_coords_time_temp = [\n    (\"LATITUDE\",\"\u003e\",lat0), (\"LATITUDE\",\"\u003c\",lat1),\n    (\"LONGITUDE\",\"\u003e\",lon0), (\"LONGITUDE\",\"\u003c\",lon1),\n    (\"JULD\",\"\u003e\",date0), (\"JULD\",\"\u003c\",date1),\n    (\"TEMP\",\"\u003e=\",-1e30),(\"TEMP\",\"\u003c=\",+1e30)\n]\nds = pq.ParquetDataset(crocolake_path, schema=crocolake_schema, filters=filter_coords_time_temp)\ndf = ds.read(columns=cols).to_pandas()\ndf","key":"yRaCwU1HNM"},{"type":"outputs","id":"v-rSkqmmo0w-2LnhuadSs","children":[],"key":"bwWq7bY8UY"}],"key":"HdCksfEkLS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This operation was much faster (3-4x faster on my machine) and loaded a smaller dataframe (~800 MB):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UHFZjelE6y"}],"key":"Zrkj1luDdx"}],"key":"UlK5YBhqaP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"memory_usage = df.memory_usage(deep=True).sum()/(1024**2)\nprint(f\"DataFrame size: {memory_usage:.2f} MB\")","key":"dFiwEFxCp8"},{"type":"outputs","id":"-lBYaLX4bmLDbHbDu3pVb","children":[],"key":"vqrR104811"}],"key":"z9JFXKRX6m"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JfI9qlNZtT"}],"identifier":"map","label":"Map","html_id":"map","implicit":true,"key":"bAa4D78a3N"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can now produce a scatter plot as we’d normally do with pandas. For example, here is the average dissolved oxygen at each location in the dataframe that we loaded:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X1xEd0vmHX"}],"key":"SrGhaxo4OU"}],"key":"wIQCNk4n0N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import cartopy.crs as ccrs\nimport matplotlib.pyplot as plt\nfrom matplotlib import colormaps\n\nref_var = \"TEMP\"\n# Group by 'LATITUDE' and 'LONGITUDE' and database\ndf_for_map = df.groupby([\"LATITUDE\", \"LONGITUDE\", \"DB_NAME\"]).agg({\n    ref_var: 'mean'  # Take the mean intensity at that coordinate\n}).reset_index()\n\n# Plotting using Cartopy\nplt.figure(figsize=(16, 10))\nax = plt.axes(projection=ccrs.PlateCarree())\nax.coastlines()\ncbar_min = df_for_map[ref_var].quantile(q=0.05)\ncbar_max = df_for_map[ref_var].quantile(q=0.95)\n\n# Group by DB_NAME and plot each group\ndf_for_map[\"DB_NAME\"] = pd.Categorical(df_for_map[\"DB_NAME\"], categories=[\"ARGO\",\"GLODAP\",\"SprayGliders\"], ordered=True)\n\ncmaps = iter( [\"Greens\",\"Oranges\",\"Blues\"] )\nfor db_name, group in df_for_map.groupby(\"DB_NAME\",observed=False):\n    plt.scatter(\n        group['LONGITUDE'],\n        group['LATITUDE'],\n        s=10,\n        c=group[ref_var],\n        vmin=cbar_min,\n        vmax=cbar_max,\n        cmap=next(cmaps),\n        transform=ccrs.PlateCarree()\n    )\n    plt.colorbar(shrink=0.5, label='Average ' + ref_var + \" (\" + db_name + \")\", pad=0.02)\n\nplt.xlabel('Longitude')\nplt.ylabel('Latitude')\nplt.title('North-West Atlantic average temperature 2010-2019 (Celsius)')\nplt.grid(True)\nplt.xlim([lon0, lon1])\nplt.ylim([lat0, lat1])\nplt.show()","key":"PFZkR59NnV"},{"type":"outputs","id":"MzNH_2K2TtfnWLehcsIbO","children":[],"key":"plM5ld6scs"}],"key":"ncWQGCUQaL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"dask approach","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Aj7ySaojNL"}],"identifier":"dask-approach","label":"dask approach","html_id":"dask-approach","implicit":true,"key":"BjxTUwNbZ2"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dask can be faster at reading parquet databases thanks to its parallel and lazy evaluation of operations.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Hz2Voo8agG"}],"key":"Yhw5QSSWRU"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"When using dask, very few things change compared to using pandas and pyarrow: for example, dask dataframes are almost identical to pandas dataframes and indeed for our needs we will use the same syntax! The only difference is that dask does not evaluate the instructions immediately: it creates so-called delayed objects, through which it builds internally a graph of instructions optimized for the sequence of operations called. To trigger the actual computation we then need to call the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IGttZpAgoK"},{"type":"inlineCode","value":"compute()","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"BS4lTXYL5c"},{"type":"text","value":" method of the dask dataframe. This allows dask to handle larger-than-memory datasets, by reading into memory only the portions needed to perform the optimized set of instructions.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pMSqs9klc8"}],"key":"hx3mCUHdU3"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"We start by importing a few extra modules.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"IZG6WfO4ST"}],"key":"M4TOTiQusU"}],"key":"AhUoMPD9gO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import dask\nimport dask.dataframe as dd","key":"iJ4Gw8fm0y"},{"type":"outputs","id":"hur2wz-pMuUgQniIxBZeG","children":[],"key":"ZFbmF8zwjU"}],"key":"hRgvAoNDLZ"},{"type":"block","kind":"notebook-content","data":{"id":"zSiPCNSh4HBD"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can use the same filters defined earlier, and we use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"duZswjiGCG"},{"type":"inlineCode","value":"read_parquet()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lpXRmEwd70"},{"type":"text","value":" to filter the database and prescribe what we will need.\nNote that:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tOIuYZ2KNd"}],"key":"Iz9o6VwCLn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"unlike the pyarrow-pandas approach, here we provide both filters and columns in the same method;","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aByGrxciNU"}],"key":"nd3dTgK2Tx"}],"key":"AGv3aTXs36"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"we provide the schema ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"XBjgrpWJJ8"},{"type":"inlineCode","value":"crocolake_schema","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kukncHA8LX"},{"type":"text","value":" that we read during the set up of the excercise","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EPzptXDg0i"}],"key":"dxySFKCDQW"}],"key":"sljnbhHPvn"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dask uses pyarrow under the hood (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bmnywDNJQx"},{"type":"inlineCode","value":"engine","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Q4U8nuuuxX"},{"type":"text","value":" variable, other options are available)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wSWB5kXnao"}],"key":"D5KaOaGOML"}],"key":"OHUEAPqb5Z"}],"key":"pwjOSjwMzn"}],"identifier":"zsipcnsh4hbd","label":"zSiPCNSh4HBD","html_id":"zsipcnsh4hbd","key":"uQ0rec1Cpa"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ed136e1c-8b38-4908-b745-0395174d1aa0","outputId":"9cbe4727-8dc1-4c8c-f598-4dfa5b04338a"},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\ndate0 = datetime.datetime(2010, 1, 1, 0, 0, 0)\ndate1 = datetime.datetime(2020, 1, 1, 0, 0, 0)\n\ncols = [\"DB_NAME\",\"LATITUDE\",\"LONGITUDE\",\"PRES\",\"JULD\",\"TEMP\"]\nfilter_coords_time_temp = [\n    (\"LATITUDE\",\"\u003e\",lat0), (\"LATITUDE\",\"\u003c\",lat1),\n    (\"LONGITUDE\",\"\u003e\",lon0), (\"LONGITUDE\",\"\u003c\",lon1),\n    (\"JULD\",\"\u003e\",date0), (\"JULD\",\"\u003c\",date1),\n    (\"TEMP\",\"\u003e=\",-1e30),(\"TEMP\",\"\u003c=\",+1e30)\n]\n\nddf = dd.read_parquet(\n    crocolake_path,\n    engine=\"pyarrow\",\n    schema=crocolake_schema,\n    columns= cols,\n    filters=filter_coords_time_temp\n)","identifier":"ed136e1c-8b38-4908-b745-0395174d1aa0-code","enumerator":"1","html_id":"ed136e1c-8b38-4908-b745-0395174d1aa0-code","key":"a7DOYPvLaQ"},{"type":"outputs","id":"MbY_epOdg3zaPF4OAy2nz","children":[],"identifier":"ed136e1c-8b38-4908-b745-0395174d1aa0-outputs","html_id":"ed136e1c-8b38-4908-b745-0395174d1aa0-outputs","key":"sWMoYeUiQs"}],"identifier":"ed136e1c-8b38-4908-b745-0395174d1aa0","label":"ed136e1c-8b38-4908-b745-0395174d1aa0","html_id":"ed136e1c-8b38-4908-b745-0395174d1aa0","key":"ILrh6mcoJn"},{"type":"block","kind":"notebook-content","data":{"id":"M8LkMW-wQun5"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It appears dask is much faster! Yet, it actually creates a delayed object, i.e. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DY1U6OHW1H"},{"type":"inlineCode","value":"ddf","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UOXsV4RZKX"},{"type":"text","value":" contains the instructions that dask will later use to load the dataframe into memory. This allows us to use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L0ygTKOtaU"},{"type":"inlineCode","value":"ddf","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vOKcCcCDjp"},{"type":"text","value":" to schedule all the operations that we’d normally perform on a dataframe. Eventually we will call ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GvwOxaER8m"},{"type":"inlineCode","value":"ddf.compute()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tFtozxU2Ui"},{"type":"text","value":" to actually evaluate the instructions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u3esJFqbwB"}],"key":"ZcS8R7yKE6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If we look at ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P1cw7SM2t8"},{"type":"inlineCode","value":"ddf","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VxemPTYWe1"},{"type":"text","value":", the dataframe will in fact appear empty:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VyI5h7yo7X"}],"key":"Rwy9Jgf7pM"}],"identifier":"m8lkmw-wqun5","label":"M8LkMW-wQun5","html_id":"m8lkmw-wqun5","key":"hx28jtfg9Z"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/","height":272},"id":"_wRG95P8Q3U1","outputId":"81e3e10b-accb-45d1-8160-83f6c9db37da"},"children":[{"type":"code","lang":"python","executable":true,"value":"ddf","identifier":"_wrg95p8q3u1-code","enumerator":"2","html_id":"id-wrg95p8q3u1-code","key":"UgWOEikggS"},{"type":"outputs","id":"utIuqRdgMDN0fmxhwRg2p","children":[],"identifier":"_wrg95p8q3u1-outputs","html_id":"id-wrg95p8q3u1-outputs","key":"D8To169pIA"}],"identifier":"_wrg95p8q3u1","label":"_wRG95P8Q3U1","html_id":"id-wrg95p8q3u1","key":"LFp93bQ0St"},{"type":"block","kind":"notebook-content","data":{"id":"uDAzYTduVA2B"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can explore its first entries with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BZ9E5lG413"},{"type":"inlineCode","value":"head()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fcoiLU89Ae"},{"type":"text","value":", which loads into memory only the first 5 entries:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GD23Mbxsop"}],"key":"u8ASvJzQ3F"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"(Note: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z7YKKpHHMJ"},{"type":"inlineCode","value":"head()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"po9NzDzfFk"},{"type":"text","value":" can return an empty dataframe even when ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EppPUJH9Ym"},{"type":"inlineCode","value":"ddf","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BilNX8S4mq"},{"type":"text","value":" is not empty. This happens because ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SGBYhSpL56"},{"type":"inlineCode","value":"head()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ruedl9VBmG"},{"type":"text","value":" looks for the first 5 rows of the first partition, which sometimes happens to be empty. Repartitioning the dask dataframe will get rid of empty partitions and solve this.)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JaXJFH17eQ"}],"key":"PWLtcAM8OQ"}],"identifier":"udazytduva2b","label":"uDAzYTduVA2B","html_id":"udazytduva2b","key":"YHJbWDnPpD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#ddf=ddf.repartition(partition_size=\"300MB\")\nddf.head()","key":"NKYl9JhDI7"},{"type":"outputs","id":"z23J85gRyeJB1ClCYKse6","children":[],"key":"E1iM3WE9Uz"}],"key":"Lt75I5uBV7"},{"type":"block","kind":"notebook-content","data":{"id":"W3p0MOcGVT_n"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To load the whole dataframe, we call ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w6foTCwzV9"},{"type":"inlineCode","value":"compute()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BSAxkwNVpl"},{"type":"text","value":" (this returns a pandas dataframe).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NYqmvxKKQw"}],"key":"Y043GDDjeX"}],"identifier":"w3p0mocgvt_n","label":"W3p0MOcGVT_n","html_id":"w3p0mocgvt-n","key":"OL608ewAqb"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"id":"MQsg5MOnVTZe","outputId":"4ed38f6e-ebc3-4336-82b8-8554ba98f03c"},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nddf_loaded = ddf.compute()\nddf_loaded","identifier":"mqsg5monvtze-code","enumerator":"3","html_id":"mqsg5monvtze-code","key":"WxCaRBFy5Y"},{"type":"outputs","id":"EyEXCRQKzvjT3CwlwzC8q","children":[],"identifier":"mqsg5monvtze-outputs","html_id":"mqsg5monvtze-outputs","key":"cdlGqz7AZk"}],"identifier":"mqsg5monvtze","label":"MQsg5MOnVTZe","html_id":"mqsg5monvtze","key":"Ld92OitKw0"},{"type":"block","kind":"notebook-content","data":{"id":"v9T4CBmXWARf"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It took just a few hundreds milliseconds! So yes, dask can be much faster than just using pyarrow and pandas.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FufAnwvwqZ"}],"key":"TRKBh7d3PV"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If we look into ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SEl4h9qZ5G"},{"type":"inlineCode","value":"ddf_loaded","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lYZa6L1bg3"},{"type":"text","value":" now, it will show the populated pandas dataframe.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QK4AGfZIVl"}],"key":"KwtOaATW7M"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"(Note: if you compare ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y1c0ljJUSN"},{"type":"inlineCode","value":"ddf_loaded","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ihIdtZhyPk"},{"type":"text","value":" with ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HfTsB37Lvc"},{"type":"inlineCode","value":"df","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Meo8WLI1nx"},{"type":"text","value":" loaded with pyarrow, you’ll see that the rows are not in the same order, yet under the dataframe you can see that the total number of rows is the same. Also the index seems smaller, but dask holds the dataframe in multiple partitions, and the index is reset at every partition.)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CJELRKw25u"}],"key":"COK11eOCuS"}],"identifier":"v9t4cbmxwarf","label":"v9T4CBmXWARf","html_id":"v9t4cbmxwarf","key":"MrgGZbLZ7O"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"dask’s main advantage is not just in loading the data faster, but in performing operations on larger-than-memory data. For example, it can compute the mean value of TEMPERATURE ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hv1qdJHeUb"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"in the whole Argo PHY dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tg5MTl49PZ"}],"key":"zTSB3DdTgw"},{"type":"text","value":" without loading the whole data in memory (and pretty quickly, too):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LF1yBsxymR"}],"key":"GnJkBmtelz"}],"key":"qP3RErkZpN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# note that we are not passing any filter conditions or selection of columns to load\nddf_all = dd.read_parquet(\n    crocolake_path,\n    engine=\"pyarrow\",\n    schema=crocolake_schema,\n)\ntemp_mean = ddf_all['TEMP'].mean() # temp_mean is a delayed object: it knows what operations to perform to compute the mean, \n                                   # but doesn't perform them until we call compute() in the next cell","key":"BzbLScRLoh"},{"type":"outputs","id":"ZZs0h_kV4PquIqL4otXbg","children":[],"key":"SrMv1g4kp4"}],"key":"teBSPlEJWC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\ntemp_mean.compute()","key":"oEcpx6gWB0"},{"type":"outputs","id":"bJm1r3yZHj0QeMaJdXZN2","children":[],"key":"raXT9RAvZO"}],"key":"VenY1O0oFV"},{"type":"block","kind":"notebook-content","data":{"id":"Kw7Ipj-KWjqv"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cm8dVMe4X8"}],"identifier":"map","label":"Map","html_id":"map-1","implicit":true,"key":"ICCzjIOyIG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"When producing the map with our dask approach, we would create the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L6duBWSkeU"},{"type":"inlineCode","value":"grouped","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pgF1E0cD3K"},{"type":"text","value":" dataframe from the delayed dataframe ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RD447UPlO8"},{"type":"inlineCode","value":"ddf","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"S9Oj7Lrh03"},{"type":"text","value":", and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eIudIeBE5c"},{"type":"inlineCode","value":"compute()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MSntqsKPK9"},{"type":"text","value":" it as late as possible.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sB4Ayv3pWi"}],"key":"GgTCS9oZCZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this example, the compute that we are triggering includes four operations:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"a1iHQZr6Ic"}],"key":"IuF1F0IfIc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"reading the filtered dataset;","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"FalNYYmhPA"}],"key":"RFPqxvs4dE"}],"key":"W8z218V2tu"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"grouping the dataframe by geographical coordinates;","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EyPLuc0jza"}],"key":"XUI1cGUMLd"}],"key":"KmMiLBTSvi"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"averaging by pressure and time;","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bVJ6P6WNCO"}],"key":"ZzCmYQGhKE"}],"key":"dJYtsHCI0n"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"resetting the index;","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GgUr6wtUGV"}],"key":"V9cMu5kzY4"}],"key":"F2cYe8pqAI"}],"key":"xUMqa5E5MX"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Dask internally builds a graph of all of these operations, so that it knows what subset of data is needed and it optimizes the number and sequence of instructions before executing them.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"XAABazOYyc"}],"key":"bpRkj8OZbY"}],"identifier":"kw7ipj-kwjqv","label":"Kw7Ipj-KWjqv","html_id":"kw7ipj-kwjqv","key":"wfcxBEXoDR"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/","height":499},"id":"62c816e6-bbd4-4af1-af47-03a1cfcbd95a","outputId":"5319d870-15d4-4b08-d824-f37414392fe1"},"children":[{"type":"code","lang":"python","executable":true,"value":"import cartopy.crs as ccrs\nimport matplotlib.pyplot as plt\nfrom matplotlib import colormaps\n\nref_var = \"TEMP\"\n# Group by 'LATITUDE' and 'LONGITUDE' and database\nddf_for_map = ddf.groupby([\"LATITUDE\", \"LONGITUDE\", \"DB_NAME\"]).agg({\n    ref_var: 'mean'  # Take the mean intensity at that coordinate\n}).reset_index()\n\n# Plotting using Cartopy\nplt.figure(figsize=(16, 10))\nax = plt.axes(projection=ccrs.PlateCarree())\nax.coastlines()\ncbar_min = ddf_for_map[ref_var].quantile(q=0.05).compute()\ncbar_max = ddf_for_map[ref_var].quantile(q=0.95).compute()\n\n# Group by DB_NAME and plot each group\nddf['DB_NAME'] = ddf.DB_NAME.astype('category')\n\ncmaps = iter( [\"Greens\",\"Oranges\",\"Blues\"] )\nfor db_name, group in ddf_for_map.compute().groupby(\"DB_NAME\"):\n    plt.scatter(\n        group['LONGITUDE'],\n        group['LATITUDE'],\n        s=10,\n        c=group[ref_var],\n        vmin=cbar_min,\n        vmax=cbar_max,\n        cmap=next(cmaps),\n        transform=ccrs.PlateCarree()\n    )\n    plt.colorbar(shrink=0.5, label='Average ' + ref_var + \" (\" + db_name + \")\", pad=0.02)\n\nplt.xlabel('Longitude')\nplt.ylabel('Latitude')\nplt.title('North-West Atlantic average temperature 2010-2019 (Celsius)')\nplt.grid(True)\nplt.xlim([lon0, lon1])\nplt.ylim([lat0, lat1])\nplt.show()","identifier":"62c816e6-bbd4-4af1-af47-03a1cfcbd95a-code","enumerator":"4","html_id":"id-62c816e6-bbd4-4af1-af47-03a1cfcbd95a-code","key":"bJe3UDDLRa"},{"type":"outputs","id":"n1noVmRybUGFP8ilC-7Gl","children":[],"identifier":"62c816e6-bbd4-4af1-af47-03a1cfcbd95a-outputs","html_id":"id-62c816e6-bbd4-4af1-af47-03a1cfcbd95a-outputs","key":"XpoC2MpkoC"}],"identifier":"62c816e6-bbd4-4af1-af47-03a1cfcbd95a","label":"62c816e6-bbd4-4af1-af47-03a1cfcbd95a","html_id":"id-62c816e6-bbd4-4af1-af47-03a1cfcbd95a","key":"jyfJ9p78ka"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Suggested exercises","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LEW3UC8iBN"}],"identifier":"suggested-exercises","label":"Suggested exercises","html_id":"suggested-exercises","implicit":true,"key":"MUE7GItwc5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Try and access some other data, for example:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qaKAPRydlL"}],"key":"nslwExHFDS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"filtering by different time periods;","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CSp9Px66VZ"}],"key":"JE0ZuFBwQx"}],"key":"J4vojoFZO7"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"mapping a different parameter;","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IwNKwt2lSs"}],"key":"TRxKKaJ0WD"}],"key":"VJMCyUX70S"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"restraining the data of interest further by imposing the pressure PRES to be below 100db;","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bTFR3Ud0D9"}],"key":"EheDIRUw9h"}],"key":"ti1T4L5so4"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"performing reads/manipulations that you would need to perform your tasks.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LmDxL5Faiv"}],"key":"goX0HCr2qq"}],"key":"XQKO4RCZzr"}],"key":"r9pvrLEs0N"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"If you encounter any issues, please ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NJ5PAt8SmT"},{"type":"link","url":"enrico.milanese@whoi.edu","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"reach out","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"kTs8c8OshX"}],"urlSource":"enrico.milanese@whoi.edu","key":"hUieJMH5i4"},{"type":"text","value":"!","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pFqr4mU2n2"}],"key":"SZp8FmFK2Q"}],"key":"rphQwSFl72"}],"key":"xu2WX9eFtG"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","url":"/notebooks/projects/tutorial2-mom6-cl-comparison-float","group":"Basic CrocoDash Tutorial"},"next":{"title":"Model-Observation comparison with MOM6 and World Ocean Database","url":"/notebooks/projects/tutorial4-mom6-wod13-comparison","group":"Basic CrocoDash Tutorial"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","toc":[{"file":"intro.md"},{"children":[{"children":[{"file":"notebooks/tutorials/cesm_setup.md"},{"file":"notebooks/tutorials/minimal_demo_rect.ipynb"},{"file":"notebooks/tutorials/input_params.md"}],"title":"Basic CrocoDash Tutorial"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"}],"title":"Basic Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling Tutorials"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization Tutorials"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product Tutorials"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component Tutorials"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison Tutorials and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Basic Tutorials"},{"level":2,"title":"Basic CrocoDash Tutorial"},{"slug":"notebooks.tutorials.cesm-setup","title":"CESM Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.minimal-demo-rect","title":"Set up a rectangular regional CESM-MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.tutorials.input-params","title":"Input Parameters","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/tos_animation-0900efe698a3398c373cb882d74fa3ea.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/Jupyter_Terminal-2e3cfb5d3507c1ad01226827471d7034.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/data_sources-44b5612980f8bb24a989ad9d589b6fa6.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling Tutorials"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization Tutorials"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product Tutorials"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component Tutorials"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/pr-28/build/CACurrent_topo-df7e0024e609a32865044ff16836f83f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/CrocoGallery/pr-28/build/manifest-86A905A4.js";
import * as route0 from "/CrocoGallery/pr-28/build/root-CXYA7X5D.js";
import * as route1 from "/CrocoGallery/pr-28/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/CrocoGallery/pr-28/build/entry.client-PCJPW7TK.js");</script></body></html>