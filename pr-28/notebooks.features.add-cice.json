{"version":3,"kind":"Notebook","sha256":"14e3dbc8993aaf25a60d099c89f6fc374b41c4f160deca95ef335473199099ea","slug":"notebooks.features.add-cice","location":"/notebooks/features/add_cice.ipynb","dependencies":[],"frontmatter":{"title":"Run a coupled sea ice (CICE) & ocean (MOM6) model","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"CrocoDash","language":"python"},"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":3}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/HEAD/gallery/notebooks/features/add_cice.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/HEAD/gallery/notebooks/features/add_cice.ipynb","exports":[{"format":"ipynb","filename":"add_cice.ipynb","url":"/CrocoGallery/pr-28/build/add_cice-a8e2ff3c9e27aab560c6b795a2143f3a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Change the compset to include CICE!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NYwsM9JvBB"}],"key":"spWFUnzrGk"}],"key":"eN2ygB9R6w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# For example...\nfrom CrocoDash.case import Case\ncase = Case(\n    cesmroot = cesmroot,\n    caseroot = caseroot,\n    inputdir = inputdir,\n    ocn_grid = grid,\n    ocn_vgrid = vgrid,\n    ocn_topo = topo,\n    project = 'NCGD0011',\n    override = True,\n    machine = \"derecho\",\n    compset = \"GR_JRA\"\n)","key":"OIqgCO7CkF"},{"type":"outputs","id":"5u0ogNLTZiVl1-fNlP6ED","children":[],"key":"Nkv6PIq4Zc"}],"key":"BjzjR57lIg"},{"type":"block","kind":"notebook-content","data":{"vscode":{"languageId":"plaintext"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Optional: After running once, use restart files as initial condition for your run (for realiastic initial conditions)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FxEFGNMXda"}],"identifier":"optional-after-running-once-use-restart-files-as-initial-condition-for-your-run-for-realiastic-initial-conditions","label":"Optional: After running once, use restart files as initial condition for your run (for realiastic initial conditions)","html_id":"optional-after-running-once-use-restart-files-as-initial-condition-for-your-run-for-realiastic-initial-conditions","implicit":true,"key":"MnIi6DJnXp"}],"key":"U7QIzZNPiK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In case you want to start the model with a restart file instead of using the generated initial condition, follow the below steps. Note that you have to have finished a run beforehand for the restart files to appear.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wgot7Yqztu"}],"key":"xxQHvGfL7p"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Locate your restart file - they are usually in your previous caseâ€™s ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zKQ8aJmUdZ"},{"type":"inlineCode","value":"/archive/rest/<year>","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UURJlhshcf"},{"type":"text","value":" folder with a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OJp4P0gmOm"},{"type":"inlineCode","value":".r","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DOtqG1oDlo"},{"type":"text","value":" infix, e.g., ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Aa13YvEAZ8"},{"type":"inlineCode","value":"cice.test.cice.r.1994-01-01-00000.nc","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SjHuk0JRTn"},{"type":"text","value":".\nIf you do not know your ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cW4cKQZKas"},{"type":"inlineCode","value":"/archive","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kxQRMDcuCd"},{"type":"text","value":" folder location, run ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ENzaO6mvS9"},{"type":"inlineCode","value":"./xmlquery DOUT_S_ROOT","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DZAJjt20lY"},{"type":"text","value":" in your (previous) case folder, which will return a path similar to ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Fai7vtp38m"},{"type":"inlineCode","value":"DOUT_S_ROOT: <PATH TO ARCHIVE>","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"HaZYIQKwyA"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YatiUPTbTK"}],"key":"zcf0XrCdnv"}],"key":"SLsUGFkvgN"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Use the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cPduxfeVnM"},{"type":"inlineCode","value":"cp","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"x1izqMnqDO"},{"type":"text","value":" command to copy the file to your current case ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ku1qGgow5h"},{"type":"inlineCode","value":"/run","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XgJPAfunW4"},{"type":"text","value":" directory, e.g., ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"q3OfOUBHax"},{"type":"inlineCode","value":"cp cice.test.cice.r.1994-01-01-00000.nc <your_run_dir>","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"frkFfc9iX9"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"f5Z0VzHBXv"}],"key":"JgLfYnQRA7"}],"key":"IGvM892O0w"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Open ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UMBUO0XfG6"},{"type":"inlineCode","value":"user_nl_cice","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kCF3SBSaJu"},{"type":"text","value":" in your case directory again and change the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"FlLIZSRljC"},{"type":"inlineCode","value":"ice_ic","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JN9HXOsDVw"},{"type":"text","value":" variable from ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Whfk369TNz"},{"type":"inlineCode","value":"\"UNSET\"","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RGIKgMYQtm"},{"type":"text","value":" to your file name, e.g., ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kLbgF4HEt2"},{"type":"inlineCode","value":"ice_ic=cice.test.cice.r.1994-01-01-00000.nc","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OuDXwAS23i"}],"key":"Tn4TfxfMb6"}],"key":"BzZtRlFpxf"}],"key":"VbhwkIKic1"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Your file will now be used automatically as the ice initial condition for your next run. Note that ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BFzYKTA6j7"},{"type":"inlineCode","value":".h","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"iDOQ1kixGh"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"AgPfMwz7P1"},{"type":"inlineCode","value":".h1","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BZsp6RolLb"},{"type":"text","value":" files (i.e. history files) currently ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"iqi0vgBFwE"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"cannot be used","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"LDNmOH7plF"}],"key":"fbiifzjSlq"},{"type":"text","value":" as initial conditions for CICE.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FQZt8Hr8no"}],"key":"IaxfA7D9vg"}],"key":"XDIvZ4JsVK"}],"key":"BmMyDkxRjn"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Run a coupled biogeochemistry (MARBL) & ocean (MOM6) model","url":"/notebooks/features/add-bgc","group":"Coupling Tutorials"},"next":{"title":"Add Global Subset Grids","url":"/notebooks/features/subset-global","group":"Grid Customization Tutorials"}}},"domain":"http://localhost:3000"}