<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Set up a rectangular regional CESM-MOM6-CICE coupled run - CROCODILE Gallery</title><meta property="og:title" content="Set up a rectangular regional CESM-MOM6-CICE coupled run - CROCODILE Gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/CrocoGallery/latest/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="/CrocoGallery/latest/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/CrocoGallery/latest/favicon.ico"/><link rel="stylesheet" href="/CrocoGallery/latest/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/CrocoGallery/latest/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/CrocoGallery/latest/build/long_crocodile-6cd2a3a867f657d7d46ff3aee8186eb2.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="CROCODILE Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/CrocoGallery/latest/">CROCODILE Gallery</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Tutorials" class="block break-words rounded py-2 grow cursor-pointer">Tutorials</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Features" class="block break-words rounded py-2 grow cursor-pointer">Features</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2025 CROCODILE Workshop Projects" class="block break-words rounded py-2 grow cursor-pointer">2025 CROCODILE Workshop Projects</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Developmental Use Cases" class="block break-words rounded py-2 grow cursor-pointer">Developmental Use Cases</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/CROCODILE-CESM/CrocoGallery" title="GitHub Repository: CROCODILE-CESM/CrocoGallery" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/notebooks/use_cases/mom6_cice_antarctica.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Set up a rectangular regional CESM-MOM6-CICE coupled run</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="DJLUC8jjBh" class="myst-jp-nb-block relative group/block"><p>We’ll go through these steps:</p><ol start="1"><li><p>Generate a regional MOM6 domain.</p></li><li><p>Create the CESM case.</p></li><li><p>Prepare ocean forcing data.</p></li><li><p>Generate the regional CICE grid.</p></li><li><p>Build and run the case.</p></li></ol><p>Remember to swap your environment to CrocoDash first!</p></div><div id="TM24mqlX2J" class="myst-jp-nb-block relative group/block"><h2 id="section-1-generate-a-regional-mom6-domain" class="relative group"><span class="heading-text">Section 1: Generate a regional MOM6 domain</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#section-1-generate-a-regional-mom6-domain" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We begin by defining a regional MOM6 domain using CrocoDash. To do so, we first generate a horizontal grid. We then generate the topography by remapping an existing bathymetric dataset to our horizontal grid. Finally, we define a vertical grid.</p></div><div id="iPkHYxIet2" class="myst-jp-nb-block relative group/block"><h3 id="step-1-1-horizontal-grid" class="relative group"><span class="heading-text">Step 1.1: Horizontal Grid</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-1-horizontal-grid" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The horizontal grid described below is from the Antarctic domain (<a target="_blank" rel="noreferrer" href="https://maps.app.goo.gl/WLLzioPgahQpLMSK8" class="">https://<wbr/>maps<wbr/>.app<wbr/>.goo<wbr/>.gl<wbr/>/WLLzioPgahQpLMSK8</a> - near the Mendel station) at 60°W, 64°S.</p></div><div id="i3fLVE5prw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from CrocoDash.grid import Grid

grid = Grid(
  resolution = 0.01,
  xstart = 300.0,
  lenx = 4.0,
  ystart = -64.0,
  leny = 4.0,
  name = &quot;antarctica2&quot;,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="s01Z4RMEMyN0P0tHchP4V" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zI5ENdtpaj" class="myst-jp-nb-block relative group/block"><h3 id="step-1-2-topography" class="relative group"><span class="heading-text">Step 1.2: Topography</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-2-topography" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="mKP1ozExjW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from CrocoDash.topo import Topo

topo = Topo(
    grid = grid,
    min_depth = 9.5,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="02jkSuSpwh7gmh9xtCwtn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="j6TRdvuHL0" class="myst-jp-nb-block relative group/block"><p>Swap your <code>bathymetry_path</code> accordingly below. Grab your data from: <a target="_blank" rel="noreferrer" href="https://www.gebco.net/data-products/gridded-bathymetry-data" class="">https://<wbr/>www<wbr/>.gebco<wbr/>.net<wbr/>/data<wbr/>-products<wbr/>/gridded<wbr/>-bathymetry<wbr/>-data</a></p></div><div id="ehrqY8Rcy3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">bathymetry_path=&#x27;&lt;GEBCO&gt;&#x27; # Swap this!

topo.interpolate_from_file(
    file_path = bathymetry_path,
    longitude_coordinate_name=&quot;lon&quot;,
    latitude_coordinate_name=&quot;lat&quot;,
    vertical_coordinate_name=&quot;elevation&quot;,
    write_to_file = True
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XkHxcP95xicnOrdEzGHFg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Or0f9Za5zH" class="myst-jp-nb-block relative group/block"><p><strong>TODO:</strong> when the above topo.interpolate_from_file() method is called with the original GEBCO dataset, the interpolation fails do to large computational demand when run on login nodes. Check if there is a failsafe way, or at least, a means to precaution the user.</p></div><div id="HQKVfyGkDc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">topo.depth.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="tQoJkqpgwBsc5M6OPXLRw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="B93Jg2c6MJ" class="myst-jp-nb-block relative group/block"><p>Run the topo-editor below to configure your bathymetry!</p></div><div id="BdVfVbJNXO" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%matplotlib ipympl
from CrocoDash.topo_editor import TopoEditor
topo.depth[&quot;units&quot;] = &quot;m&quot;
TopoEditor(topo)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="iZ5_xGo7_c0z18d1S0gYz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dkZ8RSIJPL" class="myst-jp-nb-block relative group/block"><h3 id="step-1-3-vertical-grid" class="relative group"><span class="heading-text">Step 1.3: Vertical Grid</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-3-vertical-grid" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="NY6vAKeDBs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from CrocoDash.vgrid import VGrid

vgrid  = VGrid.hyperbolic(
    nk = 75,
    depth = topo.max_depth,
    ratio=20.0
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="GtsDXkc7e4F_EwGxIon0r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oi7BICnvpm" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(vgrid.dz)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="eO9cvZec6sOJLOunmnKEf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bBb7OiiqnI" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import matplotlib.pyplot as plt
plt.close()
# Create the plot
for depth in vgrid.z:
    plt.axhline(y=depth, linestyle=&#x27;-&#x27;)  # Horizontal lines

plt.ylim(max(vgrid.z) + 10, min(vgrid.z) - 10)  # Invert y-axis so deeper values go down
plt.ylabel(&quot;Depth&quot;)
plt.title(&quot;Vertical Grid&quot;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ut0dnX-RQZjYPFer-kJRH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xYOGQ5vhqx" class="myst-jp-nb-block relative group/block"><h2 id="section-3-create-the-cesm-case" class="relative group"><span class="heading-text">SECTION 3: Create the CESM case</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#section-3-create-the-cesm-case" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>After generating the MOM6 domain, the next step is to create a CESM case using CrocoDash. This process is straightforward and involves instantiating the CrocoDash Case object. The Case object requires the following inputs:</p><ul><li><p>CESM Source Directory: A local path to a compatible CESM source copy.</p></li><li><p>Case Name: A unique name for the CESM case.</p></li><li><p>Input Directory: The directory where all necessary input files will be written.</p></li><li><p>MOM6 Domain Objects: The horizontal grid, topography, and vertical grid created in the previous section.</p></li><li><p>Project ID: (Optional) A project ID, if required by the machine.</p></li></ul></div><div id="d0WCj5apHq" class="myst-jp-nb-block relative group/block"><h3 id="step-2-1-specify-case-name-and-directories" class="relative group"><span class="heading-text">Step 2.1: Specify case name and directories:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-1-specify-case-name-and-directories" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Begin by specifying the case name and the necessary directory paths. Ensure the CESM root directory points to your own local copy of CESM.
<strong>Note that if the case is already created - in case you want to rerun this notebook - the <code>/run</code> directory must be removed for the case to be created anew.</strong>
Below is an example setup:</p></div><div id="uWj9q4pCND" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from pathlib import Path</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="KEzkoPEBGv42LkerkjWZ-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oPmtA3aGWE" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># CESM case (experiment) name
casename = &quot;antarctica-tutorial&quot;

# CESM source root (Update this path accordingly!!!)
cesmroot = &quot;&lt;CESM&gt;&quot;

# Place where all your input files go
inputdir = Path.home() / &quot;input&quot; / casename

# CESM case directory
caseroot = Path.home() / &quot;cases&quot; / casename
print(cesmroot, inputdir, caseroot) # View your directory and change as you need!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="B-DjVJim0eE6InuibuFJc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="H9QBgFpp9d" class="myst-jp-nb-block relative group/block"><h3 id="step-2-2-create-the-case" class="relative group"><span class="heading-text">Step 2.2: Create the Case</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-2-create-the-case" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To create the CESM case, instantiate the <code>Case</code> object as shown below. This will automatically set up the CESM case based on the provided inputs: The <code>cesmroot</code> argument specifies the path to your local CESM source directory.
The <code>caseroot</code> argument defines the directory where the case will be created. CrocoDash will handle all necessary namelist modifications and XML changes to align with the MOM6 domain objects generated earlier.</p><p>Remember to change/remove your project ID (with parameter <code>project</code>) and machine (with parameter <code>machine</code>, likely <code>derecho</code>) as needed.</p></div><div id="ShtEvShanL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from CrocoDash.case import Case

case = Case(
    cesmroot = cesmroot,
    caseroot = caseroot,
    inputdir = inputdir,
    ocn_grid = grid,
    ocn_vgrid = vgrid,
    ocn_topo = topo,
    project = &#x27;P93300012&#x27;, # Switch this
    override = True,
    machine = &quot;derecho&quot;, # And this
    compset = &quot;1850_DATM%JRA_SLND_CICE_MOM6_SROF_SGLC_SWAV&quot;, 
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sJgQ2b_w7O7wJvzF4Bjvd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OkGLdZhwA5" class="myst-jp-nb-block relative group/block"><h2 id="section-3-prepare-ocean-forcing-data" class="relative group"><span class="heading-text">Section 3: Prepare ocean forcing data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#section-3-prepare-ocean-forcing-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We need to cut out our ocean forcing. The package expects an initial condition and one time-dependent segment per non-land boundary. Naming convention is <code>&quot;east_unprocessed&quot;</code> for segments and <code>&quot;ic_unprocessed&quot;</code> for the initial condition.</p><p>In this notebook, we are forcing with the Copernicus Marine “Glorys” reanalysis dataset. There’s a function in the <code>CrocoDash</code> package, called <code>configure_forcings</code>, that generates a bash script to download the correct boundary forcing files for your experiment. First, you will need to create an account with Copernicus, and then call <code>copernicusmarine login</code> to set up your login details on your machine. Then you can run the <code>get_glorys_data.sh</code> bash script.</p><h3 id="step-3-1-configure-initial-conditions-and-forcings" class="relative group"><span class="heading-text">Step 3.1 Configure Initial Conditions and Forcings</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-1-configure-initial-conditions-and-forcings" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="p5NkkRaqLH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from CrocoDash.case import Case
case.configure_forcings(
    date_range = [&quot;2020-01-01 00:00:00&quot;, &quot;2020-01-09 00:00:00&quot;],
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="G5pDfFEbzFuXQ-2yA2oWa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KMfDnm7XPM" class="myst-jp-nb-block relative group/block"><h3 id="step-3-2-run-get-glorys-data-sh" class="relative group"><span class="heading-text">Step 3.2 Run <code>get_glorys_data.sh</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-2-run-get-glorys-data-sh" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Follow the instructions printed by the <code>configure_forcings</code> method above to navigate to your <code>glorys</code> folder.
Once you’re in your <code>/glorys</code> folder, run <code>chmod +x get_glorys_data.sh</code> to enable execution of the bash script. Also activate your conda environment with:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">module load conda &amp;&amp; conda activate CrocoDash ! or the name of the virtual environment you have installed with CrocoDash enabled</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>if you haven’t done so. Finally, run <code>./get_glorys_data.sh</code>.</p><p><strong>Note</strong>: You’ll have to enter your login multiple times for <code>copernicus marine</code>. Do not escape the script until finished.</p></div><div id="rQSNxG3TVC" class="myst-jp-nb-block relative group/block"><p><strong>TODO:</strong> user copernicusmarine python API within CrocoDash, instead of directing users to run it via CLI. Also, on a derecho login node, both CLI and API fails to run due to the computational demand. We also need to address that.</p></div><div id="W2NAzgneZo" class="myst-jp-nb-block relative group/block"><h3 id="step-3-3-process-forcing-data" class="relative group"><span class="heading-text">Step 3.3: Process forcing data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-3-process-forcing-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In this final step, we call the <code>process_forcings</code> method of CrocoDash to cut out and interpolate the initial condition as well as all boundaries. CrocoDash also updates MOM6 runtime parameters and CESM xml variables accordingly.</p></div><div id="CMb6qA3BUw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">case.process_forcings()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="p-zqCGQwoLhyEdu6IPq7q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MxwF8Ba9he" class="myst-jp-nb-block relative group/block"><h3 id="optional-use-restart-files-as-initial-condition-for-your-run" class="relative group"><span class="heading-text">Optional: Use restart files as initial condition for your run</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#optional-use-restart-files-as-initial-condition-for-your-run" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="uxXy7x8Qha" class="myst-jp-nb-block relative group/block"><p>In case you want to start the model with a restart file instead of using the generated initial condition, follow the below steps. Note that you have to have finished a run beforehand for the restart files to appear.</p><ol start="1"><li><p>Locate your restart file - they are usually in your previous case’s <code>/archive/rest/&lt;year&gt;</code> folder with a <code>.r</code> infix, e.g., <code>cice.test.cice.r.1994-01-01-00000.nc</code>.
If you do not know your <code>/archive</code> folder location, run <code>./xmlquery DOUT_S_ROOT</code> in your (previous) case folder, which will return a path similar to <code>DOUT_S_ROOT: &lt;PATH TO ARCHIVE&gt;</code>.</p></li><li><p>Use the <code>cp</code> command to copy the file to your current case <code>/run</code> directory, e.g., <code>cp cice.test.cice.r.1994-01-01-00000.nc &lt;your_run_dir&gt;</code>.</p></li><li><p>Open <code>user_nl_cice</code> in your case directory again and change the <code>ice_ic</code> variable from <code>&quot;UNSET&quot;</code> to your file name, e.g., <code>ice_ic=cice.test.cice.r.1994-01-01-00000.nc</code></p></li></ol><p>Your file will now be used automatically as the ice initial condition for your next run. Note that <code>.h</code> and <code>.h1</code> files (i.e. history files) currently <strong>cannot be used</strong> as initial conditions for CICE.</p></div><div id="AHq5oMPVEJ" class="myst-jp-nb-block relative group/block"><h2 id="section-5-build-and-run-the-case" class="relative group"><span class="heading-text">Section 5: Build and run the case</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#section-5-build-and-run-the-case" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>After completing the previous steps, you are ready to build and run your CESM case. Begin by navigating to the case root directory specified during the case creation. Before proceeding, review the <code>user_nl_mom</code> file located in the case directory. This file contains MOM6 parameter settings that were automatically generated by CrocoDash. Carefully examine these parameters and make any necessary adjustments to fine-tune the model for your specific requirements. While CrocoDash aims to provide a solid starting point, further tuning and adjustments are typically necessary to improve the model for your use case.</p><p>Once you have reviewed and modified the parameters as needed, you can build and execute the case using the following commands:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">./case.build
./case.submit</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="kijs6z0Dn1" class="myst-jp-nb-block relative group/block"><h4 id="optional-write-full-grid" class="relative group"><span class="heading-text">Optional: Write full grid</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#optional-write-full-grid" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="YrZB461RiW" class="myst-jp-nb-block relative group/block"><p>The function below will output the full MOM6 grid in case you need it!</p></div><div id="Y6g16NQHvo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import xarray as xr
from CrocoDash.grid import Grid

# List of explicitly defined grid metric attributes
varnames = [
    &quot;tlon&quot;, &quot;tlat&quot;, &quot;ulon&quot;, &quot;ulat&quot;, &quot;vlon&quot;, &quot;vlat&quot;, &quot;qlon&quot;, &quot;qlat&quot;,
    &quot;dxt&quot;, &quot;dyt&quot;, &quot;dxCv&quot;, &quot;dyCu&quot;, &quot;dxCu&quot;, &quot;dyCv&quot;, &quot;angle&quot;, &quot;tarea&quot;
]

data_vars = {name: getattr(grid, name) for name in varnames}

# Create Dataset
ds = xr.Dataset(data_vars)
ds.attrs[&quot;name&quot;] = getattr(grid, &quot;_name&quot;, &quot;unnamed_grid&quot;)

# Write to NetCDF
ds.to_netcdf(&quot;antarctica_fullvar_grid.nc&quot;) # Change as needed!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EIzpBuZZcpqgjDx-3dOkC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="kHD4tp3fNN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Check your variables!
for name in varnames:
    var = getattr(grid, name)
    print(f&quot;{name}: shape={var.shape}, dims={getattr(var, &#x27;dims&#x27;, &#x27;unknown&#x27;)}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="mC8sa4c6434lC891zlUfO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/CrocoGallery/latest/notebooks/use-cases/three-boundary"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Developmental Use Cases</div>Setup the NWA12 domain through CrocoDash</div></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/CrocoGallery/latest/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="/CrocoGallery/latest/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/notebooks/use-cases/mom6-cice-antarctica","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/latest/build/long_crocodile-6cd2a3a867f657d7d46ff3aee8186eb2.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","parts":{"banner":{"mdast":{"type":"root","children":[{"type":"block","data":{"part":"banner"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","children":[{"type":"text","value":"Looking for the old CrocoGallery?","key":"UbOSzt308X"}],"key":"z7JSRmOQ75"},{"type":"text","value":"\nNo worries — the 2025 CROCODILE workshop site is\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vHjhd8kvJf"},{"type":"link","url":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","children":[{"type":"text","value":"right here →","key":"Gf5kApcogP"}],"urlSource":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","key":"HTnSMHU7qL"}],"key":"LS8Zj3eE58"}],"key":"aXSyye2R3O"}],"key":"NIjvKAX8sr"},"frontmatter":{"github":"https://github.com/CROCODILE-CESM/CrocoGallery","source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/myst.yml#project.parts.banner","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/myst.yml#project.parts.banner"}}},"toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/tutorials/crocodash_tutorial.ipynb"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"}],"title":"Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling crocodash_tutorial"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization crocodash_tutorial"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product crocodash_tutorial"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component crocodash_tutorial"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Tutorials"},{"slug":"notebooks.tutorials.crocodash-tutorial","title":"Basic CrocoDash Tutorial","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/tos_animation-84e9cb9ad15a1bfc1a56d8e57974ef04.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/Jupyter_Terminal-cf5ea47978be51a63663c5a63a157621.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/data_sources-fdc61a9657d24ec8b0b3847eaa517067.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling crocodash_tutorial"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization crocodash_tutorial"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product crocodash_tutorial"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component crocodash_tutorial"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/CACurrent_topo-424f43ac8b62cccbbd8acc1e602c14f5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/CrocoGallery/latest"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"logo":"/CrocoGallery/latest/build/long_crocodile-6cd2a3a867f657d7d46ff3aee8186eb2.png","folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","parts":{"banner":{"mdast":{"type":"root","children":[{"type":"block","data":{"part":"banner"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","children":[{"type":"text","value":"Looking for the old CrocoGallery?","key":"UbOSzt308X"}],"key":"z7JSRmOQ75"},{"type":"text","value":"\nNo worries — the 2025 CROCODILE workshop site is\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vHjhd8kvJf"},{"type":"link","url":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","children":[{"type":"text","value":"right here →","key":"Gf5kApcogP"}],"urlSource":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","key":"HTnSMHU7qL"}],"key":"LS8Zj3eE58"}],"key":"aXSyye2R3O"}],"key":"NIjvKAX8sr"},"frontmatter":{"github":"https://github.com/CROCODILE-CESM/CrocoGallery","source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/myst.yml#project.parts.banner","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/myst.yml#project.parts.banner"}}},"toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/tutorials/crocodash_tutorial.ipynb"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"}],"title":"Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling crocodash_tutorial"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization crocodash_tutorial"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product crocodash_tutorial"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component crocodash_tutorial"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Tutorials"},{"slug":"notebooks.tutorials.crocodash-tutorial","title":"Basic CrocoDash Tutorial","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/tos_animation-84e9cb9ad15a1bfc1a56d8e57974ef04.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/Jupyter_Terminal-cf5ea47978be51a63663c5a63a157621.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/data_sources-fdc61a9657d24ec8b0b3847eaa517067.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling crocodash_tutorial"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization crocodash_tutorial"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product crocodash_tutorial"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component crocodash_tutorial"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/CACurrent_topo-424f43ac8b62cccbbd8acc1e602c14f5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"d7f631d183615fecf017d5c5d3dad081282ae6dd5df99e13f6c1fb876f34116c","slug":"notebooks.use-cases.mom6-cice-antarctica","location":"/notebooks/use_cases/mom6_cice_antarctica.ipynb","dependencies":[],"frontmatter":{"title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"CrocoDash","language":"python"},"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":1}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/notebooks/use_cases/mom6_cice_antarctica.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/notebooks/use_cases/mom6_cice_antarctica.ipynb","exports":[{"format":"ipynb","filename":"mom6_cice_antarctica.ipynb","url":"/CrocoGallery/latest/build/mom6_cice_antarctica-97a60a99d70e979c14d54bfd1cc62fd0.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We’ll go through these steps:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hNFhtAutp2"}],"key":"trCMOWthWG"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Generate a regional MOM6 domain.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MCTCRCzVBd"}],"key":"gYqwzjVYzZ"}],"key":"hClBm5tMLY"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create the CESM case.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"uB1ryIPA89"}],"key":"Vn5W9EwmJR"}],"key":"H7GJsBJhw3"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prepare ocean forcing data.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MrYxl3b6sm"}],"key":"V2xbPb3Jsr"}],"key":"HCxkNfgr3R"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Generate the regional CICE grid.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"z8rlGMKviY"}],"key":"jukLCBKJgv"}],"key":"vAfoWK5Yxb"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Build and run the case.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"OUWYnBY3qK"}],"key":"uErJoA2hFI"}],"key":"HMToqAxXfG"}],"key":"VvClvCm80O"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Remember to swap your environment to CrocoDash first!","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pyA0pnjQbN"}],"key":"TlTyaJMAb6"}],"key":"DJLUC8jjBh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 1: Generate a regional MOM6 domain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IU1UDCl6CK"}],"identifier":"section-1-generate-a-regional-mom6-domain","label":"Section 1: Generate a regional MOM6 domain","html_id":"section-1-generate-a-regional-mom6-domain","implicit":true,"key":"Bm1N0Uli2a"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We begin by defining a regional MOM6 domain using CrocoDash. To do so, we first generate a horizontal grid. We then generate the topography by remapping an existing bathymetric dataset to our horizontal grid. Finally, we define a vertical grid.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aE181d7Le1"}],"key":"VTOg8yXrA1"}],"key":"TM24mqlX2J"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1.1: Horizontal Grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xV03npicnW"}],"identifier":"step-1-1-horizontal-grid","label":"Step 1.1: Horizontal Grid","html_id":"step-1-1-horizontal-grid","implicit":true,"key":"GZ47riHkYU"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The horizontal grid described below is from the Antarctic domain (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RQeNgdSL6c"},{"type":"link","url":"https://maps.app.goo.gl/WLLzioPgahQpLMSK8","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​maps​.app​.goo​.gl​/WLLzioPgahQpLMSK8","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bShUOGmq7O"}],"urlSource":"https://maps.app.goo.gl/WLLzioPgahQpLMSK8","key":"fJL7nyAPFh"},{"type":"text","value":" - near the Mendel station) at 60°W, 64°S.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"I5zvKWrxPd"}],"key":"YsZy2px8SW"}],"key":"iPkHYxIet2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.grid import Grid\n\ngrid = Grid(\n  resolution = 0.01,\n  xstart = 300.0,\n  lenx = 4.0,\n  ystart = -64.0,\n  leny = 4.0,\n  name = \"antarctica2\",\n)","key":"SCppV0QmXR"},{"type":"outputs","id":"s01Z4RMEMyN0P0tHchP4V","children":[],"key":"rDtQt44SEZ"}],"key":"i3fLVE5prw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1.2: Topography","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hgHOabQbUT"}],"identifier":"step-1-2-topography","label":"Step 1.2: Topography","html_id":"step-1-2-topography","implicit":true,"key":"H0WwwD1Pbm"}],"key":"zI5ENdtpaj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.topo import Topo\n\ntopo = Topo(\n    grid = grid,\n    min_depth = 9.5,\n)","key":"d2qERnNXAn"},{"type":"outputs","id":"02jkSuSpwh7gmh9xtCwtn","children":[],"key":"B9RZsk2qN2"}],"key":"mKP1ozExjW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Swap your ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e5YUFVM1mA"},{"type":"inlineCode","value":"bathymetry_path","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jz8HFKcGhi"},{"type":"text","value":" accordingly below. Grab your data from: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QpFzyj7vCy"},{"type":"link","url":"https://www.gebco.net/data-products/gridded-bathymetry-data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​www​.gebco​.net​/data​-products​/gridded​-bathymetry​-data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g0JT0P3LHy"}],"urlSource":"https://www.gebco.net/data-products/gridded-bathymetry-data","key":"k6VjzuoBsj"}],"key":"XZQyXT3F5H"}],"key":"j6TRdvuHL0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"bathymetry_path='\u003cGEBCO\u003e' # Swap this!\n\ntopo.interpolate_from_file(\n    file_path = bathymetry_path,\n    longitude_coordinate_name=\"lon\",\n    latitude_coordinate_name=\"lat\",\n    vertical_coordinate_name=\"elevation\",\n    write_to_file = True\n)","key":"nt15k5GvXd"},{"type":"outputs","id":"XkHxcP95xicnOrdEzGHFg","children":[],"key":"z9r0pvQ92G"}],"key":"ehrqY8Rcy3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TODO:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Jb8XGKBdqq"}],"key":"u8oskT5Rr3"},{"type":"text","value":" when the above topo.interpolate_from_file() method is called with the original GEBCO dataset, the interpolation fails do to large computational demand when run on login nodes. Check if there is a failsafe way, or at least, a means to precaution the user.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZbBKxXeqOZ"}],"key":"GxiH6kQuqY"}],"key":"Or0f9Za5zH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"topo.depth.plot()","key":"oYK9y3eAtz"},{"type":"outputs","id":"tQoJkqpgwBsc5M6OPXLRw","children":[],"key":"uk9WHeFIA5"}],"key":"HQKVfyGkDc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the topo-editor below to configure your bathymetry!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LJRyKggwDK"}],"key":"NuOr1hQwLw"}],"key":"B93Jg2c6MJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib ipympl\nfrom CrocoDash.topo_editor import TopoEditor\ntopo.depth[\"units\"] = \"m\"\nTopoEditor(topo)","key":"FEs1j0BGy6"},{"type":"outputs","id":"iZ5_xGo7_c0z18d1S0gYz","children":[],"key":"asgZN7EBHO"}],"key":"BdVfVbJNXO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1.3: Vertical Grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t22bvg5cFw"}],"identifier":"step-1-3-vertical-grid","label":"Step 1.3: Vertical Grid","html_id":"step-1-3-vertical-grid","implicit":true,"key":"hutNMjPOaM"}],"key":"dkZ8RSIJPL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.vgrid import VGrid\n\nvgrid  = VGrid.hyperbolic(\n    nk = 75,\n    depth = topo.max_depth,\n    ratio=20.0\n)","key":"J0ZSle1Wsg"},{"type":"outputs","id":"GtsDXkc7e4F_EwGxIon0r","children":[],"key":"qPZZnWojpU"}],"key":"NY6vAKeDBs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(vgrid.dz)","key":"qJbaX0Juio"},{"type":"outputs","id":"eO9cvZec6sOJLOunmnKEf","children":[],"key":"iTGo6YDs47"}],"key":"oi7BICnvpm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nplt.close()\n# Create the plot\nfor depth in vgrid.z:\n    plt.axhline(y=depth, linestyle='-')  # Horizontal lines\n\nplt.ylim(max(vgrid.z) + 10, min(vgrid.z) - 10)  # Invert y-axis so deeper values go down\nplt.ylabel(\"Depth\")\nplt.title(\"Vertical Grid\")\nplt.show()","key":"j4gO4uHPzr"},{"type":"outputs","id":"ut0dnX-RQZjYPFer-kJRH","children":[],"key":"dKTEjn84pL"}],"key":"bBb7OiiqnI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"SECTION 3: Create the CESM case","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QdL9YDDHPb"}],"identifier":"section-3-create-the-cesm-case","label":"SECTION 3: Create the CESM case","html_id":"section-3-create-the-cesm-case","implicit":true,"key":"sZXgWhXM6E"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"After generating the MOM6 domain, the next step is to create a CESM case using CrocoDash. This process is straightforward and involves instantiating the CrocoDash Case object. The Case object requires the following inputs:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FCnvfKzA8f"}],"key":"cvMhmfq3Is"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"CESM Source Directory: A local path to a compatible CESM source copy.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OsoCoNY75H"}],"key":"JNfgiRQ48Y"}],"key":"kDoHP5BVWL"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Case Name: A unique name for the CESM case.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"P3kCi1q5ih"}],"key":"xRBf2ZXYYB"}],"key":"i4LLI7kY02"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Input Directory: The directory where all necessary input files will be written.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Bn3WG0fgbx"}],"key":"GI5amKNarM"}],"key":"G55SUDP0JP"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"MOM6 Domain Objects: The horizontal grid, topography, and vertical grid created in the previous section.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rcbKjSRYW0"}],"key":"wTAVEkY5vy"}],"key":"oQqdsZdzSX"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Project ID: (Optional) A project ID, if required by the machine.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YqKzfHnq0G"}],"key":"Htgfo96yYC"}],"key":"zAjpbTDQQF"}],"key":"dtw98dgpjP"}],"key":"xYOGQ5vhqx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2.1: Specify case name and directories:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"asHf0QXUmO"}],"identifier":"step-2-1-specify-case-name-and-directories","label":"Step 2.1: Specify case name and directories:","html_id":"step-2-1-specify-case-name-and-directories","implicit":true,"key":"kaNdv2FOxX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Begin by specifying the case name and the necessary directory paths. Ensure the CESM root directory points to your own local copy of CESM.\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U6xuFsXY4V"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Note that if the case is already created - in case you want to rerun this notebook - the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TtDRgRZcKD"},{"type":"inlineCode","value":"/run","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hx5mCRrpGX"},{"type":"text","value":" directory must be removed for the case to be created anew.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TrcRLpAPVO"}],"key":"iUI4Ts2G2g"},{"type":"text","value":"\nBelow is an example setup:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xEEz2p6oGF"}],"key":"qBstNE6i0U"}],"key":"d0WCj5apHq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pathlib import Path","key":"wZMyn0n25f"},{"type":"outputs","id":"KEzkoPEBGv42LkerkjWZ-","children":[],"key":"sw6xPIv4Q5"}],"key":"uWj9q4pCND"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CESM case (experiment) name\ncasename = \"antarctica-tutorial\"\n\n# CESM source root (Update this path accordingly!!!)\ncesmroot = \"\u003cCESM\u003e\"\n\n# Place where all your input files go\ninputdir = Path.home() / \"input\" / casename\n\n# CESM case directory\ncaseroot = Path.home() / \"cases\" / casename\nprint(cesmroot, inputdir, caseroot) # View your directory and change as you need!","key":"tn5uxpimBy"},{"type":"outputs","id":"B-DjVJim0eE6InuibuFJc","children":[],"key":"ElunOV5pcI"}],"key":"oPmtA3aGWE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2.2: Create the Case","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kHU1qQxjGK"}],"identifier":"step-2-2-create-the-case","label":"Step 2.2: Create the Case","html_id":"step-2-2-create-the-case","implicit":true,"key":"lZOmx8ZVFR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To create the CESM case, instantiate the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yOcp339Dcf"},{"type":"inlineCode","value":"Case","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UP4ywLsVXh"},{"type":"text","value":" object as shown below. This will automatically set up the CESM case based on the provided inputs: The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DG5C0lAWNc"},{"type":"inlineCode","value":"cesmroot","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QQOaYcigjk"},{"type":"text","value":" argument specifies the path to your local CESM source directory.\nThe ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ff9GLmb8WY"},{"type":"inlineCode","value":"caseroot","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qxQqUvCOWI"},{"type":"text","value":" argument defines the directory where the case will be created. CrocoDash will handle all necessary namelist modifications and XML changes to align with the MOM6 domain objects generated earlier.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V5Tup1vkwp"}],"key":"AefYt1VAjl"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Remember to change/remove your project ID (with parameter ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pCpgSf5Gx1"},{"type":"inlineCode","value":"project","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mBj8iCmwp3"},{"type":"text","value":") and machine (with parameter ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"g1l6gl7bxT"},{"type":"inlineCode","value":"machine","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zvysgjUNz9"},{"type":"text","value":", likely ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HHkwcQkny3"},{"type":"inlineCode","value":"derecho","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"FZszAgKNr7"},{"type":"text","value":") as needed.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IKG8fpZhJT"}],"key":"y9G9SWGXXf"}],"key":"H9QBgFpp9d"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.case import Case\n\ncase = Case(\n    cesmroot = cesmroot,\n    caseroot = caseroot,\n    inputdir = inputdir,\n    ocn_grid = grid,\n    ocn_vgrid = vgrid,\n    ocn_topo = topo,\n    project = 'P93300012', # Switch this\n    override = True,\n    machine = \"derecho\", # And this\n    compset = \"1850_DATM%JRA_SLND_CICE_MOM6_SROF_SGLC_SWAV\", \n)","key":"OvgC3dAQYn"},{"type":"outputs","id":"sJgQ2b_w7O7wJvzF4Bjvd","children":[],"key":"gVpG30QG93"}],"key":"ShtEvShanL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 3: Prepare ocean forcing data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NwPcoMDFju"}],"identifier":"section-3-prepare-ocean-forcing-data","label":"Section 3: Prepare ocean forcing data","html_id":"section-3-prepare-ocean-forcing-data","implicit":true,"key":"p5wS04M5PB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We need to cut out our ocean forcing. The package expects an initial condition and one time-dependent segment per non-land boundary. Naming convention is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"swXb92rNAU"},{"type":"inlineCode","value":"\"east_unprocessed\"","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"InIIwc1Oz8"},{"type":"text","value":" for segments and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ra48EQCQN2"},{"type":"inlineCode","value":"\"ic_unprocessed\"","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V5iP4jOP4h"},{"type":"text","value":" for the initial condition.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AEs7Lzr4Gg"}],"key":"Vwa0yiYWCd"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this notebook, we are forcing with the Copernicus Marine “Glorys” reanalysis dataset. There’s a function in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NQw5N10mL7"},{"type":"inlineCode","value":"CrocoDash","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZEXA1V50Zk"},{"type":"text","value":" package, called ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RB7VQMj2ee"},{"type":"inlineCode","value":"configure_forcings","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"i6LN9eDhG6"},{"type":"text","value":", that generates a bash script to download the correct boundary forcing files for your experiment. First, you will need to create an account with Copernicus, and then call ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RrrOCC0g0H"},{"type":"inlineCode","value":"copernicusmarine login","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jaKO1Kdjzg"},{"type":"text","value":" to set up your login details on your machine. Then you can run the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AOOgibSzvn"},{"type":"inlineCode","value":"get_glorys_data.sh","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ssV5gfvjL8"},{"type":"text","value":" bash script.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AaNRU2XT9m"}],"key":"Fk8zlQLOFX"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Step 3.1 Configure Initial Conditions and Forcings","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wKvjSVLAqK"}],"identifier":"step-3-1-configure-initial-conditions-and-forcings","label":"Step 3.1 Configure Initial Conditions and Forcings","html_id":"step-3-1-configure-initial-conditions-and-forcings","implicit":true,"key":"UhOOwLCeHA"}],"key":"OkGLdZhwA5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.case import Case\ncase.configure_forcings(\n    date_range = [\"2020-01-01 00:00:00\", \"2020-01-09 00:00:00\"],\n)","key":"a8lyhp4uHY"},{"type":"outputs","id":"G5pDfFEbzFuXQ-2yA2oWa","children":[],"key":"YNKCbXEXlu"}],"key":"p5NkkRaqLH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3.2 Run ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iYoF5cnnZm"},{"type":"inlineCode","value":"get_glorys_data.sh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QtnQOuff6u"}],"identifier":"step-3-2-run-get-glorys-data-sh","label":"Step 3.2 Run get_glorys_data.sh","html_id":"step-3-2-run-get-glorys-data-sh","implicit":true,"key":"Ao3wY5J0IQ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Follow the instructions printed by the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xuZfi4G0gt"},{"type":"inlineCode","value":"configure_forcings","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vUW0btWGpH"},{"type":"text","value":" method above to navigate to your ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ww9HYN51Gz"},{"type":"inlineCode","value":"glorys","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QBoAW1sXBJ"},{"type":"text","value":" folder.\nOnce you’re in your ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yqzrOElfDY"},{"type":"inlineCode","value":"/glorys","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VDus8fjCzB"},{"type":"text","value":" folder, run ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xMW8c8Wlj9"},{"type":"inlineCode","value":"chmod +x get_glorys_data.sh","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nnEjvaoiBD"},{"type":"text","value":" to enable execution of the bash script. Also activate your conda environment with:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sGJ9xeOhKU"}],"key":"VGVbmVuXGy"},{"type":"code","lang":"bash","value":"module load conda \u0026\u0026 conda activate CrocoDash ! or the name of the virtual environment you have installed with CrocoDash enabled","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"key":"Y334B98rqx"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"if you haven’t done so. Finally, run ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"S4mrB788mQ"},{"type":"inlineCode","value":"./get_glorys_data.sh","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"iitJS1t9Mk"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"X6dFHJiSg7"}],"key":"rmuk16hBvJ"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Note","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OP3C4f27bN"}],"key":"tn0EKnInrX"},{"type":"text","value":": You’ll have to enter your login multiple times for ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"D0v6j56Rhu"},{"type":"inlineCode","value":"copernicus marine","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"mQIyQbPNob"},{"type":"text","value":". Do not escape the script until finished.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"fi58NjfWwG"}],"key":"tJaPa8eoA6"}],"key":"KMfDnm7XPM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TODO:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ijwwuv9B0S"}],"key":"n3fFjgReUg"},{"type":"text","value":" user copernicusmarine python API within CrocoDash, instead of directing users to run it via CLI. Also, on a derecho login node, both CLI and API fails to run due to the computational demand. We also need to address that.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DHY1bOAwL0"}],"key":"TG0C69Hk6X"}],"key":"rQSNxG3TVC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3.3: Process forcing data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KJq0yEqWvA"}],"identifier":"step-3-3-process-forcing-data","label":"Step 3.3: Process forcing data","html_id":"step-3-3-process-forcing-data","implicit":true,"key":"VbNc3oJ48n"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this final step, we call the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a5FYAV4K6q"},{"type":"inlineCode","value":"process_forcings","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TjbIFN3f8K"},{"type":"text","value":" method of CrocoDash to cut out and interpolate the initial condition as well as all boundaries. CrocoDash also updates MOM6 runtime parameters and CESM xml variables accordingly.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jauEGcyexj"}],"key":"Y3EkQyNNeT"}],"key":"W2NAzgneZo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"case.process_forcings()","key":"gxLkji2oB0"},{"type":"outputs","id":"p-zqCGQwoLhyEdu6IPq7q","children":[],"key":"ee0kzQg60d"}],"key":"CMb6qA3BUw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Optional: Use restart files as initial condition for your run","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qo8ElXN56X"}],"identifier":"optional-use-restart-files-as-initial-condition-for-your-run","label":"Optional: Use restart files as initial condition for your run","html_id":"optional-use-restart-files-as-initial-condition-for-your-run","implicit":true,"key":"x9Ady9wtWT"}],"key":"MxwF8Ba9he"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In case you want to start the model with a restart file instead of using the generated initial condition, follow the below steps. Note that you have to have finished a run beforehand for the restart files to appear.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pr4LKWPoxq"}],"key":"xtkc1SrAtt"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Locate your restart file - they are usually in your previous case’s ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"IWXRR4P8qP"},{"type":"inlineCode","value":"/archive/rest/\u003cyear\u003e","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"voM0lTaCaK"},{"type":"text","value":" folder with a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yXqfU6sk2D"},{"type":"inlineCode","value":".r","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wQU0b0Sqn2"},{"type":"text","value":" infix, e.g., ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lF5pp6DjD2"},{"type":"inlineCode","value":"cice.test.cice.r.1994-01-01-00000.nc","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VeBz7E4NTn"},{"type":"text","value":".\nIf you do not know your ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dGs1sMXoih"},{"type":"inlineCode","value":"/archive","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"V1YYTVXHwz"},{"type":"text","value":" folder location, run ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ns9ysXaa8t"},{"type":"inlineCode","value":"./xmlquery DOUT_S_ROOT","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"r1PTHJ3TGI"},{"type":"text","value":" in your (previous) case folder, which will return a path similar to ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"U8OODVzUEQ"},{"type":"inlineCode","value":"DOUT_S_ROOT: \u003cPATH TO ARCHIVE\u003e","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"GM0ZvslJT0"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Debxeuf58y"}],"key":"YHOPMPFg4s"}],"key":"a2DRVymkA4"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Use the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OCPrYj819W"},{"type":"inlineCode","value":"cp","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Fpwwj2qJnj"},{"type":"text","value":" command to copy the file to your current case ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ezfW823F1W"},{"type":"inlineCode","value":"/run","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UvMmef3q00"},{"type":"text","value":" directory, e.g., ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nxcwnwbpeY"},{"type":"inlineCode","value":"cp cice.test.cice.r.1994-01-01-00000.nc \u003cyour_run_dir\u003e","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wcjEQhHlJf"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oIyHEQkstp"}],"key":"sUkfCdNi2L"}],"key":"rBHHFrUtuy"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Open ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"l3kK8Meuza"},{"type":"inlineCode","value":"user_nl_cice","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"b6CNq3xJEt"},{"type":"text","value":" in your case directory again and change the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"S9t2Qcwwb8"},{"type":"inlineCode","value":"ice_ic","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RNfI03UBMK"},{"type":"text","value":" variable from ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u2x3xheu88"},{"type":"inlineCode","value":"\"UNSET\"","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xQDjelIjng"},{"type":"text","value":" to your file name, e.g., ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"btTBkChrBW"},{"type":"inlineCode","value":"ice_ic=cice.test.cice.r.1994-01-01-00000.nc","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yCXisaA7EN"}],"key":"TLa5K7scQW"}],"key":"Dc0DYLLwwD"}],"key":"AXZfh2la9v"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Your file will now be used automatically as the ice initial condition for your next run. Note that ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YOhwObah79"},{"type":"inlineCode","value":".h","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"e7Xwy57d6X"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MPN9WFW14y"},{"type":"inlineCode","value":".h1","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gvWlkly1jl"},{"type":"text","value":" files (i.e. history files) currently ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"r2byNI6k6S"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"cannot be used","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IQ4MpzpaMB"}],"key":"G0RAVNpx29"},{"type":"text","value":" as initial conditions for CICE.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"pA69FME3iS"}],"key":"e19Qb4Elgt"}],"key":"uxXy7x8Qha"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 5: Build and run the case","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"enY3v5NDVb"}],"identifier":"section-5-build-and-run-the-case","label":"Section 5: Build and run the case","html_id":"section-5-build-and-run-the-case","implicit":true,"key":"UjBvrQ8IUB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"After completing the previous steps, you are ready to build and run your CESM case. Begin by navigating to the case root directory specified during the case creation. Before proceeding, review the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dxf5ciTD7D"},{"type":"inlineCode","value":"user_nl_mom","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B0PwKAKjlM"},{"type":"text","value":" file located in the case directory. This file contains MOM6 parameter settings that were automatically generated by CrocoDash. Carefully examine these parameters and make any necessary adjustments to fine-tune the model for your specific requirements. While CrocoDash aims to provide a solid starting point, further tuning and adjustments are typically necessary to improve the model for your use case.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FyAcFUIdAz"}],"key":"YMJOw1aDgA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Once you have reviewed and modified the parameters as needed, you can build and execute the case using the following commands:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yh0tVT4YUd"}],"key":"yDRJFOHwRM"},{"type":"code","lang":"","value":"./case.build\n./case.submit","position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"key":"yCHqsYDLkB"}],"key":"AHq5oMPVEJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Optional: Write full grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ga4e8ZGb5h"}],"identifier":"optional-write-full-grid","label":"Optional: Write full grid","html_id":"optional-write-full-grid","implicit":true,"key":"Wk8uT7kAqM"}],"key":"kijs6z0Dn1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The function below will output the full MOM6 grid in case you need it!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TlaP6wme2o"}],"key":"zXGfDhtAlp"}],"key":"YrZB461RiW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\nfrom CrocoDash.grid import Grid\n\n# List of explicitly defined grid metric attributes\nvarnames = [\n    \"tlon\", \"tlat\", \"ulon\", \"ulat\", \"vlon\", \"vlat\", \"qlon\", \"qlat\",\n    \"dxt\", \"dyt\", \"dxCv\", \"dyCu\", \"dxCu\", \"dyCv\", \"angle\", \"tarea\"\n]\n\ndata_vars = {name: getattr(grid, name) for name in varnames}\n\n# Create Dataset\nds = xr.Dataset(data_vars)\nds.attrs[\"name\"] = getattr(grid, \"_name\", \"unnamed_grid\")\n\n# Write to NetCDF\nds.to_netcdf(\"antarctica_fullvar_grid.nc\") # Change as needed!","key":"hfCrCsbXbw"},{"type":"outputs","id":"EIzpBuZZcpqgjDx-3dOkC","children":[],"key":"JaNYkyFsHt"}],"key":"Y6g16NQHvo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Check your variables!\nfor name in varnames:\n    var = getattr(grid, name)\n    print(f\"{name}: shape={var.shape}, dims={getattr(var, 'dims', 'unknown')}\")","key":"k6dVEZoLeE"},{"type":"outputs","id":"mC8sa4c6434lC891zlUfO","children":[],"key":"Rg1YZzZcRM"}],"key":"kHD4tp3fNN"}],"key":"FjeFbF3WXv"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Setup the NWA12 domain through CrocoDash","url":"/notebooks/use-cases/three-boundary","group":"Developmental Use Cases"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["/home/runner/work/CrocoGallery/CrocoGallery/gallery/references.bib"],"exports":[],"title":"CROCODILE Gallery","github":"https://github.com/CROCODILE-CESM/CrocoGallery","parts":{"banner":{"mdast":{"type":"root","children":[{"type":"block","data":{"part":"banner"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","children":[{"type":"text","value":"Looking for the old CrocoGallery?","key":"UbOSzt308X"}],"key":"z7JSRmOQ75"},{"type":"text","value":"\nNo worries — the 2025 CROCODILE workshop site is\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vHjhd8kvJf"},{"type":"link","url":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","children":[{"type":"text","value":"right here →","key":"Gf5kApcogP"}],"urlSource":"https://crocodile-cesm.github.io/CrocoGallery/workshop_2025","key":"HTnSMHU7qL"}],"key":"LS8Zj3eE58"}],"key":"aXSyye2R3O"}],"key":"NIjvKAX8sr"},"frontmatter":{"github":"https://github.com/CROCODILE-CESM/CrocoGallery","source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/myst.yml#project.parts.banner","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/myst.yml#project.parts.banner"}}},"toc":[{"file":"intro.md"},{"children":[{"file":"notebooks/tutorials/crocodash_tutorial.ipynb"},{"children":[{"file":"notebooks/diagnostics/CUPiD_intro.md","title":"Installing CUPiD"},{"file":"notebooks/diagnostics/standalone_CUPiD.md","title":"Running a CUPiD Example"},{"children":[{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Report_Card.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Animations.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_Atmospheric_Forcing.ipynb"},{"file":"notebooks/diagnostics/cupid_output/Regional_Ocean_OBC.ipynb"},{"file":"notebooks/projects/model-obs_comparison.md"}],"file":"notebooks/diagnostics/CUPiD_output.md","title":"Output from CUPiD Example"}],"file":"notebooks/diagnostics/CUPiD_for_regional_MOM6.md","title":"CUPiD Diagnostics Tutorial"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"}],"title":"Tutorials"},{"children":[{"children":[{"children":[{"file":"notebooks/features/add_bgc.ipynb"},{"file":"notebooks/features/add_cice.ipynb"}],"title":"Coupling crocodash_tutorial"},{"children":[{"file":"notebooks/features/subset_global.ipynb"},{"file":"notebooks/features/add_grids.ipynb"}],"title":"Grid Customization crocodash_tutorial"},{"children":[{"file":"notebooks/features/too_much_data.ipynb"},{"file":"notebooks/features/add_data_products.ipynb"}],"title":"Data Product crocodash_tutorial"},{"children":[{"file":"notebooks/features/add_rof.ipynb"},{"file":"notebooks/features/add_runoff_product.ipynb"},{"file":"notebooks/features/add_chl.ipynb"},{"file":"notebooks/features/add_tides.ipynb"}],"title":"Additional Component crocodash_tutorial"}],"title":"CrocoDash Features"}],"title":"Features"},{"children":[{"file":"notebooks/projects/CrocoDash.ipynb"},{"children":[{"file":"notebooks/projects/sample_crocodash_projects/BGC.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/NWA.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_antarctica.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/CICE_arctic.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/DROF.ipynb"},{"file":"notebooks/projects/sample_crocodash_projects/Everything.ipynb"}],"title":"Sample CrocoDash Projects"},{"children":[{"file":"notebooks/projects/tutorial1_MOM6-CL-comparison.ipynb"},{"file":"notebooks/projects/tutorial2_MOM6-CL-comparison-float.ipynb"},{"file":"notebooks/projects/tutorial3_CrocoLake_map_temperature.ipynb"},{"file":"notebooks/projects/tutorial4_MOM6-WOD13-comparison.ipynb"},{"file":"notebooks/projects/model-obs_your_own_model.ipynb"}],"file":"notebooks/projects/model-obs_comparison.md","title":"Model-Observation Comparison crocodash_tutorial and Projects"},{"file":"notebooks/projects/CARIB12_EKE_TS.ipynb","title":"Calculate EKE for CARIB12"},{"children":[{"file":"notebooks/diagnostics/CUPiD_in_CESM_Workflow.md","title":"Running CUPiD within CESM"},{"file":"notebooks/diagnostics/contributing_to_CUPiD.md","title":"Contributing to CUPiD"}],"file":"notebooks/diagnostics/CUPiD_projects.md","title":"Advanced CUPiD Tutorial"}],"title":"2025 CROCODILE Workshop Projects"},{"children":[{"file":"notebooks/use_cases/three_boundary_from_t232.ipynb"},{"file":"notebooks/use_cases/three_boundary.ipynb"},{"file":"notebooks/use_cases/mom6_cice_antarctica.ipynb"}],"title":"Developmental Use Cases"}],"index":"index","pages":[{"level":1,"title":"Tutorials"},{"slug":"notebooks.tutorials.crocodash-tutorial","title":"Basic CrocoDash Tutorial","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-for-regional-mom6","title":" CUPiD Diagnostics Tutorial ","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/tos_animation-84e9cb9ad15a1bfc1a56d8e57974ef04.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-intro","title":"Installing CUPiD","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/Jupyter_Terminal-cf5ea47978be51a63663c5a63a157621.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.standalone-cupid","title":"Running a CUPiD Example","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/data_sources-fdc61a9657d24ec8b0b3847eaa517067.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output","title":"Output from CUPiD Example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-report-card","title":"Regional Ocean: Basic Region and Surface Field Visualization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-animations","title":"Regional Ocean: Animations of Surface Fields","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-atmospheric-forcing","title":"Regional Ocean: Atmospheric Forcing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.diagnostics.cupid-output.regional-ocean-obc","title":"Regional Ocean: Checking Open Boundary Conditions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.projects.model-obs-comparison-1","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Features"},{"level":2,"title":"CrocoDash Features"},{"level":3,"title":"Coupling crocodash_tutorial"},{"slug":"notebooks.features.add-bgc","title":"Run a coupled biogeochemistry (MARBL) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-cice","title":"Run a coupled sea ice (CICE) \u0026 ocean (MOM6) model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Grid Customization crocodash_tutorial"},{"slug":"notebooks.features.subset-global","title":"Add Global Subset Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-grids","title":"Use Custom Pre-Generated Grids","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Data Product crocodash_tutorial"},{"slug":"notebooks.features.too-much-data","title":"Setup Iterative OBC generation (for Long CESM-MOM6 runs) w/ the  Large Data Workflow (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-data-products","title":"Use different data products w/ the CrocoDash Data Access Module","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":3,"title":"Additional Component crocodash_tutorial"},{"slug":"notebooks.features.add-rof","title":"Add data runoff from GLOFAS or JRA to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-runoff-product","title":"Adding your own runoff product to the CESM (Advanced)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-chl","title":"Add Chlorophyll Files to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"notebooks.features.add-tides","title":"Add Boundary Tides to the Run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"level":1,"title":"2025 CROCODILE Workshop Projects"},{"slug":"notebooks.projects.crocodash","title":"CrocoDash Workshop Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":2,"title":"Sample CrocoDash Projects"},{"slug":"notebooks.projects.sample-crocodash-projects.bgc","title":"BGC Sample Project","description":"","date":"","thumbnail":"/CrocoGallery/latest/build/CACurrent_topo-424f43ac8b62cccbbd8acc1e602c14f5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.nwa","title":"NWA12 Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-antarctica","title":"CICE Antarctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.cice-arctic","title":"CICE Arctic Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.drof","title":"DROF Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.sample-crocodash-projects.everything","title":"BGC-DROF-Tides-Chl-CICE Sample Project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-comparison-2","title":"Model-Observations Comparison","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.projects.tutorial1-mom6-cl-comparison-1","title":"Tutorial 1: Model-Observation comparison with MOM6 and CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial2-mom6-cl-comparison-float-1","title":"Tutorial 2: Model-Observation comparison with MOM6 and a single Argo float from CrocoLake","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial3-crocolake-map-temperature-1","title":"CrocoLake - Temperature map in the North West Atlantic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.tutorial4-mom6-wod13-comparison-1","title":"Model-Observation comparison with MOM6 and World Ocean Database","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.model-obs-your-own-model-1","title":"Model-Observation comparison: use your own MOM6 run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.projects.carib12-eke-ts","title":"Calculate EKE for CARIB12","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-projects","title":" Advanced CUPiD Tutorial ","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.diagnostics.cupid-in-cesm-workflow","title":"Running CUPiD within CESM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"notebooks.diagnostics.contributing-to-cupid","title":"Contributing to CUPiD","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Developmental Use Cases"},{"slug":"notebooks.use-cases.three-boundary-from-t232","title":"Make a lowres domain for DA dev work!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.three-boundary","title":"Setup the NWA12 domain through CrocoDash","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.use-cases.mom6-cice-antarctica","title":"Set up a rectangular regional CESM-MOM6-CICE coupled run","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/CrocoGallery/latest/build/manifest-86A905A4.js";
import * as route0 from "/CrocoGallery/latest/build/root-CXYA7X5D.js";
import * as route1 from "/CrocoGallery/latest/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/CrocoGallery/latest/build/entry.client-PCJPW7TK.js");</script></body></html>