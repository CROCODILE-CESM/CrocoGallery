{"version":3,"kind":"Notebook","sha256":"9304d7f169d256ce377fd3f09ab58c04b1b204f496f3a0eaf090079517ed512b","slug":"notebooks.features.add-rof","location":"/notebooks/features/add_rof.ipynb","dependencies":[],"frontmatter":{"title":"Add data runoff from GLOFAS or JRA to the Run","content_includes_title":false,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":3}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/notebooks/features/add_rof.ipynb","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/notebooks/features/add_rof.ipynb","exports":[{"format":"ipynb","filename":"add_rof.ipynb","url":"/CrocoGallery/latest/build/add_rof-de06ac5cf39aa9c298bd47dae47964b4.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"GLOFAS & JRA ships as part of the CESM","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wJxmX8CmKD"}],"key":"af4lLY6LFW"}],"key":"IpeOV6B3sr"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Add DROF%GLOFAS or DROF%JRA to the compset","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UbDQ8F5zup"}],"key":"QZYzw76uMU"}],"key":"AImdKiTqGr"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Pass in the ESMF Mesh File for the dataset to configure_forcings to get the mapping from the GLOFAS data to your domain (will take time and resources)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QAjluKy4zd"}],"key":"ImQMsRnlq2"}],"key":"MIYoZKppx9"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"See below for an example","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Wc7plTnV3V"}],"key":"Ux9DTTt0kj"}],"key":"aW1YBsCK5m"}],"key":"SnpVs5xUk9"}],"key":"ksZDsslkmg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from CrocoDash.case import Case\n\ncase = Case(\n    cesmroot = cesmroot,\n    caseroot = caseroot,\n    inputdir = inputdir,\n    ocn_grid = grid,\n    ocn_vgrid = vgrid,\n    ocn_topo = topo,\n    project = 'NCGD0011',\n    override = True,\n    machine = \"derecho\",\n    compset = \"CR_JRA_GLOFAS\" # If you'd like JRA, use the compset longname!\n)","key":"h27KPMa4D6"},{"type":"outputs","id":"IC9rfZbeY0wnWI7sqxjtp","children":[],"key":"cA4EouVp00"}],"key":"z9LH4qU1bF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"case.configure_forcings(\n    date_range = [\"2000-01-01 00:00:00\", \"2000-02-01 00:00:00\"],\n    runoff_esmf_mesh_filepath = \"<ESMF_MESH_PATH>\" # For runoff mapping, the esmf mesh file of the input dataset\n)\n","key":"N0fLNsKekh"},{"type":"outputs","id":"Q3khR_yPGBPlXM5cuzWpl","children":[],"key":"QqAMJCC5Kw"}],"key":"Y9pxZLrJCW"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"SZuqF0aAfc"}],"key":"JPQguwYBUc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"If youâ€™re working on ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"IDP8mA0W0b"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Derecho","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"e4wCqrmSF3"}],"key":"Womrw7hMYs"},{"type":"text","value":" or ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"syYdmqQQzl"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Casper","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"I8DlfIuNqq"}],"key":"A9BuIS0Ljk"},{"type":"text","value":", you can use the following paths:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MbCIHCoZA0"}],"key":"JxeFv1PyDz"},{"type":"code","lang":"python","value":"GLOFAS ESMF Mesh: \"/glade/campaign/cesm/cesmdata/cseg/inputdata/ocn/mom/croc/rof/glofas/dis24/GLOFAS_esmf_mesh_v4.nc\"\nJRA ESMF Mesh: \"/glade/campaign/cesm/cesmdata/inputdata/lnd/dlnd7/JRA55/JRA.v1.4.runoff.1958_ESMFmesh_cdf5_20201020.nc\"","key":"RaQmRGWbZO"}],"key":"PUM5adYvNm"},{"type":"code","lang":"","value":"","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EntvEkUjCQ"}],"key":"Sgj7v2mnEA"}],"key":"Rwmt4L8miZ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Use different data products w/ the CrocoDash Data Access Module","url":"/notebooks/features/add-data-products","group":"Data Product crocodash_tutorial"},"next":{"title":"Adding your own runoff product to the CESM (Advanced)","url":"/notebooks/features/add-runoff-product","group":"Additional Component crocodash_tutorial"}}},"domain":"http://localhost:3000"}