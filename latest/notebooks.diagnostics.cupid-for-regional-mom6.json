{"version":3,"kind":"Article","sha256":"63bd526f796191547329c38f84e128e99f7214cb92a105331d1b546c4b0ef5b7","slug":"notebooks.diagnostics.cupid-for-regional-mom6","location":"/notebooks/diagnostics/CUPiD_for_regional_MOM6.md","dependencies":[],"frontmatter":{"title":" CUPiD Diagnostics Tutorial ","content_includes_title":false,"github":"https://github.com/CROCODILE-CESM/CrocoGallery","numbering":{"title":{"offset":1}},"source_url":"https://github.com/CROCODILE-CESM/CrocoGallery/blob/main/gallery/notebooks/diagnostics/CUPiD_for_regional_MOM6.md","edit_url":"https://github.com/CROCODILE-CESM/CrocoGallery/edit/main/gallery/notebooks/diagnostics/CUPiD_for_regional_MOM6.md","thumbnail":"/CrocoGallery/latest/build/tos_animation-13f0b9ede0a1b2fa0749ee34b75308c9.gif","exports":[{"format":"md","filename":"CUPiD_for_regional_MOM6.md","url":"/CrocoGallery/latest/build/CUPiD_for_regional_M-fa539df43a37fceffcd79114c48a4e1c.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"image","url":"/CrocoGallery/latest/build/tos_animation-13f0b9ede0a1b2fa0749ee34b75308c9.gif","alt":"SST Animation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"I3nak2azwZ","urlSource":"../../images/CUPiD/tos_animation.gif"},{"type":"text","value":"\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DPauu7MlmV"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Goal:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IkpLEYYX4M"}],"key":"fFO4krFMBv"},{"type":"text","value":" In this tutorial, you’ll learn how to make the above animation (and other diagnostic plots).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CkiomEZWUl"}],"key":"GJqSSXOboo"},{"type":"div","class":"alert alert-info","children":[{"type":"details","children":[{"type":"summary","children":[{"type":"heading","depth":4,"children":[{"type":"text","value":"  Warm up the Engine – Start a JupyterHub Server","key":"uZhTFd1LEu"}],"identifier":"warm-up-the-engine-start-a-jupyterhub-server","label":"  Warm up the Engine – Start a JupyterHub Server","html_id":"warm-up-the-engine-start-a-jupyterhub-server","implicit":true,"key":"koooMHDZbS"}],"key":"e1Jwvn0x4i"},{"type":"text","value":"If you are not already logged into ","key":"lIsLAUirZ2"},{"type":"link","url":"https://jupyterhub.hpc.ucar.edu/","children":[{"type":"text","value":"jupter.hub.ucar.edu ","key":"HLTiutAc5m"}],"urlSource":"https://jupyterhub.hpc.ucar.edu/","key":"HidNgXUWKK"},{"type":"text","value":", please navigate there and start a new server. ","key":"CYQtBX5kAg"},{"type":"strong","children":[{"type":"text","value":"Required Settings","key":"dhX6YrNTT8"}],"key":"xEuiZjjApo"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Resource Selection: ","key":"zcKRtl6FTQ"},{"type":"strong","children":[{"type":"text","value":"Casper PBS Batch","key":"eaZ7G2hT56"}],"key":"mLCCGzQROa"}],"key":"yJJaZpKVO5"}],"key":"fASJeMtD3W"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Queue or Reservation: ","key":"xqAL54rPWW"},{"type":"strong","children":[{"type":"text","value":"tutorial","key":"vHaBZiXSey"}],"key":"Hj3fU7XnDL"}],"key":"Xf6uYfI6bP"}],"key":"qMZP5oYScw"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Project Account: ","key":"jnE41597EC"},{"type":"strong","children":[{"type":"text","value":"CESM0030","key":"TDdBJxcXSc"}],"key":"hhHFMbNjVu"}],"key":"ch3BM5zMRY"}],"key":"Bdl61ZEK1k"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"text","value":"...","key":"PQ0HnRGPzJ"}],"key":"hW060qHzdM"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Specify Memory per Node in GB: ","key":"LsM0g8R4Vm"},{"type":"strong","children":[{"type":"text","value":"20","key":"H8LxmQ47X8"}],"key":"AVuCWDvuka"}],"key":"o5YnZ6A5pO"}],"key":"boDOf7NIFL"}],"key":"kKfSXkqAam"},{"type":"text","value":"Leave everything else the same!","key":"H1EMqhGpOt"}],"key":"q7owWs9V68"}],"key":"uaG45b5ujA"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"CESM3 includes the CESM Unified Postprocessing and Diagnostics (","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"CAHRNm52Ji"},{"type":"link","url":"https://ncar.github.io/CUPiD/","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"CUPiD","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"pB3NERca2t"}],"urlSource":"https://ncar.github.io/CUPiD/","key":"KenRDJ75pf"},{"type":"text","value":") python framework.\nDevelopment is guided by its vision statement:","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"jheRBnZNMM"}],"key":"vXP09a4v14"},{"type":"blockquote","position":{"start":{"line":25,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"CUPiD is a “one stop shop” that enables and integrates timeseries file generation, data standardization, diagnostics, and metrics from all CESM components.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Gag7pv9BXL"}],"key":"L6ZwAlGVsn"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"This collaborative effort aims to simplify the user experience of running diagnostics by calling post-processing tools directly from CUPiD,\nrunning all component diagnostics from the same tool as either part of the CIME workflow or independently,\nand sharing python code and a standard conda environment across components.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"rHd3FvBL1M"}],"key":"OF1IhjlQNj"}],"key":"ooEGscAYZd"},{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"CUPiD for Regional MOM6","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"tT8Cb6tYtO"}],"identifier":"cupid-for-regional-mom6","label":"CUPiD for Regional MOM6","html_id":"cupid-for-regional-mom6","implicit":true,"key":"MIcXxRmg0G"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"CUPiD is a broad package designed to pull many independent tasks together and standardize common parts of the CESM postprocessing workflow.\nFor postprocessing, CUPiD is automating the process of converting CESM output to the standard format required for the Coupled Model Intercomparison Project (","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"HCUMazwihr"},{"type":"link","url":"https://wcrp-cmip.org/","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"CMIP","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"wrdCXGTAgA"}],"urlSource":"https://wcrp-cmip.org/","key":"JrM1lkeUbQ"},{"type":"text","value":").","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"VCTypF3Uam"}],"key":"n3NOXuptjS"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"This tutorial is going to focus on the diagnostic side of CUPiD and tools for accessing and manipulating MOM6 output.\nCUPiD is designed to make it easy for users to run existing notebooks to look at output from all components of CESM,\nbut we will focus on a set of MOM6 notebooks meant to analyze regional runs.\nParticipants will install CUPiD and then familiarize themselves with it by looking at diagnostics from an existing regional MOM6 run in stand-alone mode.\nDuring project worktime there are also instructions for","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"FZSs4ATa0j"}],"key":"CruT8uoJmn"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":42,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"running the same diagnostics on a user-generated regional MOM6 run (with CESM integration), and","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"qbxzs0s2yK"}],"key":"JIGPIHAtqT"}],"key":"PpfRkBY6zO"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"contributing more diagnostics to the CUPiD project.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"tbrnvpH7Ai"}],"key":"zzn9a4uWbC"}],"key":"EQ37FpNvhY"}],"key":"B5mICBEvY7"},{"type":"heading","depth":2,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Your Turn!","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"ZhkKDFAeeE"}],"identifier":"your-turn","label":"Your Turn!","html_id":"your-turn","implicit":true,"key":"peTzaerprr"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"As we progress through this tutorial, think about what kinds of diagnostics might be helpful for general regions and your specific regions of interest.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"UNuYsVINnC"}],"key":"NV0BQ3ly5U"},{"type":"heading","depth":3,"position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Ideas for New Notebooks","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"rYsHmmkZWY"}],"identifier":"ideas-for-new-notebooks","label":"Ideas for New Notebooks","html_id":"ideas-for-new-notebooks","implicit":true,"key":"b7qOkINICp"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"This is a brief list of some possible topics/notebooks to contribute from a regional ocean perspective. Add your own!","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"gnTOpy8MgY"}],"key":"AM5SWp9ZK4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":50,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Comparison to Other Model Output/Reanalysis Products:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"xVolUOZFCh"}],"key":"X4IADhGP8a"},{"type":"text","value":" compare model output to other model output or a reanalysis product (","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"vPgWNS50XQ"},{"type":"link","url":"https://github.com/NCAR/CUPiD/blob/main/nblibrary/atm/Global_PSL_NMSE_compare_obs_lens.ipynb","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Global Atmspheric Observations Example","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"uFGZ3ALKzB"}],"urlSource":"https://github.com/NCAR/CUPiD/blob/main/nblibrary/atm/Global_PSL_NMSE_compare_obs_lens.ipynb","data":{"kind":"file","org":"NCAR","repo":"CUPiD","reference":"main","file":"nblibrary/atm/Global_PSL_NMSE_compare_obs_lens.ipynb","raw":"https://raw.githubusercontent.com/NCAR/CUPiD/main/nblibrary/atm/Global_PSL_NMSE_compare_obs_lens.ipynb"},"internal":false,"protocol":"github","key":"oJBcrCpvUU"},{"type":"text","value":"). CUPiD is already setup with this in mind with the ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"mwx1tX76kj"},{"type":"inlineCode","value":"base_case","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"qBwtysdlYd"},{"type":"text","value":" global parameters.","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"yLbliGZ6Ni"}],"key":"nJhFWcW1zb"}],"key":"lEniA9x2mj"},{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"Transport through Passages:","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"p1t8zWJX5X"}],"key":"CbO7TmEyUd"},{"type":"text","value":" MOM6 lets you define transects to calculate transport through different passages. These transects are defined in the ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"RNoYeEFoMr"},{"type":"inlineCode","value":"diag_table","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"F6SlofQPvw"},{"type":"text","value":" so a notebook would need to chek if any transects are defined and then visualize/analyze them appropriately. Comparing to observations could be tricky and very helpful!","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"hElxtQXTno"}],"key":"RPDyybHWSc"}],"key":"filL1JNxIB"},{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"Region Aware Diagnostics:","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"wbnlObpZ1g"}],"key":"pNh6V0cHUT"},{"type":"text","value":" Different regions might benefit from a different standard sets of diagnostics. Even simple adjustments like choosing a different projection for plotting or looking at sea ice in the arctic.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"wOpsIJDa69"}],"key":"ezB6Vx6hfD"}],"key":"uQVUCahaOO"}],"key":"bTopo2TpP2"}],"key":"b6LFHGKvlG"}],"key":"KFbPIyDAdq"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Basic CrocoDash Tutorial","url":"/notebooks/tutorials/crocodash-tutorial","group":"Tutorials"},"next":{"title":"Installing CUPiD","url":"/notebooks/diagnostics/cupid-intro","group":"Tutorials"}}},"domain":"http://localhost:3000"}